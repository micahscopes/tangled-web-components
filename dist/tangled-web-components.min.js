!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(this,function(){"use strict";function t(){function t(t){var i=e.call(this,t);return r.observe(i,n),i}var e=Ii.prototype.attachShadow,n={childList:!0,subtree:!0},r=new Vi(function(t){t.forEach(function(t){var e=t.target;if("STYLE"===e.tagName){var n=e.nextSibling,r=e.parentNode;r.removeChild(e),r.insertBefore(e,n)}})});Object.defineProperty(Ii.prototype,"attachShadow",{configurable:!0,enumerable:!0,value:t,writable:!0})}function e(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function n(t,e){return e={exports:{}},t(e,e.exports),e.exports}function r(t,e){if(t)for(var n=t.childNodes,r=n.length,i=0;i<r;i++){var o=e(n[i],i,n);if("undefined"!=typeof o)return o}}function i(t){for(var e=[],n=t.length-1;n>=0;n--)e.push(t[n]);return e}function o(t,e){if(t instanceof DocumentFragment)for(var n=t.childNodes,r=n.length,o=r-1;o>=0;o--){var a=i(t.childNodes)[o];e(a,o)}else e(t,0)}function a(t,e){for(var n=void 0;t&&!(n=Object.getOwnPropertyDescriptor(t,e));)t=Object.getPrototypeOf(t);return n}function s(t,e){t instanceof Node&&(t=so);var n=a(t,e);if(n){var r=n.get,i=n.set,o={configurable:!0,enumerable:!0};if(r)return o.get=r,o.set=i,o;if("function"==typeof t[e])return o.value=t[e],o}var s=Object.getOwnPropertyDescriptor(t,e);if(s&&s.get)return s}function u(t){return t.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(t){return t.textContent}function c(t){return t.text||"<!--"+t.textContent+"-->"}function h(t){return"SLOT"===t.tagName}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.childNodes;if(Zi&&!Ji)return[].concat(Pi.toConsumableArray(t.querySelectorAll("content")));if(!n||[Node.ELEMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE].indexOf(t.nodeType)===-1)return e;for(var r=n.length,i=0;i<r;i++){var o=n[i];h(o)&&e.push(o),l(o,e)}return e}function d(t){return"_SHADOW_ROOT_"===t.tagName}function p(t){var e=document.createElement("div");if(fo)return e.__innerHTML=t,e;for(var n=No.parseFromString("<div>"+t+"</div>","text/html").body.firstChild;n.hasChildNodes();){var r=n.firstChild;n.removeChild(r),e.appendChild(r)}return document.importNode(e,!0)}function _(t,e,n){Object.defineProperty(t,e,{configurable:!0,get:function(){return n}})}function y(t){return this[t]}function v(t){return t.item=y,t}function m(t){return!!Eo.get(t)}function g(t){return m(t)?"host":h(t)?"slot":d(t)?"root":"node"}function b(t,e){for(;t&&t!==document;){if(e(t))return t;t=t.parentNode}}function w(t){return t.getAttribute&&t.getAttribute("name")||"default"}function x(t){return t.getAttribute&&t.getAttribute("slot")||"default"}function E(t,e,n){if(bo.indexOf(e.nodeType)!==-1){var r=t.assignedNodes(),i=0===r.length,o=r.indexOf(n);To.set(e,t),i&&lo.call(t.childNodes,function(e){return t.__removeChild(e)}),o>-1?(t.__insertBefore(e,void 0!==n?n:null),r.splice(o,0,e)):(t.__appendChild(e),r.push(e)),t.____triggerSlotChangeEvent()}}function M(t){var e=To.get(t);if(e){var n=e.assignedNodes(),r=n.indexOf(t);if(r>-1){var i=1===n.length;n.splice(r,1),To.set(t,null),e.__removeChild(t),i&&lo.call(e.childNodes,function(t){return e.__appendChild(t)}),e.____triggerSlotChangeEvent()}}}function A(t,e){for(var n=t.childNodes,r=n.length,i=0;i<r;i++)if(n[i]===e)return i;return-1}function T(t,e,n,r){var i=A(t,n);o(e,function(e,n){r(e,n),fo?Ao.set(e,t):_(e,"parentNode",t),i>-1?ho.splice.call(t.childNodes,i+n,0,e):ho.push.call(t.childNodes,e)})}function S(t,e,n){var r=A(t,e);r>-1&&(n(e,0),fo?Ao.set(e,null):_(e,"parentNode",null),ho.splice.call(t.childNodes,r,1))}function C(t,e,n){T(t,e,n,function(e){t.__insertBefore(e,void 0!==n?n:null)})}function O(t,e,n){T(t,e,n,function(e){var r=Eo.get(t),i=Co.get(r),o=i[x(e)];o&&E(o,e,n)})}function N(t,e){var n=w(e);fo||Array.isArray(e.childNodes)||_(e,"childNodes",co(e.childNodes)),Co.get(t)[n]=e,Oo.has(e)||Oo.set(e,t),r(So.get(t),function(t){t.assignedSlot||n!==x(t)||E(e,t)})}function k(t,e,n){o(e,function(e){if(h(e))N(t,e);else{var n=l(e);if(n)for(var r=n.length,i=0;i<r;i++)N(t,n[i])}}),C(t,e,n)}function z(t,e,n){var r=0===t.assignedNodes().length;T(t,e,n,function(e){r&&t.__insertBefore(e,void 0!==n?n:null)})}function L(t,e){var n=0===t.assignedNodes().length;S(t,e,function(){n&&t.__removeChild(e)})}function j(t,e){S(t,e,function(){t.__removeChild(e)})}function D(t,e){S(t,e,function(){M(e)})}function P(t,e){var n=Array.prototype.slice.call(e.assignedNodes());n.forEach(M),delete Co.get(t)[w(e)],Oo.delete(e)}function H(t,e){S(t,e,function(){if(h(e))P(t,e);else{var n=l(e);if(n)for(var r=0;r<n.length;r++)P(t,n[r])}t.__removeChild(e)})}function I(t){if(d(t))return t;if(t.parentNode)return I(t.parentNode)}function V(t,e,n){var r=g(t),i=e.parentNode,o=I(t);return fo||Array.isArray(t.childNodes)||_(t,"childNodes",co(t.childNodes)),o&&"slot"===g(e)&&N(o,e),i&&"host"===g(i)&&(fo?Ao.set(e,null):_(e,"parentNode",null)),!fo&&i&&i.removeChild(e),"node"===r?fo?(Ao.set(e,t),t.__insertBefore(e,void 0!==n?n:null)):C(t,e,n):"slot"===r?z(t,e,n):"host"===r?O(t,e,n):"root"===r?k(t,e,n):void 0}function F(t){if(fo&&"slot"===g(t)&&t.__childNodes.length!==t.childNodes.length){for(;t.hasChildNodes();)t.removeChild(t.firstChild);lo.call(t.__childNodes,function(e){return t.appendChild(e)})}}function U(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.enumOnly,r=void 0!==n&&n,i=Object[r?"keys":"getOwnPropertyNames"](t);return"function"==typeof Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i}function q(t){return"undefined"==typeof t||null===t}function B(t,e){var n={};return Object.keys(e).forEach(function(r){n[r]=t[r],t[r]=e[r]}),n}function $(t,e){jo(t,e)}function R(t,e){return function(n){return function(){var r=B(t,e),i=n.apply(void 0,arguments);return $(t,r),i}}}function Y(t,e,n){var r=t[ia];r||(r=t[ia]={});var i=r[e];i&&t.removeEventListener(e,i),n&&t.addEventListener(e,r[e]=n)}function W(t){return"function"==typeof t?t[Ho]||t:t}function X(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;sa=[t,e,n]}function Z(){var t=pa.apply(void 0,Pi.toConsumableArray(sa));return sa=null,t}function J(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fa;return function n(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i[0]=W(i[0]),aa=null,"function"==typeof i[0])return aa=i[0],e.apply(void 0,i);if(na.length)na[na.length-1].push([n,i]);else{if(t===ha){if(ua)return++ua;var a=t.apply(void 0,i);return a[ra]&&++ua,a}if(t===Zo){if(1===ua&&Ko(),ua&&--ua)return;var s=t.apply(void 0,i),u=s[Vo];return delete s[Vo],"function"==typeof u&&u(s),s}if(!ua||t===X||t===Z)return t.apply(void 0,i)}}}function K(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];aa?aa[oa][e[0]]=e[1]:na.length?na[na.length-1].push([K,e]):(sa.push(e[0]),sa.push(e[1]))}function G(t,e,n){for(var r={key:e,statics:n},i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];for(var s=0;s<o.length;s+=2)r[o[s]]=o[s+1];t[oa]=r,na.push([])}function Q(t){var e=na.pop(),n=t[oa];delete t[oa];var r=t(n,function(){return e.forEach(function(t){return t[0].apply(t,Pi.toConsumableArray(t[1]))})});return"function"==typeof r?r():r}function tt(t,e){for(var n="undefined"==typeof e?"undefined":Pi.typeof(e),r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return"function"!==n&&"string"!==n&&"number"!==n||i.unshift(e),null!==e&&"object"===n||(e={}),la(t,e.key,e.statics),delete e.key,delete e.statics,Object.keys(e).forEach(function(t){return K(t,e[t])}),da(t),i.forEach(function(t){var e="undefined"==typeof t?"undefined":Pi.typeof(t);"function"===e?t():"string"===e||"number"===e?ya(t):Array.isArray(t)&&t.forEach(function(t){return t()})}),_a(t)}function et(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return tt.bind.apply(tt,[null].concat(e))}:e.map(function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return tt.bind.apply(tt,[null,t].concat(n))}})}function nt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.__SKATE_DATA||(t.__SKATE_DATA={});return e&&(n[e]||(n[e]={}))||n}function rt(t){var e=!1,n=0,r=[],i=document.createElement("span"),o=new ba(function(){t.apply(void 0,Pi.toConsumableArray(r)),e=!1,r=null});return o.observe(i,{childList:!0}),function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];r=o,e||(e=!0,i.textContent=""+n,n+=1)}}function it(t){var e=!1,n=[];return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];n=i,e||(e=!0,setTimeout(function(){e=!1,t.apply(void 0,Pi.toConsumableArray(n))},1))}}function ot(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U(t).reduce(function(e,n){return e[n]=Object.getOwnPropertyDescriptor(t,n),e},{})}function at(t){var e={};return U(t.constructor.props).forEach(function(n){e[n]=t[n]}),e}function st(t,e){jo(t,e),t.constructor[Fo]&&t.constructor[Fo](t)}function ut(t,e){return"undefined"==typeof e?at(t):st(t,e)}function ft(t,e,n){return"function"==typeof n.default?n.default(t,{name:e}):n.default}function ct(t,e,n){return"function"==typeof n.initial?n.initial(t,{name:e}):n.initial}function ht(t,e){var n=nt(t,"props");return n[e]||(n[e]={})}function lt(t,e,n,r,i){var o=i.lastAssignedValue;q(o)&&("initial"in e?o=ct(t,n,e):"default"in e&&(o=ft(t,n,e))),!q(o)&&e.serialize&&(o=e.serialize(o)),q(o)||(i.syncingAttribute=!0,t.setAttribute(r,o))}function dt(t,e,n,r,i){if(r&&!i.settingAttribute){var o=i.internalValue,a=e.serialize(o),s=t.getAttribute(r),u=q(a),f=!(u&&q(s)||a===s);i.syncingAttribute=!0;var c=q(i.lastAssignedValue);c||u?t.removeAttribute(r):t.setAttribute(r,a),!f&&i.syncingAttribute&&(i.syncingAttribute=!1)}i.settingAttribute=!1}function pt(t,e,n,r){var i=nt(t,"propertyLinks")[n],o=ht(t,n);i&&(r?lt(t,e,n,i,o):dt(t,e,n,i,o))}function _t(t){var e=nt(t),n=e.readyCallbacks,r=t.constructor;t[Po]||(t[Po]=!0,t[qo]=wa(r[Fo].bind(r)),r.props&&r[Io]&&r[Io](t),"function"==typeof r.created&&r.created(t),n&&(n.forEach(function(e){return e(t)}),delete e.readyCallbacks))}function yt(t){var e=t.constructor.props;Object.keys(e).forEach(function(n){var r=e[n];pt(t,r,n,!0)})}function vt(t){var e=t.constructor;yt(t),t[Do]=!0,t[qo](t),"function"==typeof e.attached&&e.attached(t),t.setAttribute("defined","")}function mt(t){var e=t.constructor;t[Do]=!1,"function"==typeof e.detached&&e.detached(t)}function gt(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r="object"===("undefined"==typeof Reflect?"undefined":Pi.typeof(Reflect))?Reflect.construct(Ea,e,this.constructor):Ea.call(this,e[0]);return _t(r),r}function bt(t){return t.split(/([A-Z])/).reduce(function(t,e,n){var r=t&&n%2!==0?"-":"";return""+t+r+e.toLowerCase()})}function wt(t,e){var n={configurable:!0,enumerable:!0};return n.created=function(n){var r=ht(n,t),i=e.attribute===!0?bt(t):e.attribute,o=n[t];nt(n,"attributeLinks")[i]=t,nt(n,"propertyLinks")[t]=i,q(o)&&(i&&n.hasAttribute(i)?o=e.deserialize(n.getAttribute(i)):"initial"in e?o=ct(n,t,e):"default"in e&&(o=ft(n,t,e))),r.internalValue=e.coerce?e.coerce(o):o},n.get=function(){var n=ht(this,t),r=n.internalValue;return"function"==typeof e.get?e.get(this,{name:t,internalValue:r}):r},n.set=function(n){var r=ht(this,t);r.lastAssignedValue=n;var i=r.oldValue;q(i)&&(i=null),q(n)&&(n=ft(this,t,e)),"function"==typeof e.coerce&&(n=e.coerce(n));var o={name:t,newValue:n,oldValue:i};"function"==typeof e.set&&e.set(this,o),this[qo](this),r.internalValue=r.oldValue=n,this[Do]&&pt(this,e,t,!1)},n}function xt(t){return t=t||{},"function"==typeof t&&(t={coerce:t}),function(e){return wt(e,jo({default:null,deserialize:function(t){return t},serialize:function(t){return t}},t))}}function Et(t){var e=t.props;return U(e).reduce(function(t,n){return t[n]=e[n],"function"!=typeof t[n]&&(t[n]=xt(t[n])),t},{})}function Mt(t){var e=Et(t);return U(e).reduce(function(t,n){return t[n]=e[n](n),t},{})}function At(t){var e=t.observedAttributes,n=t.props;n&&(U(n).forEach(function(t){var r=n[t],i=r.attribute;if(i){var o=r.attribute=i===!0?bt(t):i;e.indexOf(o)===-1&&e.push(o)}}),Object.defineProperty(t,"observedAttributes",{configurable:!0,enumerable:!0,get:function(){return e}}))}function Tt(t){var e=Mt(t);return function(t){e&&U(e).forEach(function(n){var r=e[n];r.created(t),Object.defineProperty(t,n,r)})}}function St(t){var e="xxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)});return t+"-"+e}function Ct(t,e){e[Ho]=t,e[Io]=Tt(e)}function Ot(t,e){if(void 0===e)throw new Error("You have to define options to register a component "+t);var n="object"===("undefined"==typeof e?"undefined":Pi.typeof(e))?gt.extend(e):e;if(At(n),!window.customElements)throw new Error("Skate requires native custom element support or a polyfill.");var r=t;return window.customElements.get(t)&&(r=St(t)),Ct(r,n),window.customElements.define(r,n,n.extends?{extends:n.extends}:null),n}function Nt(t,e){return{x:e.clientX-t.clientX,y:e.clientY-t.clientY}}function kt(t,e){return{x:t.x+e.x,y:t.y+e.y}}function zt(t,e){e=e?e:200,setTimeout(function(){t.style.cursor="move",t.style.userSelect="none";var n=function(e){t.style.top=e.y+"px",t.style.left=e.x+"px"},r=Ta.fromEvents(document,"mouseup"),i=Ta.fromEvents(document,"mousemove"),o=Ta.fromEvents(t,"mousedown");o.onValue(Sa);var a=o.flatMap(function(t){return i.takeUntilBy(r).diff(Nt,t)}),s=t.getBoundingClientRect(),u=window.getComputedStyle(t),f={x:parseInt(s.left)-parseInt(u.marginLeft),y:parseInt(s.top)-parseInt(u.marginTop)},c=a.scan(kt,f);setTimeout(function(){t.style.position="absolute",c.onValue(n)},e),t[Lt]=function(){t.style.cursor="default",t.style.userSelect="default",c.offValue(n),o.offValue(Sa)}},50)}function Lt(t){t[Lt]()}function jt(t){return Na(t,"graph-container")}function Dt(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ja.hasOwnProperty(e)?{space:ja[e],local:t}:t}function Pt(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===La&&e.documentElement.namespaceURI===La?e.createElement(t):e.createElementNS(n,t)}}function Ht(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function It(t){var e=Dt(t);return(e.local?Ht:Pt)(e)}function Vt(t,e,n){return t=Ft(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function Ft(t,e,n){return function(r){var i=Fa;Fa=r;try{t.call(this,this.__data__,e,n)}finally{Fa=i}}}function Ut(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function qt(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function Bt(t,e,n){var r=Va.hasOwnProperty(t.type)?Vt:Ft;return function(i,o,a){var s,u=this.__on,f=r(e,o,a);if(u)for(var c=0,h=u.length;c<h;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=f,s.capture=n),void(s.value=e);this.addEventListener(t.type,f,n),s={type:t.type,name:t.name,value:e,listener:f,capture:n},u?u.push(s):this.__on=[s]}}function $t(t,e,n){var r,i,o=Ut(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?Bt:qt,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,f=0,c=s.length;f<c;++f)for(r=0,u=s[f];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}}function Rt(){}function Yt(t){return null==t?Rt:function(){return this.querySelector(t)}}function Wt(t){"function"!=typeof t&&(t=Yt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,f=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),f[c]=a);return new cn(r,this._parents)}function Xt(){return[]}function Zt(t){return null==t?Xt:function(){return this.querySelectorAll(t)}}function Jt(t){"function"!=typeof t&&(t=Zt(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,f=0;f<u;++f)(a=s[f])&&(r.push(t.call(a,a.__data__,f,s)),i.push(a));return new cn(r,i)}function Kt(t){"function"!=typeof t&&(t=Ia(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],f=0;f<s;++f)(o=a[f])&&t.call(o,o.__data__,f,a)&&u.push(o);return new cn(r,this._parents)}function Gt(t){return new Array(t.length)}function Qt(){return new cn(this._enter||this._groups.map(Gt),this._parents)}function te(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ee(t){return function(){return t}}function ne(t,e,n,r,i,o){for(var a,s=0,u=e.length,f=o.length;s<f;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new te(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function re(t,e,n,r,i,o,a){var s,u,f,c={},h=e.length,l=o.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=f=qa+a.call(u,u.__data__,s,e),f in c?i[s]=u:c[f]=u);for(s=0;s<l;++s)f=qa+a.call(t,o[s],s,o),(u=c[f])?(r[s]=u,u.__data__=o[s],c[f]=null):n[s]=new te(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c[d[s]]===u&&(i[s]=u)}function ie(t,e){if(!t)return d=new Array(this.size()),f=-1,this.each(function(t){d[++f]=t}),d;var n=e?re:ne,r=this._parents,i=this._groups;"function"!=typeof t&&(t=ee(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),f=0;f<o;++f){var c=r[f],h=i[f],l=h.length,d=t.call(c,c&&c.__data__,f,r),p=d.length,_=s[f]=new Array(p),y=a[f]=new Array(p),v=u[f]=new Array(l);n(c,h,_,y,v,d,e);for(var m,g,b=0,w=0;b<p;++b)if(m=_[b]){for(b>=w&&(w=b+1);!(g=y[w])&&++w<p;);m._next=g||null}}return a=new cn(a,r),a._enter=s,a._exit=u,a}function oe(){return new cn(this._exit||this._groups.map(Gt),this._parents)}function ae(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,f=e[s],c=n[s],h=f.length,l=a[s]=new Array(h),d=0;d<h;++d)(u=f[d]||c[d])&&(l[d]=u);for(;s<r;++s)a[s]=e[s];return new cn(a,this._parents)}function se(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}function ue(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=fe);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,f=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(f[c]=a);f.sort(e)}return new cn(i,this._parents).order()}function fe(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function ce(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function he(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function le(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function de(){var t=0;return this.each(function(){++t}),t}function pe(){return!this.node()}function _e(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}function ye(t){return function(){this.removeAttribute(t)}}function ve(t){return function(){this.removeAttributeNS(t.space,t.local)}}function me(t,e){return function(){this.setAttribute(t,e)}}function ge(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function be(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function we(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function xe(t,e){var n=Dt(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?ve:ye:"function"==typeof e?n.local?we:be:n.local?ge:me)(n,e))}function Ee(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Me(t){return function(){this.style.removeProperty(t)}}function Ae(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Te(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Se(t,e,n){var r;return arguments.length>1?this.each((null==e?Me:"function"==typeof e?Te:Ae)(t,e,null==n?"":n)):Ee(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)}function Ce(t){return function(){delete this[t]}}function Oe(t,e){return function(){this[t]=e}}function Ne(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function ke(t,e){return arguments.length>1?this.each((null==e?Ce:"function"==typeof e?Ne:Oe)(t,e)):this.node()[t]}function ze(t){return t.trim().split(/^|\s+/)}function Le(t){return t.classList||new je(t)}function je(t){this._node=t,this._names=ze(t.getAttribute("class")||"")}function De(t,e){for(var n=Le(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function Pe(t,e){for(var n=Le(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function He(t){return function(){De(this,t)}}function Ie(t){return function(){Pe(this,t)}}function Ve(t,e){return function(){(e.apply(this,arguments)?De:Pe)(this,t)}}function Fe(t,e){var n=ze(t+"");if(arguments.length<2){for(var r=Le(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?Ve:e?He:Ie)(n,e))}function Ue(){this.textContent=""}function qe(t){return function(){this.textContent=t}}function Be(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function $e(t){return arguments.length?this.each(null==t?Ue:("function"==typeof t?Be:qe)(t)):this.node().textContent}function Re(){this.innerHTML=""}function Ye(t){return function(){this.innerHTML=t}}function We(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Xe(t){return arguments.length?this.each(null==t?Re:("function"==typeof t?We:Ye)(t)):this.node().innerHTML}function Ze(){this.nextSibling&&this.parentNode.appendChild(this)}function Je(){return this.each(Ze)}function Ke(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ge(){return this.each(Ke)}function Qe(t){var e="function"==typeof t?t:It(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function tn(){return null}function en(t,e){var n="function"==typeof t?t:It(t),r=null==e?tn:"function"==typeof e?e:Yt(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function nn(){var t=this.parentNode;t&&t.removeChild(this)}function rn(){return this.each(nn)}function on(t){return arguments.length?this.property("__data__",t):this.node().__data__}function an(t,e,n){var r=Ee(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function sn(t,e){return function(){return an(this,t,e)}}function un(t,e){return function(){return an(this,t,e.apply(this,arguments))}}function fn(t,e){return this.each(("function"==typeof e?un:sn)(t,e))}function cn(t,e){this._groups=t,this._parents=e}function hn(){return new cn([[document.documentElement]],Ba)}function ln(t){return"string"==typeof t?new cn([document.querySelectorAll(t)],[document.documentElement]):new cn([null==t?[]:t],Ba)}function dn(){}function pn(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function _n(t){this._context=t}function yn(t,e){this._basis=new _n(t),this._beta=e}function vn(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function mn(t,e){this._context=t,this._k=(1-e)/6}function gn(t,e){this._context=t,this._k=(1-e)/6}function bn(t,e){this._context=t,this._k=(1-e)/6}function wn(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>$a){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>$a){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*f+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function xn(t,e){this._context=t,this._alpha=e}function En(t,e){this._context=t,this._alpha=e}function Mn(t,e){this._context=t,this._alpha=e}function An(t){return t<0?-1:1}function Tn(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(An(o)+An(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Sn(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Cn(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function On(t){this._context=t}function Nn(t){this._context=new kn(t)}function kn(t){this._context=t}function zn(t){return new Za(t.left+t.width/2,t.top+t.height/2)}function Ln(t){return new Za(t.width/2,t.height/2)}function jn(t,e,n,r,i,o){i=i?i:Math.PI/16,o=o?o:0,void 0==n&&(n=Ja),1==n&&(n=2),void 0==r&&(r=Ja),1==r&&(r=2);var a=zn(t),s=zn(e),u=Ln(t),f=Ln(e),c=s.clone().subtract(a.clone()).angle(),h=Ga(c+i,n,u.x+o,u.y+o).add(a),l=Ga(c-i+Math.PI,r,f.x+o,f.y+o).add(s);return[h,l]}function Dn(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Pn(t){return 1===t.length&&(t=Hn(t)),{left:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(null==r&&(r=0),null==i&&(i=e.length);r<i;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function Hn(t){return function(e,n){return Dn(t(e),n)}}function In(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Vn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Fn(){}function Un(t){var e;return t=(t+"").trim().toLowerCase(),(e=ul.exec(t))?(e=parseInt(e[1],16),new Yn(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1)):(e=fl.exec(t))?qn(parseInt(e[1],16)):(e=cl.exec(t))?new Yn(e[1],e[2],e[3],1):(e=hl.exec(t))?new Yn(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ll.exec(t))?Bn(e[1],e[2],e[3],e[4]):(e=dl.exec(t))?Bn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=pl.exec(t))?Wn(e[1],e[2]/100,e[3]/100,1):(e=_l.exec(t))?Wn(e[1],e[2]/100,e[3]/100,e[4]):yl.hasOwnProperty(t)?qn(yl[t]):"transparent"===t?new Yn(NaN,NaN,NaN,0):null}function qn(t){return new Yn(t>>16&255,t>>8&255,255&t,1)}function Bn(t,e,n,r){return r<=0&&(t=e=n=NaN),new Yn(t,e,n,r)}function $n(t){return t instanceof Fn||(t=Un(t)),t?(t=t.rgb(),new Yn(t.r,t.g,t.b,t.opacity)):new Yn}function Rn(t,e,n,r){return 1===arguments.length?$n(t):new Yn(t,e,n,null==r?1:r)}function Yn(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Wn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Jn(t,e,n,r)}function Xn(t){if(t instanceof Jn)return new Jn(t.h,t.s,t.l,t.opacity);if(t instanceof Fn||(t=Un(t)),!t)return new Jn;if(t instanceof Jn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Jn(a,s,u,t.opacity)}function Zn(t,e,n,r){return 1===arguments.length?Xn(t):new Jn(t,e,n,null==r?1:r)}function Jn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Kn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Gn(t){if(t instanceof tr)return new tr(t.l,t.a,t.b,t.opacity);if(t instanceof sr){var e=t.h*vl;return new tr(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof Yn||(t=$n(t));var n=ir(t.r),r=ir(t.g),i=ir(t.b),o=er((.4124564*n+.3575761*r+.1804375*i)/bl),a=er((.2126729*n+.7151522*r+.072175*i)/wl),s=er((.0193339*n+.119192*r+.9503041*i)/xl);return new tr(116*a-16,500*(o-a),200*(a-s),t.opacity)}function Qn(t,e,n,r){return 1===arguments.length?Gn(t):new tr(t,e,n,null==r?1:r)}function tr(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function er(t){return t>Tl?Math.pow(t,1/3):t/Al+El}function nr(t){return t>Ml?t*t*t:Al*(t-El)}function rr(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function ir(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function or(t){if(t instanceof sr)return new sr(t.h,t.c,t.l,t.opacity);t instanceof tr||(t=Gn(t));var e=Math.atan2(t.b,t.a)*ml;return new sr(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function ar(t,e,n,r){return 1===arguments.length?or(t):new sr(t,e,n,null==r?1:r)}function sr(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function ur(t){if(t instanceof cr)return new cr(t.h,t.s,t.l,t.opacity);t instanceof Yn||(t=$n(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(jl*r+zl*e-Ll*n)/(jl+zl-Ll),o=r-i,a=(kl*(n-i)-Ol*o)/Nl,s=Math.sqrt(a*a+o*o)/(kl*i*(1-i)),u=s?Math.atan2(a,o)*ml-120:NaN;return new cr(u<0?u+360:u,s,i,t.opacity)}function fr(t,e,n,r){return 1===arguments.length?ur(t):new cr(t,e,n,null==r?1:r)}function cr(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hr(t){return function(){return t}}function lr(t,e){return function(n){return t+n*e}}function dr(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function pr(t,e){var n=e-t;return n?lr(t,n>180||n<-180?n-360*Math.round(n/360):n):hr(isNaN(t)?e:t)}function _r(t){return 1===(t=+t)?yr:function(e,n){return n-e?dr(e,n,t):hr(isNaN(e)?n:e)}}function yr(t,e){var n=e-t;return n?lr(t,n):hr(isNaN(t)?e:t)}function vr(t){return function e(n){function r(e,r){var i=t((e=fr(e)).h,(r=fr(r)).h),o=yr(e.s,r.s),a=yr(e.l,r.l),s=yr(e.opacity,r.opacity);return function(t){return e.h=i(t),e.s=o(t),e.l=a(Math.pow(t,n)),e.opacity=s(t),e+""}}return n=+n,r.gamma=e,r}(1)}function mr(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function gr(t){return t=mr(Math.abs(t)),t?t[1]:NaN}function br(t,e){return function(n,r){for(var i=n.length,o=[],a=0,s=t[0],u=0;i>0&&s>0&&(u+s+1>r&&(s=Math.max(1,r-u)),o.push(n.substring(i-=s,i+s)),!((u+=s+1)>r));)s=t[a=(a+1)%t.length];return o.reverse().join(e)}}function wr(t,e){t=t.toPrecision(e);t:for(var n,r=t.length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:o>0&&(o=0)}return o>0?t.slice(0,o)+t.slice(n+1):t}function xr(t,e){var n=mr(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Dl=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+mr(t,Math.max(0,e+o-1))[0]}function Er(t,e){var n=mr(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}function Mr(t){return new Ar(t)}function Ar(t){if(!(e=Il.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],f=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):Hl[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=f,this.type=c}function Tr(t){return t}function Sr(t){function e(t){function e(t){var e,i,u,m=p,g=_;if("c"===d)g=y(t)+g,
t="";else{t=+t;var b=(t<0||1/t<0)&&(t*=-1,!0);if(t=y(t,l),b)for(e=-1,i=t.length,b=!1;++e<i;)if(u=t.charCodeAt(e),48<u&&u<58||"x"===d&&96<u&&u<103||"X"===d&&64<u&&u<71){b=!0;break}if(m=(b?"("===s?s:"-":"-"===s||"("===s?"":s)+m,g=g+("s"===d?ql[8+Dl/3]:"")+(b&&"("===s?")":""),v)for(e=-1,i=t.length;++e<i;)if(u=t.charCodeAt(e),48>u||u>57){g=(46===u?o+t.slice(e+1):t.slice(e))+g,t=t.slice(0,e);break}}h&&!f&&(t=r(t,1/0));var w=m.length+t.length+g.length,x=w<c?new Array(c-w+1).join(n):"";switch(h&&f&&(t=r(x+t,x.length?c-g.length:1/0),x=""),a){case"<":return m+t+g+x;case"=":return m+x+t+g;case"^":return x.slice(0,w=x.length>>1)+m+t+g+x.slice(w)}return x+m+t+g}t=Mr(t);var n=t.fill,a=t.align,s=t.sign,u=t.symbol,f=t.zero,c=t.width,h=t.comma,l=t.precision,d=t.type,p="$"===u?i[0]:"#"===u&&/[boxX]/.test(d)?"0"+d.toLowerCase():"",_="$"===u?i[1]:/[%p]/.test(d)?"%":"",y=Hl[d],v=!d||/[defgprs%]/.test(d);return l=null==l?d?6:12:/[gprs]/.test(d)?Math.max(1,Math.min(21,l)):Math.max(0,Math.min(20,l)),e.toString=function(){return t+""},e}function n(t,n){var r=e((t=Mr(t),t.type="f",t)),i=3*Math.max(-8,Math.min(8,Math.floor(gr(n)/3))),o=Math.pow(10,-i),a=ql[8+i/3];return function(t){return r(o*t)+a}}var r=t.grouping&&t.thousands?br(t.grouping,t.thousands):Tr,i=t.currency,o=t.decimal;return{format:e,formatPrefix:n}}function Cr(t){return Vl=Sr(t),Fl=Vl.format,Ul=Vl.formatPrefix,Vl}function Or(t,e,n,r){function i(e){return t(e=new Date(+e)),e}return i.floor=i,i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return a;do a.push(new Date(+n));while(e(n,o),t(n),n<r);return a},i.filter=function(n){return Or(function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)},function(t,r){if(t>=t)for(;--r>=0;)for(;e(t,1),!n(t););})},n&&(i.count=function(e,r){return Bl.setTime(+e),$l.setTime(+r),t(Bl),t($l),Math.floor(n(Bl,$l))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t===0}:function(e){return i.count(0,e)%t===0}):i:null}),i}function Nr(t){return Or(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wl)/Jl})}function kr(t){return Or(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/Jl})}function zr(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Lr(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function jr(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function Dr(t){function e(t,e){return function(n){var r,i,o,a=[],s=-1,u=0,f=t.length;for(n instanceof Date||(n=new Date(+n));++s<f;)37===t.charCodeAt(s)&&(a.push(t.slice(u,s)),null!=(i=cd[r=t.charAt(++s)])?r=t.charAt(++s):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),u=s+1);return a.push(t.slice(u,s)),a.join("")}}function n(t,e){return function(n){var i=jr(1900),o=r(i,t,n+="",0);if(o!=n.length)return null;if("p"in i&&(i.H=i.H%12+12*i.p),"W"in i||"U"in i){"w"in i||(i.w="W"in i?1:0);var a="Z"in i?Lr(jr(i.y)).getUTCDay():e(jr(i.y)).getDay();i.m=0,i.d="W"in i?(i.w+6)%7+7*i.W-(a+5)%7:i.w+7*i.U-(a+6)%7}return"Z"in i?(i.H+=i.Z/100|0,i.M+=i.Z%100,Lr(i)):e(i)}}function r(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(r>=u)return-1;if(i=e.charCodeAt(a++),37===i){if(i=e.charAt(a++),o=q[i in cd?e.charAt(a++):i],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function i(t,e,n){var r=N.exec(e.slice(n));return r?(t.p=k[r[0].toLowerCase()],n+r[0].length):-1}function o(t,e,n){var r=j.exec(e.slice(n));return r?(t.w=D[r[0].toLowerCase()],n+r[0].length):-1}function a(t,e,n){var r=z.exec(e.slice(n));return r?(t.w=L[r[0].toLowerCase()],n+r[0].length):-1}function s(t,e,n){var r=I.exec(e.slice(n));return r?(t.m=V[r[0].toLowerCase()],n+r[0].length):-1}function u(t,e,n){var r=P.exec(e.slice(n));return r?(t.m=H[r[0].toLowerCase()],n+r[0].length):-1}function f(t,e,n){return r(t,x,e,n)}function c(t,e,n){return r(t,E,e,n)}function h(t,e,n){return r(t,M,e,n)}function l(t){return S[t.getDay()]}function d(t){return T[t.getDay()]}function p(t){return O[t.getMonth()]}function _(t){return C[t.getMonth()]}function y(t){return A[+(t.getHours()>=12)]}function v(t){return S[t.getUTCDay()]}function m(t){return T[t.getUTCDay()]}function g(t){return O[t.getUTCMonth()]}function b(t){return C[t.getUTCMonth()]}function w(t){return A[+(t.getUTCHours()>=12)]}var x=t.dateTime,E=t.date,M=t.time,A=t.periods,T=t.days,S=t.shortDays,C=t.months,O=t.shortMonths,N=Ir(A),k=Vr(A),z=Ir(T),L=Vr(T),j=Ir(S),D=Vr(S),P=Ir(C),H=Vr(C),I=Ir(O),V=Vr(O),F={a:l,A:d,b:p,B:_,c:null,d:ti,e:ti,H:ei,I:ni,j:ri,L:ii,m:oi,M:ai,p:y,S:si,U:ui,w:fi,W:ci,x:null,X:null,y:hi,Y:li,Z:di,"%":Ci},U={a:v,A:m,b:g,B:b,c:null,d:pi,e:pi,H:_i,I:yi,j:vi,L:mi,m:gi,M:bi,p:w,S:wi,U:xi,w:Ei,W:Mi,x:null,X:null,y:Ai,Y:Ti,Z:Si,"%":Ci},q={a:o,A:a,b:s,B:u,c:f,d:Wr,e:Wr,H:Zr,I:Zr,j:Xr,L:Gr,m:Yr,M:Jr,p:i,S:Kr,U:Ur,w:Fr,W:qr,x:c,X:h,y:$r,Y:Br,Z:Rr,"%":Qr};return F.x=e(E,F),F.X=e(M,F),F.c=e(x,F),U.x=e(E,U),U.X=e(M,U),U.c=e(x,U),{format:function(t){var n=e(t+="",F);return n.toString=function(){return t},n},parse:function(t){var e=n(t+="",zr);return e.toString=function(){return t},e},utcFormat:function(t){var n=e(t+="",U);return n.toString=function(){return t},n},utcParse:function(t){var e=n(t,Lr);return e.toString=function(){return t},e}}}function Pr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function Hr(t){return t.replace(dd,"\\$&")}function Ir(t){return new RegExp("^(?:"+t.map(Hr).join("|")+")","i")}function Vr(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Fr(t,e,n){var r=hd.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Ur(t,e,n){var r=hd.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function qr(t,e,n){var r=hd.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Br(t,e,n){var r=hd.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function $r(t,e,n){var r=hd.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Rr(t,e,n){var r=/^(Z)|([+-]\d\d)(?:\:?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Yr(t,e,n){var r=hd.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Wr(t,e,n){var r=hd.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Xr(t,e,n){var r=hd.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Zr(t,e,n){var r=hd.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Jr(t,e,n){var r=hd.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Kr(t,e,n){var r=hd.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Gr(t,e,n){var r=hd.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Qr(t,e,n){var r=ld.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function ti(t,e){return Pr(t.getDate(),e,2)}function ei(t,e){return Pr(t.getHours(),e,2)}function ni(t,e){return Pr(t.getHours()%12||12,e,2)}function ri(t,e){return Pr(1+Kl.count(td(t),t),e,3)}function ii(t,e){return Pr(t.getMilliseconds(),e,3)}function oi(t,e){return Pr(t.getMonth()+1,e,2)}function ai(t,e){return Pr(t.getMinutes(),e,2)}function si(t,e){return Pr(t.getSeconds(),e,2)}function ui(t,e){return Pr(Gl.count(td(t),t),e,2)}function fi(t){return t.getDay()}function ci(t,e){return Pr(Ql.count(td(t),t),e,2)}function hi(t,e){return Pr(t.getFullYear()%100,e,2)}function li(t,e){return Pr(t.getFullYear()%1e4,e,4)}function di(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Pr(e/60|0,"0",2)+Pr(e%60,"0",2)}function pi(t,e){return Pr(t.getUTCDate(),e,2)}function _i(t,e){return Pr(t.getUTCHours(),e,2)}function yi(t,e){return Pr(t.getUTCHours()%12||12,e,2)}function vi(t,e){return Pr(1+ed.count(id(t),t),e,3)}function mi(t,e){return Pr(t.getUTCMilliseconds(),e,3)}function gi(t,e){return Pr(t.getUTCMonth()+1,e,2)}function bi(t,e){return Pr(t.getUTCMinutes(),e,2)}function wi(t,e){return Pr(t.getUTCSeconds(),e,2)}function xi(t,e){return Pr(nd.count(id(t),t),e,2)}function Ei(t){return t.getUTCDay()}function Mi(t,e){return Pr(rd.count(id(t),t),e,2)}function Ai(t,e){return Pr(t.getUTCFullYear()%100,e,2)}function Ti(t,e){return Pr(t.getUTCFullYear()%1e4,e,4)}function Si(){return"+0000"}function Ci(){return"%"}function Oi(t){return od=Dr(t),ad=od.format,sd=od.parse,ud=od.utcFormat,fd=od.utcParse,od}function Ni(t){return t.toISOString()}function ki(t){var e=new Date(t);return isNaN(e)?null:e}function zi(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}function Li(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return _d.h=360*t-100,_d.s=1.5-1.5*e,_d.l=.8-.9*e,_d+""}function ji(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}function Di(t,e){for(var n=Array(),r=0;r<e;r++)n=n.concat(t);return n}var Pi={};Pi.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Pi.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Pi.createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Pi.defineProperty=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},Pi.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},Pi.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},Pi.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};var Hi=window,Ii=Hi.HTMLElement,Vi=Hi.MutationObserver,Fi=(Hi.natigator,navigator),Ui=Fi.userAgent,qi=Ui.indexOf("Safari/60")!==-1,Bi=qi&&Ui.match(/Version\/([^\s]+)/)[1],$i=[0,1].map(function(t){return"10.0."+t}).concat(["10.0"]),Ri=qi&&$i.indexOf(Bi)>-1;Ri&&t();try{var Yi=new window.CustomEvent("test");if(Yi.preventDefault(),Yi.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch(t){var Wi=function(t,e){var n,r;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};Wi.prototype=window.Event.prototype,window.CustomEvent=Wi}var Xi=document.createElement("div"),Zi=!!Xi.createShadowRoot,Ji=!!Xi.attachShadow,Ki="__shadowRoot",Gi=function(){function t(t){for(var e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),n=[];e.nextNode();){var r=e.currentNode;"SLOT"===r.tagName&&n.push(r)}n.forEach(function(t){var e=t.getAttribute("name"),n=document.createElement("slot");for(e&&n.setAttribute("name",e),t.parentNode.replaceChild(n,t);t.hasChildNodes();)n.appendChild(t.firstChild)})}var e=function(t){for(var e=t.getAttribute("name"),n=t;n;){var r=n[Ki];if(r&&r.contains(t))break;n=n.parentNode}if(!n)return[];for(var i=n.childNodes,o=i.length,a=[],s=0;s<o;s++){var u=i[s],f=u.getAttribute?u.getAttribute("slot"):null;e===f&&a.push(u)}return a},n=HTMLElement.prototype,r=n.getAttribute,i=n.setAttribute,o=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML"),a=Object.getOwnPropertyDescriptor(ShadowRoot.prototype,"innerHTML"),s=function(t){return"slot"===t?"content":t},u=document.createElement.bind(document),f=document.createElementNS.bind(document);document.createElement=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u.apply(void 0,[s(t)].concat(n))},document.createElementNS=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return f.apply(void 0,[t,s(e)].concat(r))},Object.defineProperty(Element.prototype,"innerHTML",{configurable:!0,get:o.get,set:function(e){o.set.call(this,e),t(this)}}),Object.defineProperty(ShadowRoot.prototype,"innerHTML",{configurable:!0,get:a.get,set:function(e){a.set.call(this,e),t(this)}}),Object.defineProperty(Node.prototype,"assignedSlot",{get:function(){var t=this.parentNode;if(t){var e=t.shadowRoot;if(!e)return null;for(var n=e.querySelectorAll("content"),r=0;r<n.length;r++){var i=n[r];if(i.assignedNodes().indexOf(this)>-1)return i}}return null}}),HTMLElement.prototype.attachShadow=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.mode;if("closed"!==n&&"open"!==n)throw new Error('You must specify { mode } as "open" or "closed" to attachShadow().');var r=this.createShadowRoot();"closed"===n&&Object.defineProperty(this,"shadowRoot",{configurable:!0,get:function(){return null}}),Object.defineProperty(r,"parentNode",{get:function(){return t}});var i=new MutationObserver(function(e){var n=t[Ki];e.forEach(function(t){var e=t.addedNodes,r=t.removedNodes,i={},o=function(t){return i[t.getAttribute&&t.getAttribute("slot")||"__default"]=!0};if(e)for(var a=e.length,s=0;s<a;s++)o(e[s]);if(r)for(var u=r.length,f=0;f<u;f++)o(r[f]);Object.keys(i).forEach(function(t){var e="__default"===t?n.querySelector("content:not([name])")||n.querySelector('content[name=""]'):n.querySelector('content[name="'+t+'"]');e&&e.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1}))})})});return i.observe(this,{childList:!0}),this[Ki]=r},Object.defineProperty(HTMLContentElement.prototype,"name",{get:function(){return this.getAttribute("name")},set:function(t){return this.setAttribute("name",t)}}),Object.defineProperty(HTMLElement.prototype,"slot",{get:function(){return this.getAttribute("slot")},set:function(t){return this.setAttribute("slot",t)}}),HTMLContentElement.prototype.assignedNodes=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.deep,r=[],i=n?this.getDistributedNodes():e(this),o=0;o<i.length;o++){var a=i[o],s=a.nodeType;s!==Node.ELEMENT_NODE&&s!==Node.TEXT_NODE||r.push(a)}return r},HTMLContentElement.prototype.getAttribute=function(t){if("name"===t){var e=r.call(this,"select");return e?e.match(/\[slot=['"]?(.*?)['"]?\]/)[1]:null}return r.call(this,t)},HTMLContentElement.prototype.setAttribute=function(t,e){return"name"===t&&(t="select",e="[slot='"+e+"']"),i.call(this,t,e)}},Qi="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},to=n(function(t){function e(){return(new Date).getTime()}t.exports=Date.now||e}),eo=e(to),no=Object.freeze({default:eo}),ro=n(function(t){var n=e(no);t.exports=function(t,e,r){function i(){var c=n()-u;c<e&&c>0?o=setTimeout(i,e-c):(o=null,r||(f=t.apply(s,a),o||(s=a=null)))}var o,a,s,u,f;return null==e&&(e=100),function(){s=this,a=arguments,u=n();var c=r&&!o;return o||(o=setTimeout(i,e)),c&&(f=t.apply(s,a),s=a=null),f}}}),io=e(ro),oo=n(function(t,e){void function(n,r,i){function o(t,e,n){return"function"==typeof e&&(n=e,e=a(n).replace(/_$/,"")),f(t,e,{configurable:!0,writable:!0,value:n})}function a(t){return"function"!=typeof t?"":"name"in t?t.name:c.call(t).match(d)[1]}function s(t){function e(e,r){return r||2===arguments.length?n.set(e,r):(r=n.get(e),r===i&&(r=t(e),n.set(e,r))),r}var n=new _;return t||(t=y),e}var u=Object.getOwnPropertyNames,f=Object.defineProperty,c=Function.prototype.toString,h=Object.create,l=Object.prototype.hasOwnProperty,d=/^\n?function\s?(\w*)?_?\(/,p=function(){function t(){var t=a(),r={};this.unlock=function(i){var o=c(i);if(l.call(o,t))return o[t](r);var a=h(null,e);return f(o,t,{value:new Function("s","l",n)(r,a)}),a}}var e={value:{writable:!0,value:i}},n="return function(k){if(k===s)return l}",r=h(null),a=function t(){var e=Math.random().toString(36).slice(2);return e in r?t():r[e]=e},s=a(),c=function(t){if(l.call(t,s))return t[s];if(!Object.isExtensible(t))throw new TypeError("Object must be extensible");var e=h(null);return f(t,s,{value:e}),e};return o(Object,function(t){var e=u(t);return l.call(t,s)&&e.splice(e.indexOf(s),1),e}),o(t.prototype,function(t){return this.unlock(t).value}),o(t.prototype,function(t,e){this.unlock(t).value=e}),t}(),_=function(t){function e(t){return this===n||null==this||this===e.prototype?new e(t):(d(this,new p),void y(this,t))}function s(t){l(t);var e=_(this).get(t);return e===r?i:e}function u(t,e){l(t),_(this).set(t,e===i?r:e)}function f(t){return l(t),_(this).get(t)!==i}function c(t){l(t);var e=_(this),n=e.get(t)!==i;return e.set(t,i),n}function h(){return _(this),"[object WeakMap]"}var l=function(t){if(null==t||"object"!==("undefined"==typeof t?"undefined":Pi.typeof(t))&&"function"!=typeof t)throw new TypeError("Invalid WeakMap key")},d=function(e,n){var r=t.unlock(e);if(r.value)throw new TypeError("Object is already a WeakMap");r.value=n},_=function(e){var n=t.unlock(e).value;if(!n)throw new TypeError("WeakMap is not generic");return n},y=function(t,e){null!==e&&"object"===("undefined"==typeof e?"undefined":Pi.typeof(e))&&"function"==typeof e.forEach&&e.forEach(function(n,r){n instanceof Array&&2===n.length&&u.call(t,e[r][0],e[r][1])})};try{var v=("return "+c).replace("e_","\\u0065"),m=new Function("unwrap","validate",v)(_,l)}catch(t){var m=c}var v=(""+Object).split("Object"),g=function(){return v[0]+a(this)+v[1]};o(g,g);var b={__proto__:[]}instanceof Array?function(t){t.__proto__=g}:function(t){o(t,g)};return b(e),[h,s,u,f,m].forEach(function(t){o(e.prototype,t),b(t)}),e}(new p),y=Object.create?function(){return Object.create(null)}:function(){return{}};"undefined"!=typeof t?t.exports=_:"undefined"!=typeof e?e.WeakMap=_:"WeakMap"in n||(n.WeakMap=_),_.createStorage=s,n.WeakMap&&(n.WeakMap.createStorage=s)}((0,eval)("this"))}),ao=e(oo),so=document.createElement("div"),uo=s(Element.prototype,"innerHTML"),fo=!!uo,co=function(t){return Array.prototype.slice.call(t)},ho=Array.prototype,lo=ho.forEach,po="_shadow_root_",_o=["childNodes","parentNode"],yo=["textContent"],vo=["assignedSlot"],mo=["textContent"],go=[],bo=[Node.ELEMENT_NODE,Node.TEXT_NODE],wo=new ao,xo=new ao,Eo=new ao,Mo=new ao,Ao=new ao,To=new ao,So=new ao,Co=new ao,Oo=new ao,No=new DOMParser,ko={____assignedNodes:{get:function(){return this.______assignedNodes||(this.______assignedNodes=[])}},____isInFallbackMode:{get:function(){return 0===this.assignedNodes().length}},____slotChangeListeners:{get:function(){return"undefined"==typeof this.______slotChangeListeners&&(this.______slotChangeListeners=0),this.______slotChangeListeners},set:function(t){this.______slotChangeListeners=t}},____triggerSlotChangeEvent:{value:io(function(){this.____slotChangeListeners&&this.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1}))})},addEventListener:{value:function(t,e,n){return"slotchange"===t&&h(this)&&this.____slotChangeListeners++,this.__addEventListener(t,e,n)}},appendChild:{value:function(t){return V(this,t),t}},assignedSlot:{get:function(){var t=To.get(this);if(!t)return null;var e=Oo.get(t),n=So.get(e),r=xo.get(n);return"open"===r?t:null}},attachShadow:{value:function(t){var e=this,n=t&&t.mode;if("closed"!==n&&"open"!==n)throw new Error('You must specify { mode } as "open" or "closed" to attachShadow().');var r=Eo.get(this);if(r)return r;var i=v([].slice.call(this.childNodes)),o=document.createElement(t.polyfillShadowRootTagName||po);return xo.set(this,n),Eo.set(this,o),So.set(o,this),Co.set(o,{}),fo?Mo.set(this,i):_(this,"childNodes",i),i.forEach(function(t){e.__removeChild(t),fo?Ao.set(t,e):_(t,"parentNode",e)}),this.__appendChild(o)}},childElementCount:{get:function(){return this.children.length}},childNodes:{get:function(){if(fo&&"node"===g(this))return this.__childNodes;var t=Mo.get(this);return t||Mo.set(this,t=v([])),t}},children:{get:function(){var t=[];return r(this,function(e){1===e.nodeType&&t.push(e)}),v(t)}},firstChild:{get:function(){return this.childNodes[0]||null}},firstElementChild:{get:function(){return this.children[0]||null}},assignedNodes:{value:function(){if(h(this)){var t=wo.get(this);return t||wo.set(this,t=[]),t}}},hasChildNodes:{value:function(){return this.childNodes.length>0}},innerHTML:{get:function(){function t(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName.toLowerCase()in o}var e="",n=function(t){return t.outerHTML},i={};i[Node.ELEMENT_NODE]=n,i[Node.COMMENT_NODE]=c;var o={style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,noscript:!0,plaintext:!0},a=t(this);return r(this,function(t){var r=void 0;r=t.nodeType===Node.TEXT_NODE?a?f:u:i[t.nodeType]||n,e+=r(t)}),e},set:function(t){for(var e=p(t);this.hasChildNodes();)this.removeChild(this.firstChild);var n=l(e);for(lo.call(n,function(t){return F(t)});e.hasChildNodes();){var r=e.firstChild;e.removeChild(r),this.appendChild(r)}}},insertBefore:{value:function(t,e){return V(this,t,e),t}},lastChild:{get:function(){var t=this.childNodes;return t[t.length-1]||null}},lastElementChild:{get:function(){var t=this.children;return t[t.length-1]||null}},name:{get:function(){return this.getAttribute("name")},set:function(t){var e=this.name,n=this.__setAttribute("name",t);if(t===e)return n;if(!h(this))return n;var r=Oo.get(this);return r&&(P(r,this),N(r,this)),n}},nextSibling:{get:function(){var t=this;return r(this.parentNode,function(e,n,r){if(t===e)return r[n+1]||null})}},nextElementSibling:{get:function(){var t=this,e=void 0;return r(this.parentNode,function(n){return e&&1===n.nodeType?n:void(t===n&&(e=!0))})}},outerHTML:{get:function(){var t=this.tagName.toLowerCase(),e=Array.prototype.slice.call(this.attributes).map(function(t){return" "+t.name+(t.value?'="'+t.value+'"':"")}).join("");return"<"+t+e+">"+this.innerHTML+"</"+t+">"},set:function(t){if(this.parentNode){var e=p(t);this.parentNode.replaceChild(e.firstChild,this)}else{if(!fo)throw new Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");this.__outerHTML=t}}},parentElement:{get:function(){return b(this.parentNode,function(t){return 1===t.nodeType})}},parentNode:{get:function(){return Ao.get(this)||this.__parentNode||null}},previousSibling:{get:function(){var t=this;return r(this.parentNode,function(e,n,r){if(t===e)return r[n-1]||null})}},previousElementSibling:{get:function(){var t=this,e=void 0;return r(this.parentNode,function(n){return e&&t===n?e:void(1===n.nodeType&&(e=n))})}},removeChild:{value:function(t){var e=g(this);switch(e){case"node":if(fo)return Ao.set(t,null),this.__removeChild(t);j(this,t);break;case"slot":L(this,t);break;case"host":D(this,t);break;case"root":H(this,t)}return t}},removeEventListener:{value:function(t,e,n){return"slotchange"===t&&this.____slotChangeListeners&&h(this)&&this.____slotChangeListeners--,this.__removeEventListener(t,e,n)}},replaceChild:{value:function(t,e){return this.insertBefore(t,e),this.removeChild(e)}},setAttribute:{value:function(t,e){return"slot"===t&&(this[t]=e),h(this)&&"name"===t&&(this[t]=e),this.__setAttribute(t,e)}},shadowRoot:{get:function(){return"open"===xo.get(this)?Eo.get(this):null}},slot:{get:function(){return this.getAttribute("slot")},set:function(t){var e=this.name,n=this.__setAttribute("slot",t);if(e===t)return n;var r=To.get(this),i=r&&Oo.get(r),o=i&&So.get(i);return o&&(D(o,this),O(o,this)),n}},textContent:{get:function(){var t="";return r(this,function(e){e.nodeType!==Node.COMMENT_NODE&&(t+=e.textContent)}),t},set:function(t){for(;this.hasChildNodes();)this.removeChild(this.firstChild);t&&this.appendChild(document.createTextNode(t))}}},zo=function(){var t=Comment.prototype,e=HTMLElement.prototype,n=SVGElement.prototype,r=Text.prototype,i=document.createTextNode(""),o=document.createComment("");Object.keys(ko).forEach(function(a){var u=ko[a];if(u.configurable=!0,u.enumerable=!0,u.hasOwnProperty("value")&&(u.writable=!0),fo||_o.indexOf(a)===-1){var f=s(e,a),c=s(r,a),h=s(t,a),l=a in i&&yo.indexOf(a)===-1||~vo.indexOf(a),d=a in o&&mo.indexOf(a)===-1||~go.indexOf(a),p="__"+a;Object.defineProperty(e,a,u),Object.defineProperty(n,a,u),f&&(Object.defineProperty(e,p,f),Object.defineProperty(n,p,f)),l&&Object.defineProperty(r,a,u),l&&c&&Object.defineProperty(r,p,c),d&&Object.defineProperty(t,a,u),d&&h&&Object.defineProperty(t,p,h)}})};Ji||(Zi?Gi():zo());var Lo=n(function(t){function e(t){function e(){var t=x.splice(0,x.length);for(Xt=0;t.length;)t.shift().call(null,t.shift())}function n(t,e){for(var n=0,r=t.length;n<r;n++)p(t[n],e)}function r(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],O(e,rt[o(e)])}function i(t){return function(e){Dt(e)&&(p(e,t),n(e.querySelectorAll(it),t))}}function o(t){var e=Ft.call(t,"is"),n=t.nodeName.toUpperCase(),r=at.call(nt,e?Q+e.toUpperCase():G+n);return e&&-1<r&&!a(n,e)?-1:r}function a(t,e){return-1<it.indexOf(t+'[is="'+e+'"]')}function s(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,i=t.target,o=t[Y]||2,a=t[X]||3;!Gt||i&&i!==e||!e[F]||"style"===r||t.prevValue===t.newValue&&(""!==t.newValue||n!==o&&n!==a)||e[F](r,n===o?null:t.prevValue,n===a?null:t.newValue)}function u(t){var n=i(t);return function(t){x.push(n,t.target),Xt&&clearTimeout(Xt),Xt=setTimeout(e,1)}}function f(t){Kt&&(Kt=!1,t.currentTarget.removeEventListener(J,f)),n((t.target||N).querySelectorAll(it),t.detail===I?I:P),Lt&&l()}function c(t,e){var n=this;Bt.call(n,t,e),E.call(n,{target:n})}function h(t,e){Nt(t,e),T?T.observe(t,Yt):(Jt&&(t.setAttribute=c,t[j]=A(t),t[D](K,E)),t[D](Z,s)),t[$]&&Gt&&(t.created=!0,t[$](),t.created=!1)}function l(){for(var t,e=0,n=Pt.length;e<n;e++)t=Pt[e],ot.contains(t)||(n--,Pt.splice(e--,1),p(t,I))}function d(t){throw new Error("A "+t+" type is already registered")}function p(t,e){var n,r=o(t);-1<r&&(C(t,rt[r]),r=0,e!==P||t[P]?e!==I||t[I]||(t[P]=!1,t[I]=!0,r=1):(t[I]=!1,t[P]=!0,r=1,Lt&&at.call(Pt,t)<0&&Pt.push(t)),r&&(n=t[e+H])&&n.call(t))}function _(){}function y(t,e,n){var r=n&&n[V]||"",i=e.prototype,o=Ot(i),a=e.observedAttributes||ht,s={prototype:o};jt(o,$,{value:function(){if(Mt)Mt=!1;else if(!this[mt]){this[mt]=!0,new e(this),i[$]&&i[$].call(this);var t=At[St.get(e)];(!bt||t.create.length>1)&&g(this)}}}),jt(o,F,{value:function(t){-1<at.call(a,t)&&i[F].apply(this,arguments)}}),i[q]&&jt(o,U,{value:i[q]}),i[B]&&jt(o,R,{value:i[B]}),r&&(s[V]=r),t=t.toUpperCase(),At[t]={constructor:e,create:r?[r,Ct(t)]:[t]},St.set(e,t),N[L](t.toLowerCase(),s),b(t),Tt[t].r()}function v(t){var e=At[t.toUpperCase()];return e&&e.constructor}function m(t){return"string"==typeof t?t:t&&t.is||""}function g(t){for(var e,n=t[F],r=n?t.attributes:ht,i=r.length;i--;)e=r[i],n.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function b(t){return t=t.toUpperCase(),t in Tt||(Tt[t]={},Tt[t].p=new Et(function(e){Tt[t].r=e})),Tt[t].p}function w(){gt&&delete t.customElements,ct(t,"customElements",{configurable:!0,value:new _}),ct(t,"CustomElementRegistry",{configurable:!0,value:_});for(var e=function(e){var n=t[e];if(n){t[e]=function(t){var e,r;return t||(t=this),t[mt]||(Mt=!0,e=At[St.get(t.constructor)],r=bt&&1===e.create.length,t=r?Reflect.construct(n,ht,e.constructor):N.createElement.apply(N,e.create),t[mt]=!0,Mt=!1,r||g(t)),t},t[e].prototype=n.prototype;try{n.prototype.constructor=t[e]}catch(r){vt=!0,ct(n,mt,{value:t[e]})}}},n=z.get(/^HTML[A-Z]*[a-z]/),r=n.length;r--;e(n[r]));N.createElement=function(t,e){var n=m(e);return n?Rt.call(this,t,Ct(n)):Rt.call(this,t)}}var x,E,M,A,T,S,C,O,N=t.document,k=t.Object,z=function(t){var e,n,r,i,o=/^[A-Z]+[a-z]/,a=function(t){var e,n=[];for(e in u)t.test(e)&&n.push(e);return n},s=function(t,e){e=e.toLowerCase(),e in u||(u[t]=(u[t]||[]).concat(e),u[e]=u[e.toUpperCase()]=t)},u=(k.create||k)(null),f={};for(n in t)for(i in t[n])for(r=t[n][i],u[i]=r,e=0;e<r.length;e++)u[r[e].toLowerCase()]=u[r[e].toUpperCase()]=i;return f.get=function(t){return"string"==typeof t?u[t]||(o.test(t)?[]:""):a(t)},f.set=function(t,e){return o.test(t)?s(t,e):s(e,t),f},f}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}}),L="registerElement",j="__"+L+(1e5*t.Math.random()>>0),D="addEventListener",P="attached",H="Callback",I="detached",V="extends",F="attributeChanged"+H,U=P+H,q="connected"+H,B="disconnected"+H,$="created"+H,R=I+H,Y="ADDITION",W="MODIFICATION",X="REMOVAL",Z="DOMAttrModified",J="DOMContentLoaded",K="DOMSubtreeModified",G="<",Q="=",tt=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,et=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],nt=[],rt=[],it="",ot=N.documentElement,at=nt.indexOf||function(t){
for(var e=this.length;e--&&this[e]!==t;);return e},st=k.prototype,ut=st.hasOwnProperty,ft=st.isPrototypeOf,ct=k.defineProperty,ht=[],lt=k.getOwnPropertyDescriptor,dt=k.getOwnPropertyNames,pt=k.getPrototypeOf,_t=k.setPrototypeOf,yt=!!k.__proto__,vt=!1,mt="__dreCEv1",gt=t.customElements,bt=!!(gt&&gt.define&&gt.get&&gt.whenDefined),wt=k.create||k,xt=t.Map||function(){var t,e=[],n=[];return{get:function(t){return n[at.call(e,t)]},set:function(r,i){t=at.call(e,r),t<0?n[e.push(r)-1]=i:n[t]=i}}},Et=t.Promise||function(t){function e(t){for(r=!0;n.length;)n.shift()(t)}var n=[],r=!1,i={catch:function(){return i},then:function(t){return n.push(t),r&&setTimeout(e,1),i}};return t(e),i},Mt=!1,At=wt(null),Tt=wt(null),St=new xt,Ct=String,Ot=k.create||function t(e){return e?(t.prototype=e,new t):this},Nt=_t||(yt?function(t,e){return t.__proto__=e,t}:dt&&lt?function(){function t(t,e){for(var n,r=dt(e),i=0,o=r.length;i<o;i++)n=r[i],ut.call(t,n)||ct(t,n,lt(e,n))}return function(e,n){do t(e,n);while((n=pt(n))&&!ft.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),kt=t.MutationObserver||t.WebKitMutationObserver,zt=(t.HTMLElement||t.Element||t.Node).prototype,Lt=!ft.call(zt,ot),jt=Lt?function(t,e,n){return t[e]=n.value,t}:ct,Dt=Lt?function(t){return 1===t.nodeType}:function(t){return ft.call(zt,t)},Pt=Lt&&[],Ht=zt.attachShadow,It=zt.cloneNode,Vt=zt.dispatchEvent,Ft=zt.getAttribute,Ut=zt.hasAttribute,qt=zt.removeAttribute,Bt=zt.setAttribute,$t=N.createElement,Rt=$t,Yt=kt&&{attributes:!0,characterData:!0,attributeOldValue:!0},Wt=kt||function(t){Jt=!1,ot.removeEventListener(Z,Wt)},Xt=0,Zt=!1,Jt=!0,Kt=!0,Gt=!0;if(L in N||(_t||yt?(C=function(t,e){ft.call(e,t)||h(t,e)},O=h):(C=function(t,e){t[j]||(t[j]=k(!0),h(t,e))},O=C),Lt?(Jt=!1,function(){var t=lt(zt,D),e=t.value,n=function(t){var e=new CustomEvent(Z,{bubbles:!0});e.attrName=t,e.prevValue=Ft.call(this,t),e.newValue=null,e[X]=e.attrChange=2,qt.call(this,t),Vt.call(this,e)},r=function(t,e){var n=Ut.call(this,t),r=n&&Ft.call(this,t),i=new CustomEvent(Z,{bubbles:!0});Bt.call(this,t,e),i.attrName=t,i.prevValue=n?r:null,i.newValue=e,n?i[W]=i.attrChange=1:i[Y]=i.attrChange=0,Vt.call(this,i)},i=function(t){var e,n=t.currentTarget,r=n[j],i=t.propertyName;r.hasOwnProperty(i)&&(r=r[i],e=new CustomEvent(Z,{bubbles:!0}),e.attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[i]||null,null==e.prevValue?e[Y]=e.attrChange=0:e[W]=e.attrChange=1,Vt.call(n,e))};t.value=function(t,o,a){t===Z&&this[F]&&this.setAttribute!==r&&(this[j]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,e.call(this,"propertychange",i)),e.call(this,t,o,a)},ct(zt,D,t)}()):kt||(ot[D](Z,Wt),ot.setAttribute(j,1),ot.removeAttribute(j),Jt&&(E=function(t){var e,n,r,i=this;if(i===t.target){e=i[j],i[j]=n=A(i);for(r in n){if(!(r in e))return M(0,i,r,e[r],n[r],Y);if(n[r]!==e[r])return M(1,i,r,e[r],n[r],W)}for(r in e)if(!(r in n))return M(2,i,r,e[r],n[r],X)}},M=function(t,e,n,r,i,o){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:i};a[o]=t,s(a)},A=function(t){for(var e,n,r={},i=t.attributes,o=0,a=i.length;o<a;o++)e=i[o],n=e.name,"setAttribute"!==n&&(r[n]=e.value);return r})),N[L]=function(t,e){if(a=t.toUpperCase(),Zt||(Zt=!0,kt?(T=function(t,e){function n(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new kt(function(r){for(var i,o,a,s=0,u=r.length;s<u;s++)i=r[s],"childList"===i.type?(n(i.addedNodes,t),n(i.removedNodes,e)):(o=i.target,Gt&&o[F]&&"style"!==i.attributeName&&(a=Ft.call(o,i.attributeName),a!==i.oldValue&&o[F](i.attributeName,i.oldValue,a)))})}(i(P),i(I)),S=function(t){return T.observe(t,{childList:!0,subtree:!0}),t},S(N),Ht&&(zt.attachShadow=function(){return S(Ht.apply(this,arguments))})):(x=[],N[D]("DOMNodeInserted",u(P)),N[D]("DOMNodeRemoved",u(I))),N[D](J,f),N[D]("readystatechange",f),zt.cloneNode=function(t){var e=It.call(this,!!t),n=o(e);return-1<n&&O(e,rt[n]),t&&r(e.querySelectorAll(it)),e}),-2<at.call(nt,Q+a)+at.call(nt,G+a)&&d(t),!tt.test(a)||-1<at.call(et,a))throw new Error("The type "+t+" is invalid");var a,s,c=function(){return l?N.createElement(p,a):N.createElement(p)},h=e||st,l=ut.call(h,V),p=l?e[V].toUpperCase():a;return l&&-1<at.call(nt,G+p)&&d(p),s=nt.push((l?Q:G)+a)-1,it=it.concat(it.length?",":"",l?p+'[is="'+t.toLowerCase()+'"]':p),c.prototype=rt[s]=ut.call(h,"prototype")?h.prototype:Ot(zt),n(N.querySelectorAll(it),P),c},N.createElement=Rt=function(t,e){var n=m(e),r=n?$t.call(N,t,Ct(n)):$t.call(N,t),i=""+t,o=at.call(nt,(n?Q:G)+(n||i).toUpperCase()),s=-1<o;return n&&(r.setAttribute("is",n=n.toLowerCase()),s&&(s=a(i.toUpperCase(),n))),Gt=!N.createElement.innerHTMLHelper,s&&O(r,rt[o]),r}),_.prototype={constructor:_,define:bt?function(t,e,n){if(n)y(t,e,n);else{var r=t.toUpperCase();At[r]={constructor:e,create:[r]},St.set(e,r),gt.define(t,e)}}:y,get:bt?function(t){return gt.get(t)||v(t)}:v,whenDefined:bt?function(t){return Et.race([gt.whenDefined(t),b(t)])}:b},gt)try{!function(e,n,r){if(n[V]="a",e.prototype=Ot(HTMLAnchorElement.prototype),e.prototype.constructor=e,t.customElements.define(r,e,n),Ft.call(N.createElement("a",{is:r}),"is")!==r||bt&&Ft.call(new e,"is")!==r)throw n}(function t(){return Reflect.construct(HTMLAnchorElement,[],t)},{},"document-register-element-a")}catch(t){w()}else w();try{$t.call(N,"a","a")}catch(t){Ct=function(t){return{is:t}}}}e(Qi),t.exports=e});e(Lo);var jo=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){return U(e).forEach(function(n){return t[n]=e[n]})}),t},Do="____skate_connected",Po="____skate_created",Ho="____skate_name",Io="____skate_props",Vo="____skate_ref",Fo="____skate_renderer",Uo="____skate_rendering",qo="____skate_rendererDebounced",Bo="____skate_updated",$o=n(function(t,e){function n(t,e){this.attrs=s(),this.attrsArr=[],this.newAttrs=s(),this.key=e,this.keyMap=null,this.keyMapValid=!0,this.nodeName=t,this.text=null}function r(){this.created=A.nodesCreated&&[],this.deleted=A.nodesDeleted&&[]}var i=Object.prototype.hasOwnProperty,o=Object.create,a=function(t,e){return i.call(t,e)},s=function(){return o(null)},u=function(t,e,r){var i=new n(e,r);return t.__incrementalDOMData=i,i},f=function(t){var e=t.__incrementalDOMData;if(!e){var n=t.nodeName.toLowerCase(),r=null;t instanceof Element&&(r=t.getAttribute("key")),e=u(t,n,r)}return e},c={default:"__default",placeholder:"__placeholder"},h=function(t){return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},l=function(t,e,n){if(null==n)t.removeAttribute(e);else{var r=h(e);r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}},d=function(t,e,n){t[e]=n},p=function(t,e,n){if("string"==typeof n)t.style.cssText=n;else{t.style.cssText="";var r=t.style,i=n;for(var o in i)a(i,o)&&(r[o]=i[o])}},_=function(t,e,n){var r="undefined"==typeof n?"undefined":Pi.typeof(n);"object"===r||"function"===r?d(t,e,n):l(t,e,n)},y=function(t,e,n){var r=f(t),i=r.attrs;if(i[e]!==n){var o=v[e]||v[c.default];o(t,e,n),i[e]=n}},v=s();v[c.default]=_,v[c.placeholder]=function(){},v.style=p;var m=function(t,e){return"svg"===t?"http://www.w3.org/2000/svg":"foreignObject"===f(e).nodeName?null:e.namespaceURI},g=function(t,e,n,r,i){var o=m(n,e),a=void 0;if(a=o?t.createElementNS(o,n):t.createElement(n),u(a,n,r),i)for(var s=0;s<i.length;s+=2)y(a,i[s],i[s+1]);return a},b=function(t){var e=t.createTextNode("");return u(e,"#text",null),e},w=function(t){for(var e=s(),n=t.firstElementChild;n;){var r=f(n).key;r&&(e[r]=n),n=n.nextElementSibling}return e},x=function(t){var e=f(t);return e.keyMap||(e.keyMap=w(t)),e.keyMap},E=function(t,e){return e?x(t)[e]:null},M=function(t,e,n){x(t)[e]=n},A={nodesCreated:null,nodesDeleted:null};r.prototype.markCreated=function(t){this.created&&this.created.push(t)},r.prototype.markDeleted=function(t){this.deleted&&this.deleted.push(t)},r.prototype.notifyChanges=function(){this.created&&this.created.length>0&&A.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&A.nodesDeleted(this.deleted)};var T=null,S=null,C=null,O=null,N=null,k=function(t){var e=function(e,n,i){var o=T,a=O,s=N,u=S,f=C;T=new r,O=e,N=e.ownerDocument,C=e.parentNode,t(e,n,i),T.notifyChanges(),T=o,O=a,N=s,S=u,C=f};return e},z=k(function(t,e,n){S=t,H(),e(n),V()}),L=k(function(t,e,n){S={nextSibling:t},e(n)}),j=function(t,e){var n=f(S);return t===n.nodeName&&e==n.key},D=function(t,e,n){if(!S||!j(t,e)){var r=void 0;e&&(r=E(C,e)),r||(r="#text"===t?b(N):g(N,C,t,e,n),e&&M(C,e,r),T.markCreated(r)),S&&f(S).key?(C.replaceChild(r,S),f(C).keyMapValid=!1):C.insertBefore(r,S),S=r}},P=function(){var t=C,e=f(t),n=e.keyMap,r=e.keyMapValid,i=t.lastChild,o=void 0;if(!(i===S&&r||e.attrs[c.placeholder]&&t!==O)){for(;i!==S;)t.removeChild(i),T.markDeleted(i),o=f(i).key,o&&delete n[o],i=t.lastChild;if(!r){for(o in n)i=n[o],i.parentNode!==t&&(T.markDeleted(i),delete n[o]);e.keyMapValid=!0}}},H=function(){C=S,S=null},I=function(){S=S?S.nextSibling:C.firstChild},V=function(){P(),S=C,C=C.parentNode},F=function(t,e,n){return I(),D(t,e,n),H(),C},U=function(){return V(),S},q=function(){return I(),D("#text",null,null),S},B=function(){return C},$=function(){S=C.lastChild},R=3,Y=[],W=function(t,e,n,r){for(var i=F(t,e,n),o=f(i),a=o.attrsArr,s=o.newAttrs,u=!1,c=R,h=0;c<arguments.length;c+=1,h+=1)if(a[h]!==arguments[c]){u=!0;break}for(;c<arguments.length;c+=1,h+=1)a[h]=arguments[c];if(h<a.length&&(u=!0,a.length=h),u){for(c=R;c<arguments.length;c+=2)s[arguments[c]]=arguments[c+1];for(var l in s)y(i,l,s[l]),s[l]=void 0}return i},X=function(t,e,n){Y[0]=t,Y[1]=e,Y[2]=n},Z=function(t,e){Y.push(t,e)},J=function(){var t=W.apply(null,Y);return Y.length=0,t},K=function(t){var e=U();return e},G=function(t,e,n,r){return W.apply(null,arguments),K(t)},Q=function(t,e,n,r){return W.apply(null,arguments),$(),K(t)},tt=function(t,e){var n=q(),r=f(n);if(r.text!==t){r.text=t;for(var i=t,o=1;o<arguments.length;o+=1){var a=arguments[o];i=a(i)}n.data=i}return n};e.patch=z,e.patchInner=z,e.patchOuter=L,e.currentElement=B,e.skip=$,e.elementVoid=G,e.elementOpenStart=X,e.elementOpenEnd=J,e.elementOpen=W,e.elementClose=K,e.elementPlaceholder=Q,e.text=tt,e.attr=Z,e.symbols=c,e.attributes=v,e.applyAttr=l,e.applyProp=d,e.notifications=A});e($o);var Ro=$o.applyProp,Yo=$o.attributes,Wo=$o.symbols,Xo=$o.text,Zo=$o.elementClose,Jo=$o.elementOpen,Ko=$o.skip,Go=$o.patchInner,Qo=window,ta=Qo.customElements,ea=Yo[Wo.default],na=[],ra="__skip",ia="__events",oa="__props",aa=void 0,sa=void 0,ua=0,fa=function(){},ca=R(Yo,Pi.defineProperty({key:fa,statics:fa,checked:Ro,className:Ro,disabled:Ro,value:Ro,ref:function(t,e,n){t[Vo]=n},skip:function(t,e,n){n?t[ra]=!0:delete t[ra]}},Wo.default,function(t,e,n){var r=ta.get(t.tagName)||{props:{},prototype:{}},i=r.props,o=r.prototype;if((e in i||e in t||e in o)&&!("ownerSVGElement"in t))return void Ro(t,e,n);if(n===!1)return void ea(t,e);if(0===e.indexOf("on")){var a=e[2],s=void 0;if("-"===a?s=e.substring(3):a===a.toUpperCase()&&(s=a.toLowerCase()+e.substring(3)),s)return void Y(t,s,n)}ea(t,e,n)})),ha=ca(Jo),la=J(X,G),da=J(Z),pa=J(ha,G),_a=J(Zo,Q),ya=J(Xo),va=["native code","[object MutationObserverConstructor]"],ma=function(t){return va.map(function(e){return(t||"").toString().indexOf([e])>-1}).reduce(function(t,e){return t||e})},ga=window,ba=ga.MutationObserver,wa=ma(ba)?rt:it,xa=window,Ea=xa.HTMLElement;gt.observedAttributes=[],gt.props={},gt.extend=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=function(t){function e(){return Pi.classCallCheck(this,e),Pi.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return Pi.inherits(e,t),e}(e);if(!n.observedAttributes){var r=ot(e);delete r.length,delete r.prototype,Object.defineProperties(n,r)}var i=ot(t),o=ot(t.prototype);return delete i.prototype,Object.defineProperties(n,i),Object.defineProperties(n.prototype,o),n},gt.renderer=function(t){var e=t.elem,n=t.render,r=t.shadowRoot;Go(r,function(){var t=n(e);"function"==typeof t?t():Array.isArray(t)&&t.forEach(function(t){"function"==typeof t&&t()})})},gt.updated=function(t,e){if(!e)return!0;for(var n=U(e),r=0;r<n.length;r+=1)if(e[n[r]]!==t[n[r]])return!0;return!1},gt[Bo]=function(t){if("function"==typeof this.updated){var e=t[Io];return t[Io]=ut(t),this.updated(t,e)}return!0},gt[Fo]=function(t){if(!t[Uo]&&t[Do]){t[Uo]=!0;var e=this[Bo](t);if(!this.render||!this.renderer)return void(t[Uo]=!1);e&&(t.shadowRoot||t.attachShadow({mode:"open"}),this.renderer({elem:t,render:this.render,shadowRoot:t.shadowRoot}),"function"==typeof this.rendered&&this.rendered(t)),t[Uo]=!1}},gt.prototype=Object.create(Ea.prototype,{connectedCallback:{configurable:!0,value:function(){vt(this)}},disconnectedCallback:{configurable:!0,value:function(){mt(this)}},attributeChangedCallback:{configurable:!0,value:function(t,e,n){var r=this.constructor.attributeChanged,i=nt(this,"attributeLinks")[t];if(i){var o=nt(this,"props")[i];if(o.syncingAttribute)o.syncingAttribute=!1;else{var a=this.constructor.props[i];o.settingAttribute=!0;var s=null!==n&&a.deserialize?a.deserialize(n):n;this[i]=s}}r&&r(this,{name:t,newValue:n,oldValue:e})}}});var Ma=(function(t){if(t)try{new t("emit-init")}catch(t){return}return t}(window.Event),et()),Aa=n(function(t,e){!function(n,r){"object"===("undefined"==typeof e?"undefined":Pi.typeof(e))&&"undefined"!=typeof t?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(n.Kefir=n.Kefir||{})}(Qi,function(t){function e(t){var e=function(){};return e.prototype=t,new e}function n(t){var e=arguments.length,n=void 0,r=void 0;for(n=1;n<e;n++)for(r in arguments[n])t[r]=arguments[n][r];return t}function r(t,r){var i=arguments.length,o=void 0;for(t.prototype=e(r.prototype),t.prototype.constructor=t,o=2;o<i;o++)n(t.prototype,arguments[o]);return t}function i(t,e){var n=void 0,r=void 0,i=void 0,o=void 0;if(0===t.length)return e;if(0===e.length)return t;for(o=0,n=new Array(t.length+e.length),r=t.length,i=0;i<r;i++,o++)n[o]=t[i];for(r=e.length,i=0;i<r;i++,o++)n[o]=e[i];return n}function o(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)if(t[r]===e)return r;return-1}function a(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)if(e(t[r]))return r;return-1}function s(t){var e=t.length,n=new Array(e),r=void 0;for(r=0;r<e;r++)n[r]=t[r];return n}function u(t,e){var n=t.length,r=void 0,i=void 0,o=void 0;if(e>=0&&e<n){if(1===n)return[];for(r=new Array(n-1),i=0,o=0;i<n;i++)i!==e&&(r[o]=t[i],o++);return r}return t}function f(t,e){var n=t.length,r=new Array(n),i=void 0;for(i=0;i<n;i++)r[i]=e(t[i]);return r}function c(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)e(t[r])}function h(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)t[r]=e}function l(t,e){return o(t,e)!==-1}function d(t,e,n){var r=Math.min(n,t.length+1),i=t.length-r+1,o=new Array(r),a=void 0;for(a=i;a<r;a++)o[a-i]=t[a];return o[r-1]=e,o}function p(t,e,n){t===se?e(n):t===n.type&&(t===oe||t===ae?e(n.value):e())}function _(){this._items=[],this._spies=[],this._inLoop=0,this._removedItems=null}function y(){this._dispatcher=new _,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null,this._spyHandlers=null}function v(){y.call(this)}function m(){y.call(this),this._currentEvent=null}function g(){return ue}function b(t){function e(t,e){var n=this;v.call(this),this._wait=t,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(e)}return r(e,v,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){v.prototype._clear.call(this),this._$onTick=null,this._free()}},t),e}function w(t,e){return new fe(t,{x:e})}function x(t,e){return new ce(t,{x:e})}function E(t,e){return 0===e.length?g():new he(t,{xs:e})}function M(t,e){return new le(t,{fn:e})}function A(t){function e(e){return t._emitValue(e),t._active}function n(e){return t._emitError(e),t._active}function r(){return t._emitEnd(),t._active}function i(e){return t._emit(e.type,e.value),t._active}return{value:e,error:n,end:r,event:i,emit:e,emitEvent:i}}function T(t,e){return new de(t,{fn:e})}function S(t){v.call(this),this._fn=t,this._unsubscribe=null}function C(t){return new S(t)}function O(t){var e=!1;return C(function(n){e||(t(function(t){n.emit(t),n.end()}),e=!0)}).setName("fromCallback")}function N(t){var e=!1;return C(function(n){e||(t(function(t,e){t?n.error(t):n.emit(e),n.end()}),e=!0)}).setName("fromNodeCallback")}function k(t,e){switch(e){case 0:return function(){return t()};case 1:return function(e){return t(e[0])};case 2:return function(e){return t(e[0],e[1])};case 3:return function(e){return t(e[0],e[1],e[2])};case 4:return function(e){return t(e[0],e[1],e[2],e[3])};default:return function(e){return t.apply(null,e)}}}function z(t,e,n){var r=n?n.length:0;if(null==e)switch(r){case 0:return t();case 1:return t(n[0]);case 2:return t(n[0],n[1]);case 3:return t(n[0],n[1],n[2]);case 4:return t(n[0],n[1],n[2],n[3]);default:return t.apply(null,n)}else switch(r){case 0:return t.call(e);default:return t.apply(e,n)}}function L(t,e,n){return C(function(r){var i=n?function(){r.emit(z(n,this,arguments))}:function(t){r.emit(t)};return t(i),function(){return e(i)}}).setName("fromSubUnsub")}function j(t,e,n){for(var r=void 0,i=void 0,o=0;o<pe.length;o++)if("function"==typeof t[pe[o][0]]&&"function"==typeof t[pe[o][1]]){r=pe[o][0],i=pe[o][1];break}if(void 0===r)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return L(function(n){return t[r](e,n)},function(n){return t[i](e,n)},n).setName("fromEvents")}function D(t){this._currentEvent={type:"value",value:t,current:!0}}function P(t){return new D(t)}function H(t){this._currentEvent={type:"error",value:t,current:!0}}function I(t){return new H(t)}function V(t,e){return function(n,r){var i=this;t.call(this),this._source=n,this._name=n._name+"."+e,this._init(r),this._$handleAny=function(t){return i._handleAny(t)}}}function F(t){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case oe:return this._handleValue(t.value);case ae:return this._handleError(t.value);case ie:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function U(t,e){var n=V(v,t);return r(n,v,F(v),e),n}function q(t,e){var n=V(m,t);return r(n,m,F(m),e),n}function B(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(null!==e&&"function"!=typeof e)throw new Error("You should call toProperty() with a function or no arguments.");return new _e(t,{fn:e})}function $(t){return new ye(t)}function R(t){var e=!1,n=C(function(n){if(!e){var r=function(t){n.emit(t),n.end()},i=function(t){n.error(t),n.end()},o=t.then(r,i);o&&"function"==typeof o.done&&o.done(),e=!0}});return B(n,null).setName("fromPromise")}function Y(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}function W(t){var e=arguments.length<=1||void 0===arguments[1]?Y():arguments[1],n=null;return new e(function(e,r){t.onAny(function(t){t.type===ie&&null!==n?((n.type===oe?e:r)(n.value),n=null):n=t})})}function X(t,e){return e={exports:{}},t(e,e.exports),e.exports}function Z(t){var e=t[Ee]?t[Ee]():t;return C(function(t){var n=e.subscribe({error:function(e){t.error(e),t.end()},next:function(e){t.emit(e)},complete:function(){t.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n}).setName("fromESObservable")}function J(t){this._observable=t.takeErrors(1)}function K(){return new J(this)}function G(t){for(var e=void 0,n=0;n<t.length;n++)void 0!==t[n]&&(void 0===e||e.index<t[n].index)&&(e=t[n]);return e.error}function Q(t,e,n){var r=this;v.call(this),this._activeCount=t.length,this._sources=i(t,e),this._combinator=n?k(n,this._sources.length):function(t){return t},this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),h(this._latestValues,re),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var o=function(t){r._$handlers.push(function(e){return r._handleAny(t,e)})},a=0;a<this._sources.length;a++)o(a)}function tt(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments[2];return"function"==typeof e&&(n=e,e=[]),0===t.length?g():new Q(t,e,n)}function et(t){var e=arguments.length<=1||void 0===arguments[1]?Oe:arguments[1];return new(t._ofSameType(Se,Ce))(t,{fn:e})}function nt(t){var e=arguments.length<=1||void 0===arguments[1]?Le:arguments[1];return new(t._ofSameType(ke,ze))(t,{fn:e})}function rt(t,e){return new(t._ofSameType(De,Pe))(t,{n:e})}function it(t,e){return new(t._ofSameType(Ie,Ve))(t,{n:e})}function ot(t){var e=arguments.length<=1||void 0===arguments[1]?Be:arguments[1];return new(t._ofSameType(Ue,qe))(t,{fn:e})}function at(t){return new(t._ofSameType(Re,Ye))(t)}function st(t,e){return new(t._ofSameType(Xe,Ze))(t,{n:e})}function ut(t){var e=arguments.length<=1||void 0===arguments[1]?Qe:arguments[1];return new(t._ofSameType(Ke,Ge))(t,{fn:e})}function ft(t){var e=arguments.length<=1||void 0===arguments[1]?rn:arguments[1];return new(t._ofSameType(en,nn))(t,{fn:e})}function ct(t,e){return[t,e]}function ht(t,e){var n=arguments.length<=2||void 0===arguments[2]?re:arguments[2];return new(t._ofSameType(an,sn))(t,{fn:e||ct,seed:n})}function lt(t,e){var n=arguments.length<=2||void 0===arguments[2]?re:arguments[2];return new un(t,{fn:e,seed:n})}function dt(t){var e=arguments.length<=1||void 0===arguments[1]?hn:arguments[1];return new cn(t,{fn:e})}function pt(t,e){return new(t._ofSameType(pn,_n))(t,{wait:e})}function _t(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.leading,i=void 0===r||r,o=n.trailing,a=void 0===o||o;return new(t._ofSameType(mn,gn))(t,{wait:e,leading:i,trailing:a})}function yt(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.immediate,i=void 0!==r&&r;return new(t._ofSameType(wn,xn))(t,{wait:e,immediate:i})}function vt(t){var e=arguments.length<=1||void 0===arguments[1]?Tn:arguments[1];return new(t._ofSameType(Mn,An))(t,{fn:e})}function mt(t){var e=arguments.length<=1||void 0===arguments[1]?Nn:arguments[1];return new(t._ofSameType(Cn,On))(t,{fn:e})}function gt(t){return new(t._ofSameType(zn,Ln))(t)}function bt(t){return new(t._ofSameType(Dn,Pn))(t)}function wt(t){return new(t._ofSameType(In,Vn))(t)}function xt(t,e){return new(t._ofSameType(Un,qn))(t,{fn:e})}function Et(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new(t._ofSameType($n,Rn))(t,{min:n,max:e})}function Mt(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.flushOnEnd,i=void 0===r||r;return new(t._ofSameType(Wn,Xn))(t,{fn:e||Zn,flushOnEnd:i})}function At(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.flushOnEnd,i=void 0===r||r;return new(t._ofSameType(Kn,Gn))(t,{count:e,flushOnEnd:i})}function Tt(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],i=r.flushOnEnd,o=void 0===i||i;return new(t._ofSameType(tr,er))(t,{wait:e,count:n,flushOnEnd:o})}function St(t){return{"@@transducer/step":function(e,n){return t._emitValue(n),null},"@@transducer/result":function(){return t._emitEnd(),null}}}function Ct(t,e){return new(t._ofSameType(rr,ir))(t,{transducer:e})}function Ot(t,e){return new(t._ofSameType(ar,sr))(t,{fn:e})}function Nt(t,e){var n=this;v.call(this),this._buffers=f(t,function(t){return ur(t)?s(t):[]}),this._sources=f(t,function(t){return ur(t)?g():t}),this._combinator=e?k(e,this._sources.length):function(t){return t},this._aliveCount=0,this._$handlers=[];for(var r=function(t){n._$handlers.push(function(e){return n._handleAny(t,e)})},i=0;i<this._sources.length;i++)r(i)}function kt(t,e){return 0===t.length?g():new Nt(t,e)}function zt(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.queueLim,r=void 0===n?0:n,i=e.concurLim,o=void 0===i?-1:i,a=e.drop,s=void 0===a?"new":a;v.call(this),this._queueLim=r<0?-1:r,this._concurLim=o<0?-1:o,this._drop=s,this._queue=[],this._curSources=[],this._$handleSubAny=function(e){return t._handleSubAny(e)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function Lt(t){zt.call(this),this._addAll(t),this._initialised=!0}function jt(t){return 0===t.length?g():new Lt(t)}function Dt(t){var e=this;v.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(t){return e._handleAny(t)}}function Pt(t){return new Dt(t)}function Ht(t){return Pt(function(e){return t.length>e&&t[e]}).setName("concat")}function It(){zt.call(this)}function Vt(t,e,n){var r=this;zt.call(this,n),this._source=t,this._fn=e,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(t){return r._handleMain(t)}}function Ft(t,e){Vt.call(this,t,e)}function Ut(t,e){return function(n,r,i){var o=this;t.call(this),this._primary=n,this._secondary=r,this._name=n._name+"."+e,this._lastSecondary=re,this._$handleSecondaryAny=function(t){return o._handleSecondaryAny(t)},this._$handlePrimaryAny=function(t){return o._handlePrimaryAny(t)},this._init(i)}}function qt(t){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(t){this._emitValue(t)},_handlePrimaryError:function(t){this._emitError(t)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t){this._emitError(t)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case oe:return this._handlePrimaryValue(t.value);case ae:return this._handlePrimaryError(t.value);case ie:return this._handlePrimaryEnd(t.value)}},_handleSecondaryAny:function(t){switch(t.type){case oe:return this._handleSecondaryValue(t.value);case ae:return this._handleSecondaryError(t.value);case ie:this._handleSecondaryEnd(t.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){t.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Bt(t,e){var n=Ut(v,t);return r(n,v,qt(v),e),n}function $t(t,e){var n=Ut(m,t);return r(n,m,qt(m),e),n}function Rt(t,e){return new(t._ofSameType(hr,lr))(t,e)}function Yt(t,e,n){var r=n?function(t,e){return n(e,t)}:dr;return tt([e],[t],r).setName(t,"sampledBy")}function Wt(t,e){return new(t._ofSameType(_r,yr))(t,e)}function Xt(t,e){return new(t._ofSameType(mr,gr))(t,e)}function Zt(t,e,n){return new(t._ofSameType(wr,xr))(t,e,n)}function Jt(t,e,n){return new(t._ofSameType(Mr,Ar))(t,e,n)}function Kt(t,e){var n=jt([et(t,Sr),et(e,Tr)]);return n=ft(n),n=B(n,Tr),n.setName(t,"awaiting")}function Gt(t){var e=arguments.length<=1||void 0===arguments[1]?kr:arguments[1];return new(t._ofSameType(Or,Nr))(t,{fn:e})}function Qt(t){var e=arguments.length<=1||void 0===arguments[1]?Dr:arguments[1];return new(t._ofSameType(Lr,jr))(t,{fn:e})}function te(t){return new(t._ofSameType(Hr,Ir))(t)}function ee(){Fr=!1}function ne(t){if(Fr&&console&&"function"==typeof console.warn){var e="\nHere is an Error object for you containing the call stack:";console.warn(t,e,new Error)}}var re=["<nothing>"],ie="end",oe="value",ae="error",se="any";n(_.prototype,{add:function(t,e){return this._items=i(this._items,[{type:t,fn:e}]),this._items.length},remove:function(t,e){var n=a(this._items,function(n){return n.type===t&&n.fn===e});return 0!==this._inLoop&&n!==-1&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=u(this._items,n),this._items.length},addSpy:function(t){return this._spies=i(this._spies,[t]),this._spies.length},removeSpy:function(t){return this._spies=u(this._spies,this._spies.indexOf(t)),this._spies.length},dispatch:function(t){this._inLoop++;for(var e=0,n=this._spies;null!==this._spies&&e<n.length;e++)n[e](t);for(var r=0,i=this._items;r<i.length&&null!==this._items;r++)null!==this._removedItems&&l(this._removedItems,i[r])||p(i[r].type,i[r].fn,t);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null,this._spies=null}}),n(y.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,e){switch(t){case oe:return this._emitValue(e);case ae:return this._emitError(e);case ie:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:oe,value:t})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:ae,value:t})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:ie}),this._clear())},_on:function(t,e){return this._alive?(this._dispatcher.add(t,e),this._setActive(!0)):p(t,e,{type:ie}),this},_off:function(t,e){if(this._alive){var n=this._dispatcher.remove(t,e);0===n&&this._setActive(!1)}return this},onValue:function(t){return this._on(oe,t)},onError:function(t){return this._on(ae,t)},onEnd:function(t){return this._on(ie,t)},onAny:function(t){return this._on(se,t)},offValue:function(t){return this._off(oe,t)},offError:function(t){return this._off(ae,t)},offEnd:function(t){return this._off(ie,t)},offAny:function(t){return this._off(se,t)},observe:function(t,e,n){var r=this,i=!1,o=t&&"function"!=typeof t?t:{value:t,error:e,end:n},a=function(t){t.type===ie&&(i=!0),t.type===oe&&o.value?o.value(t.value):t.type===ae&&o.error?o.error(t.value):t.type===ie&&o.end&&o.end(t.value)};return this.onAny(a),{unsubscribe:function(){i||(r.offAny(a),i=!0)},get closed(){return i}}},_ofSameType:function(t,e){return t.prototype.getType()===this.getType()?t:e},setName:function(t,e){return this._name=e?t._name+"."+e:t,this},log:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0],e=void 0,n=function(n){var r="<"+n.type+(e?":current":"")+">";n.type===ie?console.log(t,r):console.log(t,r,n.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:n})),e=!0,this.onAny(n),e=!1,this},offLog:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0];if(this._logHandlers){var e=a(this._logHandlers,function(e){return e.name===t});e!==-1&&(this.offAny(this._logHandlers[e].handler),this._logHandlers.splice(e,1))}return this},spy:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0],e=function(e){var n="<"+e.type+">";e.type===ie?console.log(t,n):console.log(t,n,e.value)};return this._alive&&(this._spyHandlers||(this._spyHandlers=[]),this._spyHandlers.push({name:t,handler:e}),this._dispatcher.addSpy(e)),this},offSpy:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0];if(this._spyHandlers){var e=a(this._spyHandlers,function(e){return e.name===t;
});e!==-1&&(this._dispatcher.removeSpy(this._spyHandlers[e].handler),this._spyHandlers.splice(e,1))}return this}}),y.prototype.toString=function(){return"["+this._name+"]"},r(v,y,{_name:"stream",getType:function(){return"stream"}}),r(m,y,{_name:"property",_emitValue:function(t){this._alive&&(this._currentEvent={type:oe,value:t},this._activating||this._dispatcher.dispatch({type:oe,value:t}))},_emitError:function(t){this._alive&&(this._currentEvent={type:ae,value:t},this._activating||this._dispatcher.dispatch({type:ae,value:t}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:ie}),this._clear())},_on:function(t,e){return this._alive&&(this._dispatcher.add(t,e),this._setActive(!0)),null!==this._currentEvent&&p(t,e,this._currentEvent),this._alive||p(t,e,{type:ie}),this},getType:function(){return"property"}});var ue=new v;ue._emitEnd(),ue._name="never";var fe=b({_name:"later",_init:function(t){var e=t.x;this._x=e},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),ce=b({_name:"interval",_init:function(t){var e=t.x;this._x=e},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),he=b({_name:"sequentially",_init:function(t){var e=t.xs;this._xs=s(e)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),le=b({_name:"fromPoll",_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}}),de=b({_name:"withInterval",_init:function(t){var e=t.fn;this._fn=e,this._emitter=A(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var t=this._fn;t(this._emitter)}});r(S,v,{_name:"stream",_onActivation:function(){var t=this._fn,e=t(A(this));this._unsubscribe="function"==typeof e?e:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){v.prototype._clear.call(this),this._fn=null}});var pe=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];r(D,m,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),r(H,m,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var _e=q("toProperty",{_init:function(t){var e=t.fn;this._getInitialCurrent=e},_onActivation:function(){if(null!==this._getInitialCurrent){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}}),ye=U("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}}),ve="undefined"!=typeof window?window:"undefined"!=typeof Qi?Qi:"undefined"!=typeof self?self:{},me=X(function(t,e){function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}),ge=me&&"object"===("undefined"==typeof me?"undefined":Pi.typeof(me))&&"default"in me?me.default:me,be=X(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=ge,i=n(r),o=void 0;"undefined"!=typeof ve?o=ve:"undefined"!=typeof window&&(o=window);var a=(0,i.default)(o);e.default=a}),we=be&&"object"===("undefined"==typeof be?"undefined":Pi.typeof(be))&&"default"in be?be.default:be,xe=X(function(t){t.exports=we}),Ee=xe&&"object"===("undefined"==typeof xe?"undefined":Pi.typeof(xe))&&"default"in xe?xe.default:xe;n(J.prototype,{subscribe:function(t,e,n){var r=this,i="function"==typeof t?{next:t,error:e,complete:n}:t,o=function(t){t.type===ie&&(a=!0),t.type===oe&&i.next?i.next(t.value):t.type===ae&&i.error?i.error(t.value):t.type===ie&&i.complete&&i.complete(t.value)};this._observable.onAny(o);var a=!1,s={unsubscribe:function(){a=!0,r._observable.offAny(o)},get closed(){return a}};return s}}),J.prototype[Ee]=function(){return this},r(Q,v,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var t=this._activeCount;t<this._sources.length;t++)this._sources[t].onAny(this._$handlers[t]);for(var e=0;e<this._activeCount;e++)this._sources[e].onAny(this._$handlers[e]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var t=this._sources.length,e=void 0;for(e=0;e<t;e++)this._sources[e].offAny(this._$handlers[e])},_emitIfFull:function(){for(var t=!0,e=!1,n=this._latestValues.length,r=new Array(n),i=new Array(n),o=0;o<n;o++)r[o]=this._latestValues[o],i[o]=this._latestErrors[o],r[o]===re&&(t=!1),void 0!==i[o]&&(e=!0);if(t){var a=this._combinator;this._emitValue(a(r))}e&&this._emitError(G(i))},_handleAny:function(t,e){e.type===oe||e.type===ae?(e.type===oe&&(this._latestValues[t]=e.value,this._latestErrors[t]=void 0),e.type===ae&&(this._latestValues[t]=re,this._latestErrors[t]={index:this._latestErrorIndex++,error:e.value}),t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):t<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){v.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var Me={empty:function(){return g()},concat:function(t,e){return t.merge(e)},of:function(t){return P(t)},map:function(t,e){return e.map(t)},bimap:function(t,e,n){return n.mapErrors(t).map(e)},ap:function(t,e){return tt([t,e],function(t,e){return t(e)})},chain:function(t,e){return e.flatMap(t)}},Ae=Object.freeze({Observable:Me}),Te={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;this._emitValue(e(t))}},Se=U("map",Te),Ce=q("map",Te),Oe=function(t){return t},Ne={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;e(t)&&this._emitValue(t)}},ke=U("filter",Ne),ze=q("filter",Ne),Le=function(t){return t},je={_init:function(t){var e=t.n;this._n=e,e<=0&&this._emitEnd()},_handleValue:function(t){this._n--,this._emitValue(t),0===this._n&&this._emitEnd()}},De=U("take",je),Pe=q("take",je),He={_init:function(t){var e=t.n;this._n=e,e<=0&&this._emitEnd()},_handleError:function(t){this._n--,this._emitError(t),0===this._n&&this._emitEnd()}},Ie=U("takeErrors",He),Ve=q("takeErrors",He),Fe={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;e(t)?this._emitValue(t):this._emitEnd()}},Ue=U("takeWhile",Fe),qe=q("takeWhile",Fe),Be=function(t){return t},$e={_init:function(){this._lastValue=re},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==re&&this._emitValue(this._lastValue),this._emitEnd()}},Re=U("last",$e),Ye=q("last",$e),We={_init:function(t){var e=t.n;this._n=Math.max(0,e)},_handleValue:function(t){0===this._n?this._emitValue(t):this._n--}},Xe=U("skip",We),Ze=q("skip",We),Je={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;null===this._fn||e(t)||(this._fn=null),null===this._fn&&this._emitValue(t)}},Ke=U("skipWhile",Je),Ge=q("skipWhile",Je),Qe=function(t){return t},tn={_init:function(t){var e=t.fn;this._fn=e,this._prev=re},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var e=this._fn;this._prev!==re&&e(this._prev,t)||(this._prev=t,this._emitValue(t))}},en=U("skipDuplicates",tn),nn=q("skipDuplicates",tn),rn=function(t,e){return t===e},on={_init:function(t){var e=t.fn,n=t.seed;this._fn=e,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==re){var e=this._fn;this._emitValue(e(this._prev,t))}this._prev=t}},an=U("diff",on),sn=q("diff",on),un=q("scan",{_init:function(t){var e=t.fn,n=t.seed;this._fn=e,this._seed=n,n!==re&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var e=this._fn;null===this._currentEvent||this._currentEvent.type===ae?this._emitValue(this._seed===re?t:e(this._seed,t)):this._emitValue(e(this._currentEvent.value,t))}}),fn={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){for(var e=this._fn,n=e(t),r=0;r<n.length;r++)this._emitValue(n[r])}},cn=U("flatten",fn),hn=function(t){return t},ln={},dn={_init:function(t){var e=this,n=t.wait;this._wait=Math.max(0,n),this._buff=[],this._$shiftBuff=function(){var t=e._buff.shift();t===ln?e._emitEnd():e._emitValue(t)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(ln),setTimeout(this._$shiftBuff,this._wait))}},pn=U("delay",dn),_n=q("delay",dn),yn=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},vn={_init:function(t){var e=this,n=t.wait,r=t.leading,i=t.trailing;this._wait=Math.max(0,n),this._leading=r,this._trailing=i,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return e._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t){if(this._activating)this._emitValue(t);else{var e=yn();0!==this._lastCallTime||this._leading||(this._lastCallTime=e);var n=this._wait-(e-this._lastCallTime);n<=0?(this._cancelTrailing(),this._lastCallTime=e,this._emitValue(t)):this._trailing&&(this._cancelTrailing(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?yn():0,this._endLater&&this._emitEnd()}},mn=U("throttle",vn),gn=q("throttle",vn),bn={_init:function(t){var e=this,n=t.wait,r=t.immediate;this._wait=Math.max(0,n),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return e._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._lastAttempt=yn(),this._immediate&&!this._timeoutId&&this._emitValue(t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var t=yn()-this._lastAttempt;t<this._wait&&t>=0?this._timeoutId=setTimeout(this._$later,this._wait-t):(this._timeoutId=null,this._immediate||(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},wn=U("debounce",bn),xn=q("debounce",bn),En={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){var e=this._fn;this._emitError(e(t))}},Mn=U("mapErrors",En),An=q("mapErrors",En),Tn=function(t){return t},Sn={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){var e=this._fn;e(t)&&this._emitError(t)}},Cn=U("filterErrors",Sn),On=q("filterErrors",Sn),Nn=function(t){return t},kn={_handleValue:function(){}},zn=U("ignoreValues",kn),Ln=q("ignoreValues",kn),jn={_handleError:function(){}},Dn=U("ignoreErrors",jn),Pn=q("ignoreErrors",jn),Hn={_handleEnd:function(){}},In=U("ignoreEnd",Hn),Vn=q("ignoreEnd",Hn),Fn={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleEnd:function(){var t=this._fn;this._emitValue(t()),this._emitEnd()}},Un=U("beforeEnd",Fn),qn=q("beforeEnd",Fn),Bn={_init:function(t){var e=t.min,n=t.max;this._max=n,this._min=e,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t){this._buff=d(this._buff,t,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},$n=U("slidingWindow",Bn),Rn=q("slidingWindow",Bn),Yn={_init:function(t){var e=t.fn,n=t.flushOnEnd;this._fn=e,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t);var e=this._fn;e(t)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Wn=U("bufferWhile",Yn),Xn=q("bufferWhile",Yn),Zn=function(t){return t},Jn={_init:function(t){var e=t.count,n=t.flushOnEnd;this._count=e,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Kn=U("bufferWithCount",Jn),Gn=q("bufferWithCount",Jn),Qn={_init:function(t){var e=this,n=t.wait,r=t.count,i=t.flushOnEnd;this._wait=n,this._count=r,this._flushOnEnd=i,this._intervalId=null,this._$onTick=function(){return e._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},tr=U("bufferWithTimeOrCount",Qn),er=q("bufferWithTimeOrCount",Qn),nr={_init:function(t){var e=t.transducer;this._xform=e(St(this))},_free:function(){this._xform=null},_handleValue:function(t){null!==this._xform["@@transducer/step"](null,t)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},rr=U("transduce",nr),ir=q("transduce",nr),or={_init:function(t){var e=t.fn;this._handler=e,this._emitter=A(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._handler(this._emitter,t)}},ar=U("withHandler",or),sr=q("withHandler",or),ur=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};r(Nt,v,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var t=this._sources.length;this._aliveCount=t;for(var e=0;e<t&&this._active;e++)this._sources[e].onAny(this._$handlers[e])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._$handlers[t])},_emit:function(){for(var t=new Array(this._buffers.length),e=0;e<this._buffers.length;e++)t[e]=this._buffers[e].shift();var n=this._combinator;this._emitValue(n(t))},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(0===this._buffers[t].length)return!1;return!0},_handleAny:function(t,e){e.type===oe&&(this._buffers[t].push(e.value),this._isFull()&&this._emit()),e.type===ae&&this._emitError(e.value),e.type===ie&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){v.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var fr=function(t){return t};r(zt,v,{_name:"abstractPool",_add:function(t,e){e=e||fr,this._concurLim===-1||this._curSources.length<this._concurLim?this._addToCur(e(t)):this._queueLim===-1||this._queue.length<this._queueLim?this._addToQueue(e(t)):"old"===this._drop&&(this._removeOldest(),this._add(t,e))},_addAll:function(t){var e=this;c(t,function(t){return e._add(t)})},_remove:function(t){this._removeCur(t)===-1&&this._removeQueue(t)},_addToQueue:function(t){this._queue=i(this._queue,[t])},_addToCur:function(t){if(this._active){if(!t._alive)return void(t._currentEvent&&this._emit(t._currentEvent.type,t._currentEvent.value));this._currentlyAdding=t,t.onAny(this._$handleSubAny),this._currentlyAdding=null,t._alive&&(this._curSources=i(this._curSources,[t]),this._active&&this._subToEnd(t))}else this._curSources=i(this._curSources,[t])},_subToEnd:function(t){var e=this,n=function(){return e._removeCur(t)};this._$endHandlers.push({obs:t,handler:n}),t.onEnd(n)},_subscribe:function(t){t.onAny(this._$handleSubAny),this._active&&this._subToEnd(t)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var e=a(this._$endHandlers,function(e){return e.obs===t});e!==-1&&(t.offEnd(this._$endHandlers[e].handler),this._$endHandlers.splice(e,1))},_handleSubAny:function(t){t.type===oe?this._emitValue(t.value):t.type===ae&&this._emitError(t.value)},_removeQueue:function(t){var e=o(this._queue,t);return this._queue=u(this._queue,e),e},_removeCur:function(t){this._active&&this._unsubscribe(t);var e=o(this._curSources,t);return this._curSources=u(this._curSources,e),e!==-1&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),e},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=s(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var t=0,e=this._curSources;t<e.length&&this._active;t++)this._subscribe(e[t])},_onDeactivation:function(){for(var t=0,e=this._curSources;t<e.length;t++)this._unsubscribe(e[t]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){v.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),r(Lt,zt,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),r(Dt,v,{_name:"repeat",_handleAny:function(t){t.type===ie?(this._source=null,this._getSource()):this._emit(t.type,t.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var t=this._generator;null===this._source&&this._alive&&this._active;)this._source=t(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){v.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}}),r(It,zt,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}}),r(Vt,zt,{_onActivation:function(){zt.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){zt.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(t){if(t.type===oe){var e=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;e||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===ae&&this._emitError(t.value),t.type===ie&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){zt.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),r(Ft,Vt,{_handleMain:function(t){if(t.type===ae){var e=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;e||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===oe&&this._emitValue(t.value),t.type===ie&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var cr={_handlePrimaryValue:function(t){this._lastSecondary!==re&&this._lastSecondary&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary!==re&&this._lastSecondary||this._emitEnd()}},hr=Bt("filterBy",cr),lr=$t("filterBy",cr),dr=function(t,e){return e},pr={_handlePrimaryValue:function(t){this._lastSecondary!==re&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary===re&&this._emitEnd()}},_r=Bt("skipUntilBy",pr),yr=$t("skipUntilBy",pr),vr={_handleSecondaryValue:function(){this._emitEnd()}},mr=Bt("takeUntilBy",vr),gr=$t("takeUntilBy",vr),br={_init:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.flushOnEnd,n=void 0===e||e;this._buff=[],this._flushOnEnd=n},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},wr=Bt("bufferBy",br),xr=$t("bufferBy",br),Er={_init:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.flushOnEnd,n=void 0===e||e,r=t.flushOnChange,i=void 0!==r&&r;this._buff=[],this._flushOnEnd=n,this._flushOnChange=i},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(t){this._buff.push(t),this._lastSecondary===re||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==re&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(t){this._flushOnChange&&!t&&this._flush(),this._lastSecondary=t}},Mr=Bt("bufferWhileBy",Er),Ar=$t("bufferWhileBy",Er),Tr=function(){return!1},Sr=function(){return!0},Cr={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn,n=e(t);n.convert?this._emitError(n.error):this._emitValue(t)}},Or=U("valuesToErrors",Cr),Nr=q("valuesToErrors",Cr),kr=function(t){return{convert:!0,error:t}},zr={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){var e=this._fn,n=e(t);n.convert?this._emitValue(n.value):this._emitError(t)}},Lr=U("errorsToValues",zr),jr=q("errorsToValues",zr),Dr=function(t){return{convert:!0,value:t}},Pr={_handleError:function(t){this._emitError(t),this._emitEnd()}},Hr=U("endOnError",Pr),Ir=q("endOnError",Pr);y.prototype.toProperty=function(t){return B(this,t)},y.prototype.changes=function(){return $(this)},y.prototype.toPromise=function(t){return W(this,t)},y.prototype.toESObservable=K,y.prototype[Ee]=K,y.prototype.map=function(t){return et(this,t)},y.prototype.filter=function(t){return nt(this,t)},y.prototype.take=function(t){return rt(this,t)},y.prototype.takeErrors=function(t){return it(this,t)},y.prototype.takeWhile=function(t){return ot(this,t)},y.prototype.last=function(){return at(this)},y.prototype.skip=function(t){return st(this,t)},y.prototype.skipWhile=function(t){return ut(this,t)},y.prototype.skipDuplicates=function(t){return ft(this,t)},y.prototype.diff=function(t,e){return ht(this,t,e)},y.prototype.scan=function(t,e){return lt(this,t,e)},y.prototype.flatten=function(t){return dt(this,t)},y.prototype.delay=function(t){return pt(this,t)},y.prototype.throttle=function(t,e){return _t(this,t,e)},y.prototype.debounce=function(t,e){return yt(this,t,e)},y.prototype.mapErrors=function(t){return vt(this,t)},y.prototype.filterErrors=function(t){return mt(this,t)},y.prototype.ignoreValues=function(){return gt(this)},y.prototype.ignoreErrors=function(){return bt(this)},y.prototype.ignoreEnd=function(){return wt(this)},y.prototype.beforeEnd=function(t){return xt(this,t)},y.prototype.slidingWindow=function(t,e){return Et(this,t,e)},y.prototype.bufferWhile=function(t,e){return Mt(this,t,e)},y.prototype.bufferWithCount=function(t,e){return At(this,t,e)},y.prototype.bufferWithTimeOrCount=function(t,e,n){return Tt(this,t,e,n)},y.prototype.transduce=function(t){return Ct(this,t)},y.prototype.withHandler=function(t){return Ot(this,t)},y.prototype.combine=function(t,e){return tt([this,t],e)},y.prototype.zip=function(t,e){return kt([this,t],e)},y.prototype.merge=function(t){return jt([this,t])},y.prototype.concat=function(t){return Ht([this,t])};var Vr=function(){return new It};y.prototype.flatMap=function(t){return new Vt(this,t).setName(this,"flatMap")},y.prototype.flatMapLatest=function(t){return new Vt(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},y.prototype.flatMapFirst=function(t){return new Vt(this,t,{concurLim:1}).setName(this,"flatMapFirst")},y.prototype.flatMapConcat=function(t){return new Vt(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},y.prototype.flatMapConcurLimit=function(t,e){return new Vt(this,t,{queueLim:-1,concurLim:e}).setName(this,"flatMapConcurLimit")},y.prototype.flatMapErrors=function(t){return new Ft(this,t).setName(this,"flatMapErrors")},y.prototype.filterBy=function(t){return Rt(this,t)},y.prototype.sampledBy=function(t,e){return Yt(this,t,e)},y.prototype.skipUntilBy=function(t){return Wt(this,t)},y.prototype.takeUntilBy=function(t){return Xt(this,t)},y.prototype.bufferBy=function(t,e){return Zt(this,t,e)},y.prototype.bufferWhileBy=function(t,e){return Jt(this,t,e)};var Fr=!0;y.prototype.awaiting=function(t){return ne("You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145"),Kt(this,t)},y.prototype.valuesToErrors=function(t){return ne("You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149"),Gt(this,t)},y.prototype.errorsToValues=function(t){return ne("You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149"),Qt(this,t)},y.prototype.endOnError=function(){return ne("You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150"),te(this)};var Ur={Observable:y,Stream:v,Property:m,never:g,later:w,interval:x,sequentially:E,fromPoll:M,withInterval:T,fromCallback:O,fromNodeCallback:N,fromEvents:j,stream:C,constant:P,constantError:I,fromPromise:R,fromESObservable:Z,combine:tt,zip:kt,merge:jt,concat:Ht,Pool:It,pool:Vr,repeat:Pt,staticLand:Ae};Ur.Kefir=Ur,t.dissableDeprecationWarnings=ee,t.Kefir=Ur,t.Observable=y,t.Stream=v,t.Property=m,t.never=g,t.later=w,t.interval=x,t.sequentially=E,t.fromPoll=M,t.withInterval=T,t.fromCallback=O,t.fromNodeCallback=N,t.fromEvents=j,t.stream=C,t.constant=P,t.constantError=I,t.fromPromise=R,t.fromESObservable=Z,t.combine=tt,t.zip=kt,t.merge=jt,t.concat=Ht,t.Pool=It,t.pool=Vr,t.repeat=Pt,t.staticLand=Ae,t.default=Ur,Object.defineProperty(t,"__esModule",{value:!0})})}),Ta=e(Aa),Sa=function(t){t.preventDefault()},Ca=":host {\n  cursor: move;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  position: relative;\n}",Oa=" :host {display: inline-table} handle-box {display: inline-table}",Na=(Ot("handle-box",{attached:function(t){zt(t)},detached:function(t){Lt(t)},render:function(t){return[Ma("slot",""),Ma("style",Ca+Oa)]},rendered:function(t){}}),function(t,e,n){for(var r=null;t;){if(t.matches(e)){r=t;break}if(n&&t.matches(n))break;t=t.parentElement}return r}),ka=function t(e){e.dispatchEvent(new Event("animate")),setTimeout(function(){window.requestAnimationFrame(function(){t(e)})},1e3/e.fps)},za="graph-container, :host {display: inline-table}",La=(Ot("graph-container",{props:{fps:{attribute:!0,default:120}},attached:function(t){ka(t)},attributeChanged:function(t){},render:function(t){return[Ma("slot",{onSlotchange:function(e){t.dispatchEvent(new Event("graph-updated"))}}),Ma("style",za)]},updated:function(t){return!0}}),"http://www.w3.org/1999/xhtml"),ja={svg:"http://www.w3.org/2000/svg",xhtml:La,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Da=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var Pa=document.documentElement;if(!Pa.matches){var Ha=Pa.webkitMatchesSelector||Pa.msMatchesSelector||Pa.mozMatchesSelector||Pa.oMatchesSelector;Da=function(t){return function(){return Ha.call(this,t)}}}}var Ia=Da,Va={},Fa=null;if("undefined"!=typeof document){var Ua=document.documentElement;"onmouseenter"in Ua||(Va={mouseenter:"mouseover",mouseleave:"mouseout"})}te.prototype={constructor:te,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var qa="$";je.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ba=[null];cn.prototype=hn.prototype={constructor:cn,select:Wt,selectAll:Jt,filter:Kt,data:ie,enter:Qt,exit:oe,merge:ae,order:se,sort:ue,call:ce,nodes:he,node:le,size:de,empty:pe,each:_e,attr:xe,style:Se,property:ke,classed:Fe,text:$e,html:Xe,raise:Je,lower:Ge,append:Qe,insert:en,remove:rn,datum:on,on:$t,dispatch:fn};var $a=1e-12,Ra=Math.sqrt(3),Ya={draw:function(t,e){var n=-Math.sqrt(e/(3*Ra));t.moveTo(0,2*n),t.lineTo(-Ra*n,-n),t.lineTo(Ra*n,-n),t.closePath()}};_n.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:pn(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:pn(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},yn.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function t(e){function n(t){return 1===e?new _n(t):new yn(t,e)}return n.beta=function(e){return t(+e)},n}(.85),mn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:vn(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:vn(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new mn(t,e);
}return n.tension=function(e){return t(+e)},n}(0),gn.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:vn(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new gn(t,e)}return n.tension=function(e){return t(+e)},n}(0),bn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:vn(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new bn(t,e)}return n.tension=function(e){return t(+e)},n}(0),xn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:wn(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new xn(t,e):new mn(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),En.prototype={areaStart:dn,areaEnd:dn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:wn(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new En(t,e):new gn(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),Mn.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wn(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new Mn(t,e):new bn(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),On.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Cn(this,this._t0,Sn(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Cn(this,Sn(this,n=Tn(this,t,e)),n);break;default:Cn(this,this._t0,n=Tn(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Nn.prototype=Object.create(On.prototype)).point=function(t,e){On.prototype.point.call(this,e,t)},kn.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};var Wa=n(function(t,e){!function(n,r){"function"==typeof define&&define.amd?define([],r):"object"===("undefined"==typeof e?"undefined":Pi.typeof(e))?t.exports=r():n.Combinatorics=r()}(Qi,function(){var t="0.5.2",e=function(t,e){for(var n=1;e--;)n*=t--;return n},n=function(t,n){return n>t?0:e(t,n)/e(n,n)},r=function(t){return e(t,t)},i=function(t,e){var n=1;if(e)n=r(e);else{for(e=1;n<t;n*=++e);n>t&&(n/=e--)}for(var i=[0];e;n/=e--)i[e]=Math.floor(t/n),t%=n;return i},o=function(t,e){Object.keys(e).forEach(function(n){Object.defineProperty(t,n,{value:e[n],configurable:"next"==n})})},a=function(t,e){Object.defineProperty(t,e,{writable:!0})},s=function(t){var e,n=[];for(this.init();e=this.next();)n.push(t?t(e):e);return this.init(),n},u={toArray:s,map:s,forEach:function(t){var e;for(this.init();e=this.next();)t(e);this.init()},filter:function(t){var e,n=[];for(this.init();e=this.next();)t(e)&&n.push(e);return this.init(),n},lazyMap:function(t){return this._lazyMap=t,this},lazyFilter:function(t){if(Object.defineProperty(this,"next",{writable:!0}),"function"!=typeof t)this.next=this._next;else{"function"!=typeof this._next&&(this._next=this.next);var e=this._next.bind(this);this.next=function(){for(var n;n=e();)if(t(n))return n;return n}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}},f=function(t,e){var n=1<<t.length,r=function(){return n},i=Object.create(t.slice(),{length:{get:r}});return a(i,"index"),o(i,{valueOf:r,init:function(){i.index=0},nth:function(t){if(!(t>=n)){for(var e=0,r=[];t;t>>>=1,e++)1&t&&r.push(this[e]);return"function"==typeof i._lazyMap?i._lazyMap(r):r}},next:function(){return this.nth(this.index++)}}),o(i,u),i.init(),"function"==typeof e?i.map(e):i},c=function(t){var e=t&-t,n=t+e,r=n&-n,i=(r/e>>1)-1;return n|i},h=function(t,e,r){if(e||(e=t.length),e<1)throw new RangeError;if(e>t.length)throw new RangeError;var i=(1<<e)-1,s=n(t.length,e),f=1<<t.length,h=function(){return s},l=Object.create(t.slice(),{length:{get:h}});return a(l,"index"),o(l,{valueOf:h,init:function(){this.index=i},next:function(){if(!(this.index>=f)){for(var t=0,e=this.index,n=[];e;e>>>=1,t++)1&e&&(n[n.length]=this[t]);return this.index=c(this.index),"function"==typeof l._lazyMap?l._lazyMap(n):n}}}),o(l,u),l.init(),"function"==typeof r?l.map(r):l},l=function(t,e){var n=t,r=e,i=0;for(i=n.length-1;i>=0&&1==n[i];i--)r--;if(0==r){n[n.length]=1;for(var o=n.length-2;o>=0;o--)n[o]=o<e-1?1:0}else{for(var a=-1,s=-1,i=0;i<n.length;i++)if(0==n[i]&&a!=-1&&(s=i),1==n[i]&&(a=i),s!=-1&&a!=-1){n[s]=1,n[a]=0;break}r=e;for(var i=n.length-1;i>=a;i--)1==n[i]&&r--;for(var i=0;i<a;i++)n[i]=i<r?1:0}return n},d=function(t){for(var e=[],n=0;n<t;n++)e[n]=1;return e[0]=1,e},p=function(t,e,r){if(e||(e=t.length),e<1)throw new RangeError;if(e>t.length)throw new RangeError;var i=d(e),s=n(t.length,e),f=t.length,c=function(){return s},h=Object.create(t.slice(),{length:{get:c}});return a(h,"index"),o(h,{valueOf:c,init:function(){this.index=i.concat()},next:function(){if(!(this.index.length>f)){for(var t=0,n=this.index,r=[],i=0;i<n.length;i++,t++)n[i]&&(r[r.length]=this[t]);return l(this.index,e),"function"==typeof h._lazyMap?h._lazyMap(r):r}}}),o(h,u),h.init(),"function"==typeof r?h.map(r):h},_=function(t){var e=t.slice(),n=r(e.length);return e.index=0,e.next=function(){if(!(this.index>=n)){for(var t=this.slice(),r=i(this.index,this.length),o=[],a=this.length-1;a>=0;--a)o.push(t.splice(r[a],1)[0]);return this.index++,"function"==typeof e._lazyMap?e._lazyMap(o):o}},e},y=function(t,n,r){if(n||(n=t.length),n<1)throw new RangeError;if(n>t.length)throw new RangeError;var i=e(t.length,n),s=function(){return i},f=Object.create(t.slice(),{length:{get:s}});return a(f,"cmb"),a(f,"per"),o(f,{valueOf:function(){return i},init:function(){this.cmb=h(t,n),this.per=_(this.cmb.next())},next:function(){var t=this.per.next();if(!t){var e=this.cmb.next();if(!e)return;return this.per=_(e),this.next()}return"function"==typeof f._lazyMap?f._lazyMap(t):t}}),o(f,u),f.init(),"function"==typeof r?f.map(r):f},v=function(t){for(var n=0,r=1;r<=t;r++){var i=e(t,r);n+=i}return n},m=function(t,e){var n=v(t.length),r=function(){return n},i=Object.create(t.slice(),{length:{get:r}});return a(i,"cmb"),a(i,"per"),a(i,"nelem"),o(i,{valueOf:function(){return n},init:function(){this.nelem=1,this.cmb=h(t,this.nelem),this.per=_(this.cmb.next())},next:function(){var e=this.per.next();if(!e){var n=this.cmb.next();if(!n){if(this.nelem++,this.nelem>t.length)return;if(this.cmb=h(t,this.nelem),n=this.cmb.next(),!n)return}return this.per=_(n),this.next()}return"function"==typeof i._lazyMap?i._lazyMap(e):e}}),o(i,u),i.init(),"function"==typeof e?i.map(e):i},g=Array.prototype.slice,b=function(){if(!arguments.length)throw new RangeError;var t=g.call(arguments),e=t.reduce(function(t,e){return t*e.length},1),n=function(){return e},r=t.length,i=Object.create(t,{length:{get:n}});if(!e)throw new RangeError;return a(i,"index"),o(i,{valueOf:n,dim:r,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var t=[],e=0;e<r;e++){var n=arguments[e];if(n>=this[e].length)return;t.push(this[e][n])}return"function"==typeof i._lazyMap?i._lazyMap(t):t}},nth:function(t){for(var e=[],n=0;n<r;n++){var o=this[n].length,a=t%o;e.push(this[n][a]),t-=a,t/=o}return"function"==typeof i._lazyMap?i._lazyMap(e):e},next:function(){if(!(this.index>=e)){var t=this.nth(this.index);return this.index++,t}}}),o(i,u),i.init(),i},w=function(t,e,n){if(e||(e=t.length),e<1)throw new RangeError;var r=t.length,i=Math.pow(r,e),s=function(){return i},f=Object.create(t.slice(),{length:{get:s}});return a(f,"index"),o(f,{valueOf:s,init:function(){f.index=0},nth:function(n){if(!(n>=i)){for(var o=[],a=0;a<e;a++){var s=n%r;o.push(t[s]),n-=s,n/=r}return"function"==typeof f._lazyMap?f._lazyMap(o):o}},next:function(){return this.nth(this.index++)}}),o(f,u),f.init(),"function"==typeof n?f.map(n):f},x=Object.create(null);return o(x,{C:n,P:e,factorial:r,factoradic:i,cartesianProduct:b,combination:h,bigCombination:p,permutation:y,permutationCombination:m,power:f,baseN:w,VERSION:t}),x})});e(Wa);var Xa=n(function(t,e){function n(t,e){return this instanceof n?(this.x=t||0,void(this.y=e||0)):new n(t,e)}function r(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function i(t){return t*a}function o(t){return t/a}e=t.exports=n,n.fromArray=function(t){return new n(t[0]||0,t[1]||0)},n.fromObject=function(t){return new n(t.x||0,t.y||0)},n.prototype.addX=function(t){return this.x+=t.x,this},n.prototype.addY=function(t){return this.y+=t.y,this},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},n.prototype.addScalarX=function(t){return this.x+=t,this},n.prototype.addScalarY=function(t){return this.y+=t,this},n.prototype.subtractX=function(t){return this.x-=t.x,this},n.prototype.subtractY=function(t){return this.y-=t.y,this},n.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},n.prototype.subtractScalarX=function(t){return this.x-=t,this},n.prototype.subtractScalarY=function(t){return this.y-=t,this},n.prototype.divideX=function(t){return this.x/=t.x,this},n.prototype.divideY=function(t){return this.y/=t.y,this},n.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},n.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},n.prototype.divideScalarX=function(t){return 0!==t?this.x/=t:this.x=0,this},n.prototype.divideScalarY=function(t){return 0!==t?this.y/=t:this.y=0,this},n.prototype.invertX=function(){return this.x*=-1,this},n.prototype.invertY=function(){return this.y*=-1,this},n.prototype.invert=function(){return this.invertX(),this.invertY(),this},n.prototype.multiplyX=function(t){return this.x*=t.x,this},n.prototype.multiplyY=function(t){return this.y*=t.y,this},n.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},n.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},n.prototype.multiplyScalarX=function(t){return this.x*=t,this},n.prototype.multiplyScalarY=function(t){return this.y*=t,this},n.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divide(n(t,t)),this},n.prototype.norm=n.prototype.normalize,n.prototype.limit=function(t,e){return Math.abs(this.x)>t&&(this.x*=e),Math.abs(this.y)>t&&(this.y*=e),this},n.prototype.randomize=function(t,e){return this.randomizeX(t,e),this.randomizeY(t,e),this},n.prototype.randomizeX=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x);return this.x=r(n,i),this},n.prototype.randomizeY=function(t,e){var n=Math.min(t.y,e.y),i=Math.max(t.y,e.y);return this.y=r(n,i),this},n.prototype.randomizeAny=function(t,e){return Math.round(Math.random())?this.randomizeX(t,e):this.randomizeY(t,e),this},n.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},n.prototype.toFixed=function(t){return"undefined"==typeof t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},n.prototype.mixX=function(t,e){return"undefined"==typeof e&&(e=.5),this.x=(1-e)*this.x+e*t.x,this},n.prototype.mixY=function(t,e){return"undefined"==typeof e&&(e=.5),this.y=(1-e)*this.y+e*t.y,this},n.prototype.mix=function(t,e){return this.mixX(t,e),this.mixY(t,e),this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyX=function(t){return this.x=t.x,this},n.prototype.copyY=function(t){return this.y=t.y,this},n.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},n.prototype.zero=function(){return this.x=this.y=0,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.cross=function(t){return this.x*t.y-this.y*t.x},n.prototype.projectOnto=function(t){var e=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=e*t.x,this.y=e*t.y,this},n.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},n.prototype.horizontalAngleDeg=function(){return i(this.horizontalAngle())},n.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},n.prototype.verticalAngleDeg=function(){return i(this.verticalAngle())},n.prototype.angle=n.prototype.horizontalAngle,n.prototype.angleDeg=n.prototype.horizontalAngleDeg,n.prototype.direction=n.prototype.horizontalAngle,n.prototype.rotate=function(t){var e=this.x*Math.cos(t)-this.y*Math.sin(t),n=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=e,this.y=n,this},n.prototype.rotateDeg=function(t){return t=o(t),this.rotate(t)},n.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},n.prototype.rotateToDeg=function(t){return t=o(t),this.rotateTo(t)},n.prototype.rotateBy=function(t){var e=this.angle()+t;return this.rotate(e)},n.prototype.rotateByDeg=function(t){return t=o(t),this.rotateBy(t)},n.prototype.distanceX=function(t){return this.x-t.x},n.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},n.prototype.distanceY=function(t){return this.y-t.y},n.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},n.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},n.prototype.distanceSq=function(t){var e=this.distanceX(t),n=this.distanceY(t);return e*e+n*n},n.prototype.length=function(){return Math.sqrt(this.lengthSq())},n.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},n.prototype.magnitude=n.prototype.length,n.prototype.isZero=function(){return 0===this.x&&0===this.y},n.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},n.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},n.prototype.toArray=function(){return[this.x,this.y]},n.prototype.toObject=function(){return{x:this.x,y:this.y}};var a=180/Math.PI}),Za=e(Xa),Ja=(Za(1,0),100),Ka=function(t,e,n,r){return Math.pow(Math.pow(r/n*Math.cos(t),e)+Math.pow(Math.sin(t),e),-1/e)},Ga=function(t,e,n,r){return new Za(r*Math.cos(t)*Ka(t,e,n,r),r*Math.sin(t)*Ka(t,e,n,r))},Qa=Symbol(),ts=Symbol(),es=function(t){var e=t[Qa]=t.getBoundingClientRect();t[ts]=e.top>=0||e.left>=0||e.bottom<=(window.innerHeight||document.documentElement.clientHeight)||e.right<=(window.innerWidth||document.documentElement.clientWidth)},ns=function(t,e,n){if(e.source[ts]||e.target[ts]){var r=e.source[Qa],i=e.target[Qa],o=jn(r,i,e.source.round,e.target.round,void 0,0),a=e.color?e.color:n.color,s=e.thickness?e.thickness:n.thickness,u=e.segments?e.segments:n.segments;u=u?u:[],t.setLineDash(u),t.strokeStyle=a,t.fillStyle=a,t.lineWidth=s;var f=1*s,c=1+2*f,h=c+3,l=o[1].clone().subtract(o[0]),d=l.length();t.beginPath(),t.save(),t.translate(o[0].x,o[0].y),t.rotate(Math.atan2(l.y,l.x)),t.moveTo(h,0),t.lineTo(d-h,0),t.stroke(),t.closePath(),t.beginPath(),e.direction<=0&&(t.save(),t.rotate(-Math.PI/2),t.translate(0,7+c),Ya.draw(t,5*f*f+25),t.restore()),e.direction>=0&&(t.translate(d,0),t.rotate(Math.PI/2),t.translate(0,7+c),Ya.draw(t,5*f*f+25)),t.restore(),t.setLineDash([]),t.stroke(),t.fill(),t.closePath()}},rs=n(function(t,e){e.clone=function t(e){var n="undefined"==typeof e?"undefined":Pi.typeof(e);if("number"===n||"string"===n||"boolean"===n||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return t(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e&&e.isBigNumber===!0)return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t(e[i]));return r},e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.deepExtend=function t(e,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(n.hasOwnProperty(r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?t(e[r],n[r]):e[r]=n[r];else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");e[r]=n[r]}return e},e.deepEqual=function(t,n){var r,i,o;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!=n.length)return!1;for(i=0,o=t.length;i<o;i++)if(!e.deepEqual(t[i],n[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in t)if(!e.deepEqual(t[r],n[r]))return!1;for(r in n)if(!e.deepEqual(t[r],n[r]))return!1;return!0}return("undefined"==typeof t?"undefined":Pi.typeof(t))===("undefined"==typeof n?"undefined":Pi.typeof(n))&&t==n},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,n,r){if(e.canDefineProperty()){var i,o=!0;Object.defineProperty(t,n,{get:function(){return o&&(i=r(),o=!1),i},set:function(t){i=t,o=!1},configurable:!0,enumerable:!0})}else t[n]=r()},e.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}return n},e.isFactory=function(t){return t&&"function"==typeof t.factory}}),is=e(rs),os=rs.isFactory,as=rs.traverse,ss=rs.lazy,us=rs.canDefineProperty,fs=rs.deepEqual,cs=rs.deepExtend,hs=rs.extend,ls=rs.clone,ds=Object.freeze({default:is,isFactory:os,traverse:as,lazy:ss,canDefineProperty:us,deepEqual:fs,deepExtend:cs,extend:hs,clone:ls}),ps=n(function(t,e){!function(n,r){"function"==typeof define&&define.amd?define([],r):"object"===("undefined"==typeof e?"undefined":Pi.typeof(e))?t.exports=r():n.typed=r()}(Qi,function(){function t(){function e(t){for(var e,n=0;n<x.types.length;n++){var r=x.types[n];if(r.name===t){e=r.test;break}}if(!e){var i;for(n=0;n<x.types.length;n++)if(r=x.types[n],r.name.toLowerCase()==t.toLowerCase()){i=r.name;break}throw new Error('Unknown type "'+t+'"'+(i?'. Did you mean "'+i+'"?':""))}return e}function n(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(r.signatures&&""!=r.name)if(""==e)e=r.name;else if(e!=r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function r(t,e,n,r,i){var o,a=p(r),s=i?i.split(","):null,u=t||"unnamed",f=s&&_(s,"any"),c={fn:t,index:n,actual:r,expected:s};o=s?e>n&&!f?"Unexpected type of argument in function "+u+" (expected: "+s.join(" or ")+", actual: "+a+", index: "+n+")":"Too few arguments in function "+u+" (expected: "+s.join(" or ")+", index: "+n+")":"Too many arguments in function "+u+" (expected: "+n+", actual: "+e+")";var h=new TypeError(o);return h.data=c,h}function i(t){this.name=t||"refs",this.categories={}}function o(t,e){if("string"==typeof t){var n=t.trim(),r="..."===n.substr(0,3);if(r&&(n=n.substr(3)),""===n)this.types=["any"];else{this.types=n.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(t)){if(t instanceof o)return t.clone();throw new Error("String or Array expected")}this.types=t}this.conversions=[],this.varArgs=r||e||!1,this.anyType=this.types.indexOf("any")!==-1}function a(t,e){var n;if("string"==typeof t)n=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");n=t}this.params=new Array(n.length);for(var r=0;r<n.length;r++){var i=new o(n[r]);if(this.params[r]=i,r===n.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}function s(t,e,n){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=n||[]}function u(t){var e,n,r={},i=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if(e=new a(o,s),e.ignore())continue;var u=e.expand();for(n=0;n<u.length;n++){var f=u[n],c=f.toString(),h=r[c];if(h){var l=a.compare(f,h);if(l<0)r[c]=f;else if(0===l)throw new Error('Signature "'+c+'" is defined twice')}else r[c]=f}}for(c in r)r.hasOwnProperty(c)&&i.push(r[c]);for(i.sort(function(t,e){return a.compare(t,e)}),n=0;n<i.length;n++)if(e=i[n],e.varArgs)for(var d=e.params.length-1,p=e.params[d],y=0;y<p.types.length;){if(p.conversions[y])for(var v=p.types[y],m=0;m<i.length;m++){var g=i[m],b=g.params[d];if(g!==e&&b&&_(b.types,v)&&!b.conversions[d]){p.types.splice(y,1),p.conversions.splice(y,1),y--;break}}y++}return i}function f(t){for(var e={},n=0;n<t.length;n++){var r=t[n];if(r.fn&&!r.hasConversions()){var i=r.params.join(",");e[i]=r.fn}}return e}function c(t,e){var n,r,i,a=e.length,u=[];for(n=0;n<t.length;n++)r=t[n],r.params.length!==a||i||(i=r),void 0!=r.params[a]&&u.push(r);u.sort(function(t,e){return o.compare(t.params[a],e.params[a])});var f=[];for(n=0;n<u.length;n++){r=u[n];var h=r.params[a],l=f.filter(function(t){return t.param.overlapping(h)})[0];if(l){if(l.param.varArgs)throw new Error('Conflicting types "'+l.param+'" and "'+h+'"');l.signatures.push(r)}else f.push({param:h,signatures:[r]})}var d=new Array(f.length);for(n=0;n<f.length;n++){var p=f[n];d[n]=c(p.signatures,e.concat(p.param))}return new s(e,i,d)}function h(t){for(var e=[],n=0;n<t;n++)e[n]="arg"+n;return e}function l(t,e){var n=new i,o=u(e);if(0==o.length)throw new Error("No signatures provided");var a=c(o,[]),s=[],l=t||"",p=h(d(o));s.push("function "+l+"("+p.join(", ")+") {"),s.push('  "use strict";'),s.push("  var name = '"+l+"';"),s.push(a.toCode(n,"  ")),s.push("}");var _=[n.toCode(),"return "+s.join("\n")].join("\n"),y=new Function(n.name,"createError",_),v=y(n,r);return v.signatures=f(o),v}function d(t){for(var e=0,n=0;n<t.length;n++){var r=t[n].params.length;r>e&&(e=r)}return e}function p(t){for(var e,n=0;n<x.types.length;n++){var r=x.types[n];if("Object"===r.name)e=r;else if(r.test(t))return r.name}return e&&e.test(t)?e.name:"unknown"}function _(t,e){return t.indexOf(e)!==-1}function y(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}function v(t,e){var n=p(t);if(e===n)return t;for(var r=0;r<x.conversions.length;r++){var i=x.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)}i.prototype.add=function(t,e){var n=e||"fn";this.categories[n]||(this.categories[n]=[]);var r=this.categories[n].indexOf(t);return r==-1&&(r=this.categories[n].length,this.categories[n].push(t)),n+r},i.prototype.toCode=function(){var t=[],e=this.name+".categories",n=this.categories;for(var r in n)if(n.hasOwnProperty(r))for(var i=n[r],o=0;o<i.length;o++)t.push("var "+r+o+" = "+e+"['"+r+"']["+o+"];");return t.join("\n")},o.compare=function(t,e){if(t.anyType)return 1;if(e.anyType)return-1;if(_(t.types,"Object"))return 1;if(_(e.types,"Object"))return-1;if(t.hasConversions()){if(e.hasConversions()){var n,r,i;for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){r=t.conversions[n];break}for(n=0;n<e.conversions.length;n++)if(void 0!==e.conversions[n]){i=e.conversions[n];break}return x.conversions.indexOf(r)-x.conversions.indexOf(i)}return 1}if(e.hasConversions())return-1;var o,a;for(n=0;n<x.types.length;n++)if(x.types[n].name===t.types[0]){o=n;break}for(n=0;n<x.types.length;n++)if(x.types[n].name===e.types[0]){a=n;break}return o-a},o.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(_(t.types,this.types[e]))return!0;return!1},o.prototype.clone=function(){var t=new o(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},o.prototype.hasConversions=function(){return this.conversions.length>0},o.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},o.prototype.toString=function(t){for(var e=[],n={},r=0;r<this.types.length;r++){var i=this.conversions[r],o=t&&i?i.to:this.types[r];o in n||(n[o]=!0,e.push(o))}return(this.varArgs?"...":"")+e.join("|")},a.prototype.clone=function(){return new a(this.params.slice(),this.fn)},a.prototype.expand=function(){function t(n,r){if(r.length<n.params.length){var i,s,u,f=n.params[r.length];if(f.varArgs){for(s=f.clone(),i=0;i<x.conversions.length;i++)if(u=x.conversions[i],!_(f.types,u.from)&&_(f.types,u.to)){var c=s.types.length;s.types[c]=u.from,s.conversions[c]=u}t(n,r.concat(s))}else{for(i=0;i<f.types.length;i++)t(n,r.concat(new o(f.types[i])));for(i=0;i<x.conversions.length;i++)u=x.conversions[i],!_(f.types,u.from)&&_(f.types,u.to)&&(s=new o(u.from),s.conversions[0]=u,t(n,r.concat(s)))}}else e.push(new a(r,n.fn))}var e=[];return t(this,[]),e},a.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;var n,r=t.params.length,i=0,a=0;for(n=0;n<r;n++)t.params[n].hasConversions()&&i++,e.params[n].hasConversions()&&a++;if(i>a)return 1;if(i<a)return-1;for(n=0;n<t.params.length;n++){var s=o.compare(t.params[n],e.params[n]);if(0!==s)return s}return 0},a.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},a.prototype.ignore=function(){for(var t={},e=0;e<x.ignore.length;e++)t[x.ignore[e]]=!0;for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},a.prototype.toCode=function(t,e){for(var n=[],r=new Array(this.params.length),i=0;i<this.params.length;i++){var o=this.params[i],a=o.conversions[0];o.varArgs?r[i]="varArgs":a?r[i]=t.add(a.convert,"convert")+"(arg"+i+")":r[i]="arg"+i}var s=this.fn?t.add(this.fn,"signature"):void 0;return s?e+"return "+s+"("+r.join(", ")+"); // signature: "+this.params.join(", "):n.join("\n")},a.prototype.toString=function(){return this.params.join(", ")},s.prototype.toCode=function(t,n,r){var i=[];if(this.param){var o=this.path.length-1,a=this.param.conversions[0],s="// type: "+(a?a.from+" (convert to "+a.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)i.push(n+"if (arguments.length > "+o+") {"),i.push(n+"  var varArgs = [];"),i.push(n+"  for (var i = "+o+"; i < arguments.length; i++) {"),i.push(n+"    varArgs.push(arguments[i]);"),i.push(n+"  }"),i.push(this.signature.toCode(t,n+"  ")),i.push(n+"}");else{for(var u=function(n,r){for(var i=[],o=0;o<n.length;o++)i[o]=t.add(e(n[o]),"test")+"("+r+")";return i.join(" || ")}.bind(this),f=this.param.types,c=[],h=0;h<f.length;h++)void 0===this.param.conversions[h]&&c.push(f[h]);i.push(n+"if ("+u(f,"arg"+o)+") { "+s),i.push(n+"  var varArgs = [arg"+o+"];"),i.push(n+"  for (var i = "+(o+1)+"; i < arguments.length; i++) {"),i.push(n+"    if ("+u(c,"arguments[i]")+") {"),i.push(n+"      varArgs.push(arguments[i]);");for(var h=0;h<f.length;h++){var l=this.param.conversions[h];if(l){var d=t.add(e(f[h]),"test"),p=t.add(l.convert,"convert");i.push(n+"    }"),i.push(n+"    else if ("+d+"(arguments[i])) {"),i.push(n+"      varArgs.push("+p+"(arguments[i]));")}}i.push(n+"    } else {"),i.push(n+"      throw createError(name, arguments.length, i, arguments[i], '"+c.join(",")+"');"),i.push(n+"    }"),i.push(n+"  }"),i.push(this.signature.toCode(t,n+"  ")),i.push(n+"}")}else if(this.param.anyType)i.push(n+"// type: any"),i.push(this._innerCode(t,n,r));else{var _=this.param.types[0],d="any"!==_?t.add(e(_),"test"):null;i.push(n+"if ("+d+"(arg"+o+")) { "+s),i.push(this._innerCode(t,n+"  ",r)),i.push(n+"}")}}else i.push(this._innerCode(t,n,r));return i.join("\n")},s.prototype._innerCode=function(t,e,n){var r,i=[];this.signature&&(i.push(e+"if (arguments.length === "+this.path.length+") {"),i.push(this.signature.toCode(t,e+"  ")),i.push(e+"}"));var o;for(r=0;r<this.childs.length;r++)if(this.childs[r].param.anyType){o=this.childs[r];break}for(r=0;r<this.childs.length;r++)i.push(this.childs[r].toCode(t,e,o));n&&!this.param.anyType&&i.push(n.toCode(t,e,o));
var a=this._exceptions(t,e);return a&&i.push(a),i.join("\n")},s.prototype._exceptions=function(t,e){var n=this.path.length;if(0===this.childs.length)return[e+"if (arguments.length > "+n+") {",e+"  throw createError(name, arguments.length, "+n+", arguments["+n+"]);",e+"}"].join("\n");for(var r={},i=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var s=0;s<a.param.types.length;s++){var u=a.param.types[s];u in r||a.param.conversions[s]||(r[u]=!0,i.push(u))}}return e+"throw createError(name, arguments.length, "+n+", arguments["+n+"], '"+i.join(",")+"');"};var m=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===("undefined"==typeof t?"undefined":Pi.typeof(t))}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],g={},b=[],w=[],x={config:g,types:m,conversions:b,ignore:w};return x=l("typed",{Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);var i=n(e);return l(i,t)},"string, Object":l,"...Function":function(t){for(var e,r=n(t),i={},o=0;o<t.length;o++){var a=t[o];if("object"!==Pi.typeof(a.signatures))throw e=new TypeError("Function is no typed-function (index: "+o+")"),e.data={index:o},e;for(var s in a.signatures)if(a.signatures.hasOwnProperty(s))if(i.hasOwnProperty(s)){if(a.signatures[s]!==i[s])throw e=new Error('Signature "'+s+'" is defined twice'),e.data={signature:s},e}else i[s]=a.signatures[s]}return l(r,i)}}),x.config=g,x.types=m,x.conversions=b,x.ignore=w,x.create=t,x.find=y,x.convert=v,x.addType=function(t){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");x.types.push(t)},x.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");x.conversions.push(t)},x}return t()})}),_s=e(ps),ys=Object.freeze({default:_s}),vs=n(function(t){function e(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number");var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1,this.sign=n,this.coefficients=r.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)}),0===this.coefficients.length&&(this.coefficients.push(0),i++),this.exponent=i}function n(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}e.prototype.toEngineering=function(t){var e=this.roundDigits(t),r=e.exponent,i=e.coefficients,o=r%3===0?r:r<0?r-3-r%3:r-r%3,a=r>=0?r:Math.abs(o);i.length-1<a&&(i=i.concat(n(a-(i.length-1))));for(var s=Math.abs(r-o),u=1,f="";--s>=0;)u++;var c=i.slice(u).join(""),h=c.match(/[1-9]/)?"."+c:"";return f=i.slice(0,u).join("")+h,f+="e"+(r>=0?"+":"")+o.toString(),e.sign+f},e.prototype.toFixed=function(t){var e=this.roundDigits(this.exponent+1+(t||0)),r=e.coefficients,i=e.exponent+1,o=i+(t||0);return r.length<o&&(r=r.concat(n(o-r.length))),i<0&&(r=n(-i+1).concat(r),i=1),t&&r.splice(i,0,0===i?"0.":"."),this.sign+r.join("")},e.prototype.toExponential=function(t){var e=t?this.roundDigits(t):this.clone(),r=e.coefficients,i=e.exponent;r.length<t&&(r=r.concat(n(t-r.length)));var o=r.shift();return this.sign+o+(r.length>0?"."+r.join(""):"")+"e"+(i>=0?"+":"")+i},e.prototype.toPrecision=function(t,e){var r=e&&void 0!==e.lower?e.lower:.001,i=e&&void 0!==e.upper?e.upper:1e5,o=Math.abs(Math.pow(10,this.exponent));if(o<r||o>=i)return this.toExponential(t);var a=t?this.roundDigits(t):this.clone(),s=a.coefficients,u=a.exponent;s.length<t&&(s=s.concat(n(t-s.length))),s=s.concat(n(u-s.length+1+(s.length<t?t-s.length:0))),s=n(-u).concat(s);var f=u>0?u:0;return f<s.length-1&&s.splice(f+1,0,"."),this.sign+s.join("")},e.prototype.clone=function(){var t=new e("0");return t.sign=this.sign,t.coefficients=this.coefficients.slice(0),t.exponent=this.exponent,t},e.prototype.roundDigits=function(t){for(var e=this.clone(),n=e.coefficients;t<=0;)n.unshift(0),e.exponent++,t++;if(n.length>t){var r=n.splice(t,n.length-t);if(r[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),e.exponent++,i++),i--,n[i]++}}return e},t.exports=e}),ms=e(vs),gs=Object.freeze({default:ms}),bs=n(function(t,n){var r=e(gs);n.isNumber=function(t){return"number"==typeof t},n.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},n.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},n.format=function(t,e){if("function"==typeof e)return e(t);if(t===1/0)return"Infinity";if(t===-(1/0))return"-Infinity";if(isNaN(t))return"NaN";var r="auto",i=void 0;switch(e&&(e.notation&&(r=e.notation),n.isNumber(e)?i=e:e.precision&&(i=e.precision)),r){case"fixed":return n.toFixed(t,i);case"exponential":return n.toExponential(t,i);case"engineering":return n.toEngineering(t,i);case"auto":return n.toPrecision(t,i,e&&e.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},n.toExponential=function(t,e){return new r(t).toExponential(e)},n.toEngineering=function(t,e){return new r(t).toEngineering(e)},n.toFixed=function(t,e){return new r(t).toFixed(e)},n.toPrecision=function(t,e,n){return new r(t).toPrecision(e,n)},n.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},n.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,n.nearlyEqual=function(t,e,r){if(null==r)return t==e;if(t==e)return!0;if(isNaN(t)||isNaN(e))return!1;if(isFinite(t)&&isFinite(e)){var i=Math.abs(t-e);return i<n.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(e))*r}return!1}}),ws=e(bs),xs=bs.nearlyEqual,Es=bs.DBL_EPSILON,Ms=bs.digits,As=bs.toPrecision,Ts=bs.toFixed,Ss=bs.toEngineering,Cs=bs.toExponential,Os=bs.format,Ns=bs.sign,ks=bs.isInteger,zs=bs.isNumber,Ls=Object.freeze({default:ws,nearlyEqual:xs,DBL_EPSILON:Es,digits:Ms,toPrecision:As,toFixed:Ts,toEngineering:Ss,toExponential:Cs,format:Os,sign:Ns,isInteger:ks,isNumber:zs}),js=n(function(t,n){var r=e(ys),i=e(Ls).digits,o=function(){return o=r.create,r};n.create=function(t){var e=o();return e.types=[{name:"number",test:function(t){return"number"==typeof t}},{name:"Complex",test:function(t){return t&&t.isComplex}},{name:"BigNumber",test:function(t){return t&&t.isBigNumber}},{name:"Fraction",test:function(t){return t&&t.isFraction}},{name:"Unit",test:function(t){return t&&t.isUnit}},{name:"string",test:function(t){return"string"==typeof t}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(t){return t&&t.isMatrix}},{name:"DenseMatrix",test:function(t){return t&&t.isDenseMatrix}},{name:"SparseMatrix",test:function(t){return t&&t.isSparseMatrix}},{name:"ImmutableDenseMatrix",test:function(t){return t&&t.isImmutableDenseMatrix}},{name:"Range",test:function(t){return t&&t.isRange}},{name:"Index",test:function(t){return t&&t.isIndex}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"ResultSet",test:function(t){return t&&t.isResultSet}},{name:"Help",test:function(t){return t&&t.isHelp}},{name:"function",test:function(t){return"function"==typeof t}},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===("undefined"==typeof t?"undefined":Pi.typeof(t))}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(i(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new t.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new t.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}}),Ds=e(js),Ps=js.create,Hs=Object.freeze({default:Ds,create:Ps}),Is=n(function(t){function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=e}),Vs=e(Is),Fs=Object.freeze({default:Vs}),Us=n(function(t,n){var r=e(Fs);n.mixin=function(t){var e=new r;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}}),qs=e(Us),Bs=Us.mixin,$s=Object.freeze({default:qs,mixin:Bs}),Rs=n(function(t){function e(t,n,r,i){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=n,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+n+" provided, "+r+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}e.prototype=new Error,e.prototype.constructor=Error,e.prototype.name="ArgumentsError",e.prototype.isArgumentsError=!0,t.exports=e}),Ys=e(Rs),Ws=Object.freeze({default:Ys}),Xs=n(function(t,n){function r(t,e,n,r,u){function f(t,e){var n=arguments.length;if(1!=n&&2!=n)throw new s("import",n,1,2);if(e||(e={}),o(t))d(t,e);else if(Array.isArray(t))t.forEach(function(t){f(t,e)});else if("object"===("undefined"==typeof t?"undefined":Pi.typeof(t))){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];p(i)?c(r,i,e):o(t)?d(t,e):f(i,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}function c(t,e,n){if(n.wrap&&"function"==typeof e&&(e=l(e)),_(u[t])&&_(e))return e=n.override?r(t,e.signatures):r(u[t],e),u[t]=e,h(t,e),void u.emit("import",t,function(){return e});if(void 0===u[t]||n.override)return u[t]=e,h(t,e),void u.emit("import",t,function(){return e});if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function h(t,e){e&&"function"==typeof e.transform&&(u.expression.transform[t]=e.transform)}function l(t){var e=function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];e[n]=i&&i.valueOf()}return t.apply(u,e)};return t.transform&&(e.transform=t.transform),e}function d(t,e){if("string"==typeof t.name){var o=t.name,s=t.path?a(u,t.path):u,f=s.hasOwnProperty(o)?s[o]:void 0,c=function(){var i=n(t);if(_(f)&&_(i))return e.override||(i=r(f,i)),i;if(void 0===f||e.override)return i;if(!e.silent)throw new Error('Cannot import "'+o+'": already exists')};t.lazy!==!1?i(s,o,c):s[o]=c(),u.emit("import",o,c,t.path)}else n(t)}function p(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&t.isUnit===!0||t&&t.isComplex===!0||t&&t.isBigNumber===!0||t&&t.isFraction===!0||t&&t.isMatrix===!0||t&&Array.isArray(t)===!0}function _(t){return"function"==typeof t&&"object"===Pi.typeof(t.signatures)}return f}var i=e(ds).lazy,o=e(ds).isFactory,a=e(ds).traverse,s=(e(ds).extend,e(Ws));n.math=!0,n.name="import",n.factory=r,n.lazy=!0}),Zs=e(Xs),Js=Xs.lazy,Ks=Xs.factory,Gs=Xs.name,Qs=Xs.math,tu=Object.freeze({default:Zs,lazy:Js,factory:Ks,name:Gs,math:Qs}),eu=n(function(t,n){function r(t,e,n,r,i){function o(t){if(t){var n=s.clone(e);a(t,"matrix",u),a(t,"number",f),s.deepExtend(e,t);var r=s.clone(e);return i.emit("config",r,n),r}return s.clone(e)}var u=["Matrix","Array"],f=["number","BigNumber","Fraction"];return o.MATRIX=u,o.NUMBER=f,o}function i(t,e){return t.indexOf(e)!==-1}function o(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}function a(t,e,n){if(void 0!==t[e]&&!i(n,t[e])){var r=o(n,t[e]);r!==-1?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+n[r]+'" instead of "'+t[e]+'".'),t[e]=n[r]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}}var s=e(ds);n.name="config",n.math=!0,n.factory=r}),nu=e(eu),ru=eu.factory,iu=eu.math,ou=eu.name,au=Object.freeze({default:nu,factory:ru,math:iu,name:ou}),su=n(function(t,n){var r=e(ds).isFactory,i=(e(ds).deepExtend,e(Hs)),o=e($s),a=e(tu),s=e(au);n.create=function(t){function e(t){if(!r(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var i,o=n.indexOf(t);return o===-1?(i=t.math===!0?t.factory(f.type,c,e,f.typed,f):t.factory(f.type,c,e,f.typed),n.push(t),u.push(i)):i=u[o],i}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var n=[],u=[],f=o.mixin({});f.type={},f.expression={transform:Object.create(f)},f.typed=i.create(f.type);var c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1};return f.import=e(a),f.config=e(s),t&&f.config(t),f}}),uu=e(su),fu=su.create,cu=Object.freeze({default:uu,create:fu}),hu=n(function(t){t.exports=e(cu)}),lu=e(hu),du=n(function(t,e){e.format=function(t,n){if("function"==typeof n)return n(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",i=void 0;switch(void 0!==n&&(n.notation&&(r=n.notation),"number"==typeof n?i=n:n.precision&&(i=n.precision)),r){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"auto":var o=.001,a=1e5;n&&n.exponential&&(void 0!==n.exponential.lower&&(o=n.exponential.lower),void 0!==n.exponential.upper&&(a=n.exponential.upper));({toExpNeg:t.constructor.toExpNeg,toExpPos:t.constructor.toExpPos});if(t.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),t.isZero())return"0";var s,u=t.abs();return s=u.gte(o)&&u.lt(a)?t.toSignificantDigits(i).toFixed():e.toExponential(t,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e||0)}}),pu=e(du),_u=du.toFixed,yu=du.toExponential,vu=du.format,mu=Object.freeze({default:pu,toFixed:_u,toExponential:yu,format:vu}),gu=n(function(t,n){function r(t,e){if(Array.isArray(t)){for(var i="[",o=t.length,a=0;a<o;a++)0!=a&&(i+=", "),i+=r(t[a],e);return i+="]"}return n.format(t,e)}var i=e(Ls).format,o=e(mu).format;n.isString=function(t){return"string"==typeof t},n.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},n.format=function(t,e){if("number"==typeof t)return i(t,e);if(t&&t.isBigNumber===!0)return o(t,e);if(t&&t.isFraction===!0)return e&&"decimal"===e.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return r(t,e);if(n.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===("undefined"==typeof t?"undefined":Pi.typeof(t))){if("function"==typeof t.format)return t.format(e);if(t&&t.toString()!=={}.toString())return t.toString();var a=[];for(var s in t)t.hasOwnProperty(s)&&a.push('"'+s+'": '+n.format(t[s],e));return"{"+a.join(", ")+"}"}return String(t)}}),bu=e(gu),wu=gu.format,xu=gu.endsWith,Eu=gu.isString,Mu=Object.freeze({default:bu,format:wu,endsWith:xu,isString:Eu}),Au=n(function(t,e){e.type=function(t){var e="undefined"==typeof t?"undefined":Pi.typeof(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":"Object":"function"===e?"Function":e},e.isScalar=function(t){return!(t&&t.isMatrix||Array.isArray(t))}}),Tu=e(Au),Su=Au.isScalar,Cu=Au.type,Ou=Object.freeze({default:Tu,isScalar:Su,type:Cu}),Nu=n(function(t){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=n,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(n)?"["+n.join(", ")+"]":n)+")",this.stack=(new Error).stack}e.prototype=new RangeError,e.prototype.constructor=RangeError,e.prototype.name="DimensionError",e.prototype.isDimensionError=!0,t.exports=e}),ku=e(Nu),zu=Object.freeze({default:ku}),Lu=n(function(t){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=n):(this.min=n,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}e.prototype=new RangeError,e.prototype.constructor=RangeError,e.prototype.name="IndexError",e.prototype.isIndexError=!0,t.exports=e}),ju=e(Lu),Du=Object.freeze({default:ju}),Pu=n(function(t,n){function r(t,e,n){var i,o=t.length;if(o!=e[n])throw new f(o,e[n]);if(n<e.length-1){var a=n+1;for(i=0;i<o;i++){var s=t[i];if(!Array.isArray(s))throw new f(e.length-1,e.length,"<");r(t[i],e,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new f(e.length+1,e.length,">")}function i(t,e,r,o){var a,s,u=t.length,f=e[r],c=Math.min(u,f);if(t.length=f,r<e.length-1){var h=r+1;for(a=0;a<c;a++)s=t[a],Array.isArray(s)||(s=[s],t[a]=s),i(s,e,h,o);for(a=c;a<f;a++)s=[],t[a]=s,i(s,e,h,o)}else{for(a=0;a<c;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];if(o!==n.UNINITIALIZED)for(a=c;a<f;a++)t[a]=o}}function o(t,e,n){var r,i;if(n<e){var a=n+1;for(r=0,i=t.length;r<i;r++)t[r]=o(t[r],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function a(t,e,n){var r,i;if(Array.isArray(t)){var o=n+1;for(r=0,i=t.length;r<i;r++)t[r]=a(t[r],e,o)}else for(var s=n;s<e;s++)t=[t];return t}var s=e(Ls),u=e(Mu),f=(e(ds),e(Ou),e(zu)),c=e(Du);n.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},n.validate=function(t,e){var n=0==e.length;if(n){if(Array.isArray(t))throw new f(t.length,0)}else r(t,e,0)},n.validateIndex=function(t,e){if(!s.isNumber(t)||!s.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new c(t,e)},n.UNINITIALIZED={},n.resize=function(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!s.isNumber(t)||!s.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(e)+")")});var r=void 0!==n?n:0;return i(t,e,0,r),t},n.squeeze=function(t,e){for(var r=e||n.size(t);Array.isArray(t)&&1===t.length;)t=t[0],r.shift();for(var i=r.length;1===r[i-1];)i--;return i<r.length&&(t=o(t,i,0),r.length=i),t},n.unsqueeze=function(t,e,r,i){var o=i||n.size(t);if(r)for(var s=0;s<r;s++)t=[t],o.unshift(1);for(t=a(t,e,0);o.length<e;)o.push(1);return t},n.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e},n.isArray=Array.isArray}),Hu=e(Pu),Iu=Pu.isArray,Vu=Pu.flatten,Fu=Pu.unsqueeze,Uu=Pu.squeeze,qu=Pu.resize,Bu=Pu.UNINITIALIZED,$u=Pu.validateIndex,Ru=Pu.validate,Yu=Pu.size,Wu=Object.freeze({default:Hu,isArray:Iu,flatten:Vu,unsqueeze:Fu,squeeze:Uu,resize:qu,UNINITIALIZED:Bu,validateIndex:$u,validate:Ru,size:Yu}),Xu=n(function(t,e){e.isBoolean=function(t){return"boolean"==typeof t}}),Zu=e(Xu),Ju=Xu.isBoolean,Ku=Object.freeze({default:Zu,isBoolean:Ju}),Gu=n(function(t,e){e.memoize=function(t,e){return function n(){"object"!==Pi.typeof(n.cache)&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e(r):JSON.stringify(r);return o in n.cache?n.cache[o]:n.cache[o]=t.apply(t,r)}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}}),Qu=e(Gu),tf=Gu.maxArgumentCount,ef=Gu.memoize,nf=Object.freeze({default:Qu,maxArgumentCount:tf,memoize:ef}),rf=n(function(t,n){n.array=e(Wu),n.boolean=e(Ku),n.function=e(nf),n.number=e(Ls),n.object=e(ds),n.string=e(Mu),n.types=e(Ou),n.emitter=e($s)}),of=e(rf),af=rf.emitter,sf=rf.types,uf=rf.string,ff=rf.object,cf=rf.number,hf=rf.array,lf=Object.freeze({default:of,emitter:af,types:sf,string:uf,object:ff,number:cf,array:hf}),df=n(function(t,n){function r(t,e,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){if(!a(t))throw new TypeError("format must be a string value");var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}var i=e(lf),o=i.string,a=o.isString;n.name="Matrix",n.path="type",n.factory=r}),pf=e(df),_f=df.factory,yf=df.path,vf=df.name,mf=Object.freeze({default:pf,factory:_f,path:yf,name:vf}),gf=n(function(t,n){function r(t,n,r,f){function _(t,e){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!d(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)"DenseMatrix"===t.type?(this._data=u.clone(t._data),this._size=u.clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&c(t.data)&&c(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(c(t))this._data=w(t),this._size=s.size(this._data),s.validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e}}function y(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var n=e.isScalar();if(n)return t.get(e.min());var r=e.size();if(r.length!=t._size.length)throw new o(r.length,t._size.length);for(var i=e.min(),a=e.max(),s=0,u=t._size.length;s<u;s++)p(i[s],t._size[s]),p(a[s],t._size[s]);return new _(v(t._data,e,r.length,0),t._datatype)}function v(t,e,n,r){var i=r==n-1,o=e.dimension(r);return i?o.map(function(e){return t[e]}).valueOf():o.map(function(i){var o=t[i];return v(o,e,n,r+1)}).valueOf()}function m(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var i,a=e.size(),f=e.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.valueOf()):i=s.size(n),f){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(a.length<t._size.length)throw new o(a.length,t._size.length,"<");if(i.length<a.length){for(var c=0,h=0;1===a[c]&&1===i[c];)c++;for(;1===a[c];)h++,c++;n=s.unsqueeze(n,a.length,h,i)}if(!u.deepEqual(a,i))throw new o(a,i,">");var l=e.max().map(function(t){return t+1});b(t,l,r);var d=a.length,p=0;g(t._data,e,n,d,p)}return t}function g(t,e,n,r,i){var o=i==r-1,a=e.dimension(i);o?a.forEach(function(e,r){p(e),t[e]=n[r[0]]}):a.forEach(function(o,a){p(o),g(t[o],e,n[a[0]],r,i+1)})}function b(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&E(t,r,n)}function w(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];c(r)?t[e]=w(r):r&&r.isMatrix===!0&&(t[e]=w(r.valueOf()))}return t}var x=r(e(mf));_.prototype=new x,_.prototype.type="DenseMatrix",_.prototype.isDenseMatrix=!0,_.prototype.storage=function(){return"dense"},_.prototype.datatype=function(){return this._datatype},_.prototype.create=function(t,e){return new _(t,e)},_.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return y(this,t);case 2:case 3:return m(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},_.prototype.get=function(t){if(!c(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);for(var e=0;e<t.length;e++)p(t[e],this._size[e]);for(var n=this._data,r=0,i=t.length;r<i;r++){var a=t[r];p(a,n.length),n=n[a]}return n},_.prototype.set=function(t,e,n){if(!c(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new o(t.length,this._size.length,"<");var r,i,a,s=t.map(function(t){return t+1});b(this,s,n);var u=this._data;for(r=0,i=t.length-1;r<i;r++)a=t[r],p(a,u.length),u=u[a];return a=t[t.length-1],p(a,u.length),u[a]=e,this},_.prototype.resize=function(t,e,n){if(!c(t))throw new TypeError("Array expected");var r=n?this.clone():this;return E(r,t,e)};var E=function(t,e,n){if(0===e.length){for(var r=t._data;c(r);)r=r[0];return r}return t._size=e.slice(0),t._data=s.resize(t._data,t._size,n),t};return _.prototype.clone=function(){var t=new _({data:u.clone(this._data),size:u.clone(this._size),datatype:this._datatype});return t},_.prototype.size=function(){return this._size.slice(0)},_.prototype.map=function(t){var e=this,n=function n(r,i){return c(r)?r.map(function(t,e){return n(t,i.concat(e))}):t(r,i,e)};return new _({data:n(this._data,[]),size:u.clone(this._size),datatype:this._datatype})},_.prototype.forEach=function(t){var e=this,n=function n(r,i){c(r)?r.forEach(function(t,e){n(t,i.concat(e))}):t(r,i,e)};n(this._data,[])},_.prototype.toArray=function(){return u.clone(this._data)},_.prototype.valueOf=function(){return this._data},_.prototype.format=function(t){return a.format(this._data,t)},_.prototype.toString=function(){return a.format(this._data)},_.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},_.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!h(t)||!l(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=0;s<o;s++)a[s]=this._data[s+n][s+e];return new _({data:a,size:[o],datatype:this._datatype})},_.diagonal=function(e,n,r,i,o){if(!c(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!h(t)||!l(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(r&&r.isBigNumber===!0&&(r=r.toNumber()),!h(r)||!l(r))throw new TypeError("The parameter k must be an integer number")}else r=0;i&&d(o)&&(i=f.convert(i,o));var a,u=r>0?r:0,p=r<0?-r:0,y=e[0],v=e[1],m=Math.min(y-p,v-u);if(c(n)){if(n.length!==m)throw new Error("Invalid value array length");a=function(t){return n[t]}}else if(n&&n.isMatrix===!0){var g=n.size();if(1!==g.length||g[0]!==m)throw new Error("Invalid matrix length");a=function(t){return n.get([t])}}else a=function(){return n};i||(i=a(0)&&a(0).isBigNumber===!0?new t.BigNumber(0):0);var b=[];if(e.length>0){b=s.resize(b,e,i);for(var w=0;w<m;w++)b[w+p][w+u]=a(w)}return new _({data:b,size:[y,v]})},_.fromJSON=function(t){return new _(t)},_.prototype.swapRows=function(t,e){if(!(h(t)&&l(t)&&h(e)&&l(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return p(t,this._size[0]),p(e,this._size[0]),_._swapRows(t,e,this._data),this},_._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},t.Matrix._storage.dense=_,t.Matrix._storage.default=_,_}var i=e(lf),o=e(zu),a=i.string,s=i.array,u=i.object,f=i.number,c=Array.isArray,h=f.isNumber,l=f.isInteger,d=a.isString,p=s.validateIndex;n.name="DenseMatrix",n.path="type",n.factory=r,n.lazy=!1}),bf=e(gf),wf=gf.lazy,xf=gf.factory,Ef=gf.path,Mf=gf.name,Af=Object.freeze({default:bf,lazy:wf,factory:xf,path:Ef,name:Mf}),Tf=n(function(t){t.exports=function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}}),Sf=e(Tf),Cf=Object.freeze({default:Sf}),Of=n(function(t,n){function r(t,e,n,r){var a=r("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,n){return t===n||i(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.eq(n)||o(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)},"string, string":function(t,e){return t===e}});return a}var i=e(Ls).nearlyEqual,o=e(Cf);n.factory=r}),Nf=e(Of),kf=Of.factory,zf=Object.freeze({default:Nf,factory:kf}),Lf=n(function(t,n){function r(t,n,r,_){function y(t,e){if(!(this instanceof y))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!d(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)g(this,t,e);else if(t&&c(t.index)&&c(t.ptr)&&c(t.size))this._values=t.values,
this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(c(t))b(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var v=r(e(mf)),m=r(e(zf)),g=function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?s.clone(e._values):void 0,t._index=s.clone(e._index),t._ptr=s.clone(e._ptr),t._size=s.clone(e._size),t._datatype=n||e._datatype):b(t,e.valueOf(),n||e._datatype)},b=function(t,e,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var r=e.length,i=0,o=m,a=0;if(d(n)&&(o=_.find(m,[n,n])||m,a=_.convert(0,n)),r>0){var s=0;do{t._ptr.push(t._index.length);for(var u=0;u<r;u++){var f=e[u];if(c(f)){if(0===s&&i<f.length&&(i=f.length),s<f.length){var h=f[s];o(h,a)||(t._values.push(h),t._index.push(u))}}else 0===s&&i<1&&(i=1),o(f,a)||(t._values.push(f),t._index.push(u))}s++}while(s<i)}t._ptr.push(t._index.length),t._size=[r,i]};y.prototype=new v,y.prototype.type="SparseMatrix",y.prototype.isSparseMatrix=!0,y.prototype.storage=function(){return"sparse"},y.prototype.datatype=function(){return this._datatype},y.prototype.create=function(t,e){return new y(t,e)},y.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},y.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return w(this,t);case 2:case 3:return x(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}};var w=function(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var n=e.isScalar();if(n)return t.get(e.min());var r=e.size();if(r.length!=t._size.length)throw new o(r.length,t._size.length);var i,a,s,u,f=e.min(),c=e.max();for(i=0,a=t._size.length;i<a;i++)p(f[i],t._size[i]),p(c[i],t._size[i]);var h=t._values,l=t._index,d=t._ptr,_=e.dimension(0),v=e.dimension(1),m=[],g=[];_.forEach(function(t,e){g[t]=e[0],m[t]=!0});var b=h?[]:void 0,w=[],x=[];return v.forEach(function(t){for(x.push(w.length),s=d[t],u=d[t+1];s<u;s++)i=l[s],m[i]===!0&&(w.push(g[i]),b&&b.push(h[s]))}),x.push(w.length),new y({values:b,index:w,ptr:x,size:r,datatype:t._datatype})},x=function(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var i,u=e.size(),f=e.isScalar();if(n&&n.isMatrix===!0?(i=n.size(),n=n.toArray()):i=a.size(n),f){if(0!==i.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==u.length&&2!==u.length)throw new o(u.length,t._size.length,"<");if(i.length<u.length){for(var c=0,h=0;1===u[c]&&1===i[c];)c++;for(;1===u[c];)h++,c++;n=a.unsqueeze(n,u.length,h,i)}if(!s.deepEqual(u,i))throw new o(u,i,">");for(var l=e.min()[0],d=e.min()[1],p=i[0],_=i[1],y=0;y<p;y++)for(var v=0;v<_;v++){var m=n[y][v];t.set([y+l,v+d],m,r)}}return t};y.prototype.get=function(t){if(!c(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];p(e,this._size[0]),p(n,this._size[1]);var r=E(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},y.prototype.set=function(t,e,n){if(!c(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new o(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=t[0],i=t[1],a=this._size[0],s=this._size[1],u=m,f=0;d(this._datatype)&&(u=_.find(m,[this._datatype,this._datatype])||m,f=_.convert(0,this._datatype)),(r>a-1||i>s-1)&&(T(this,Math.max(r+1,a),Math.max(i+1,s),n),a=this._size[0],s=this._size[1]),p(r,a),p(i,s);var h=E(r,this._ptr[i],this._ptr[i+1],this._index);return h<this._ptr[i+1]&&this._index[h]===r?u(e,f)?M(h,i,this._values,this._index,this._ptr):this._values[h]=e:A(h,r,i,e,this._values,this._index,this._ptr),this};var E=function(t,e,n,r){if(n-e===0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e},M=function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--},A=function(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++};y.prototype.resize=function(t,e,n){if(!c(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!f.isNumber(e)||!f.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+u.format(t)+")")});var r=n?this.clone():this;return T(r,t[0],t[1],e)};var T=function(t,e,n,r){var i=r||0,o=m,a=0;d(t._datatype)&&(o=_.find(m,[t._datatype,t._datatype])||m,a=_.convert(0,t._datatype),i=_.convert(i,t._datatype));var s,u,f,c=!o(i,a),h=t._size[0],l=t._size[1];if(n>l){for(u=l;u<n;u++)if(t._ptr[u]=t._values.length,c)for(s=0;s<h;s++)t._values.push(i),t._index.push(s);t._ptr[n]=t._values.length}else n<l&&(t._ptr.splice(n+1,l-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(l=n,e>h){if(c){var p=0;for(u=0;u<l;u++){t._ptr[u]=t._ptr[u]+p,f=t._ptr[u+1]+p;var y=0;for(s=h;s<e;s++,y++)t._values.splice(f+y,0,i),t._index.splice(f+y,0,s),p++}t._ptr[l]=t._values.length}}else if(e<h){var v=0;for(u=0;u<l;u++){t._ptr[u]=t._ptr[u]-v;var g=t._ptr[u],b=t._ptr[u+1]-v;for(f=g;f<b;f++)s=t._index[f],s>e-1&&(t._values.splice(f,1),t._index.splice(f,1),v++)}t._ptr[u]=t._values.length}return t._size[0]=e,t._size[1]=n,t};y.prototype.clone=function(){var t=new y({values:this._values?s.clone(this._values):void 0,index:s.clone(this._index),ptr:s.clone(this._ptr),size:s.clone(this._size),datatype:this._datatype});return t},y.prototype.size=function(){return this._size.slice(0)},y.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var n=this,r=this._size[0],i=this._size[1],o=function(e,r,i){return t(e,[r,i],n)};return S(this,0,r-1,0,i-1,o,e)};var S=function(t,e,n,r,i,o,a){var s=[],u=[],f=[],c=m,h=0;d(t._datatype)&&(c=_.find(m,[t._datatype,t._datatype])||m,h=_.convert(0,t._datatype));for(var l=function(t,e,n){t=o(t,e,n),c(t,h)||(s.push(t),u.push(e))},p=r;p<=i;p++){f.push(s.length);for(var v=t._ptr[p],g=t._ptr[p+1],b=e,w=v;w<g;w++){var x=t._index[w];if(x>=e&&x<=n){if(!a)for(var E=b;E<x;E++)l(0,E-e,p-r);l(t._values[w],x-e,p-r)}b=x+1}if(!a)for(var M=b;M<=n;M++)l(0,M-e,p-r)}return f.push(s.length),new y({values:s,index:u,ptr:f,size:[n-e+1,i-r+1]})};y.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this,r=this._size[0],i=this._size[1],o=0;o<i;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,f=a;f<s;f++){var c=this._index[f];if(!e)for(var h=u;h<c;h++)t(0,[h,o],n);t(this._values[f],[c,o],n),u=c+1}if(!e)for(var l=u;l<r;l++)t(0,[l,o],n)}},y.prototype.toArray=function(){return C(this._values,this._index,this._ptr,this._size,!0)},y.prototype.valueOf=function(){return C(this._values,this._index,this._ptr,this._size,!1)};var C=function(t,e,n,r,i){var o,a,u=r[0],f=r[1],c=[];for(o=0;o<u;o++)for(c[o]=[],a=0;a<f;a++)c[o][a]=0;for(a=0;a<f;a++)for(var h=n[a],l=n[a+1],d=h;d<l;d++)o=e[d],c[o][a]=t?i?s.clone(t[d]):t[d]:1;return c};return y.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+u.format(e,t)+" x "+u.format(n,t)+"] density: "+u.format(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],s=this._ptr[o+1],f=a;f<s;f++){var c=this._index[f];i+="\n    ("+u.format(c,t)+", "+u.format(o,t)+") ==> "+(this._values?u.format(this._values[f],t):"X")}return i},y.prototype.toString=function(){return u.format(this.toArray())},y.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},y.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!h(t)||!l(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=[],u=[];u[0]=0;for(var f=e;f<i&&a.length<o;f++)for(var c=this._ptr[f],d=this._ptr[f+1],p=c;p<d;p++){var _=this._index[p];if(_===f-e+n){a.push(this._values[p]),s[a.length-1]=_-n;break}}return u.push(a.length),new y({values:a,index:s,ptr:u,size:[o,1]})},y.fromJSON=function(t){return new y(t)},y.diagonal=function(t,e,n,r,i){if(!c(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!h(t)||!l(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(n.isBigNumber===!0&&(n=n.toNumber()),!h(n)||!l(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=m,a=0;d(i)&&(o=_.find(m,[i,i])||m,a=_.convert(0,i));var s,u=n>0?n:0,f=n<0?-n:0,p=t[0],v=t[1],g=Math.min(p-f,v-u);if(c(e)){if(e.length!==g)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(e&&e.isMatrix===!0){var b=e.size();if(1!==b.length||b[0]!==g)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};for(var w=[],x=[],E=[],M=0;M<v;M++){E.push(w.length);var A=M-u;if(A>=0&&A<g){var T=s(A);o(T,a)||(x.push(A+f),w.push(T))}}return E.push(w.length),new y({values:w,index:x,ptr:E,size:[p,v]})},y.prototype.swapRows=function(t,e){if(!(h(t)&&l(t)&&h(e)&&l(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return p(t,this._size[0]),p(e,this._size[0]),y._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},y._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},y._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],f=E(t,s,u,i),c=E(e,s,u,i);if(f<u&&c<u&&i[f]===t&&i[c]===e){if(r){var h=r[f];r[f]=r[c],r[c]=h}}else if(f<u&&i[f]===t&&(c>=u||i[c]!==e)){var l=r?r[f]:void 0;i.splice(c,0,e),r&&r.splice(c,0,l),i.splice(c<=f?f+1:f,1),r&&r.splice(c<=f?f+1:f,1)}else if(c<u&&i[c]===e&&(f>=u||i[f]!==t)){var d=r?r[c]:void 0;i.splice(f,0,t),r&&r.splice(f,0,d),i.splice(f<=c?c+1:c,1),r&&r.splice(f<=c?c+1:c,1)}}},t.Matrix._storage.sparse=y,y}var i=e(lf),o=e(zu),a=i.array,s=i.object,u=i.string,f=i.number,c=Array.isArray,h=f.isNumber,l=f.isInteger,d=u.isString,p=a.validateIndex;n.name="SparseMatrix",n.path="type",n.factory=r,n.lazy=!1}),jf=e(Lf),Df=Lf.lazy,Pf=Lf.factory,Hf=Lf.path,If=Lf.name,Vf=Object.freeze({default:jf,lazy:Df,factory:Pf,path:Hf,name:If}),Ff=n(function(t,e){function n(t,e,n,r){function i(e,n,r){var i=t.Matrix.storage(n||"default");return new i(e,r)}var o=r("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o}e.name="matrix",e.factory=n}),Uf=e(Ff),qf=Ff.factory,Bf=Ff.name,$f=Object.freeze({default:Uf,factory:qf,name:Bf}),Rf=n(function(t,e){function n(t,e,n,r){var i=r("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=i(n.value,e.value),n.fixPrefix=!1,n}});return i}e.factory=n}),Yf=e(Rf),Wf=Rf.factory,Xf=Object.freeze({default:Yf,factory:Wf}),Zf=n(function(t,e){e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var n={deg:"^\\circ"};e.toSymbol=function(t,r){if(r="undefined"!=typeof r&&r)return n.hasOwnProperty(t)?n[t]:"\\mathrm{"+t+"}";if(e.symbols.hasOwnProperty(t))return e.symbols[t];if(t.indexOf("_")!==-1){var i=t.indexOf("_");return e.toSymbol(t.substring(0,i))+"_{"+e.toSymbol(t.substring(i+1))+"}"}return t}}),Jf=e(Zf),Kf=Zf.toSymbol,Gf=Zf.defaultTemplate,Qf=Zf.operators,tc=Zf.symbols,ec=Object.freeze({default:Jf,toSymbol:Kf,defaultTemplate:Gf,operators:Qf,symbols:tc}),nc=n(function(t,n){function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var s=t._data,u=t._size,f=t._datatype,c=e._values,h=e._index,l=e._ptr,d=e._size,p=e._datatype;if(u.length!==d.length)throw new i(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,y,v=u[0],m=u[1],g="string"==typeof f&&f===p?f:void 0,b=g?r.find(n,[g,g]):n,w=[];for(_=0;_<v;_++)w[_]=[];var x=[],E=[];for(y=0;y<m;y++){for(var M=y+1,A=l[y],T=l[y+1],S=A;S<T;S++)_=h[S],x[_]=a?b(c[S],s[_][y]):b(s[_][y],c[S]),E[_]=M;for(_=0;_<v;_++)E[_]===M?w[_][y]=x[_]:w[_][y]=s[_][y]}return new o({data:w,size:[v,m],datatype:g})};return a}var i=e(zu);n.name="algorithm01",n.factory=r}),rc=e(nc),ic=nc.factory,oc=nc.name,ac=Object.freeze({default:rc,factory:ic,name:oc}),sc=n(function(t,n){function r(t,n,r,o){var a=r(e(zf)),s=t.SparseMatrix,u=function(t,e,n){var r=t._values,u=t._index,f=t._ptr,c=t._size,h=t._datatype,l=e._values,d=e._index,p=e._ptr,_=e._size,y=e._datatype;if(c.length!==_.length)throw new i(c.length,_.length);if(c[0]!==_[0]||c[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+_+")");var v,m=c[0],g=c[1],b=a,w=0,x=n;"string"==typeof h&&h===y&&(v=h,b=o.find(a,[v,v]),w=o.convert(0,v),x=o.find(n,[v,v]));var E,M,A,T,S,C=r&&l?[]:void 0,O=[],N=[],k=new s({values:C,index:O,ptr:N,size:[m,g],datatype:v}),z=r&&l?[]:void 0,L=r&&l?[]:void 0,j=[],D=[];for(M=0;M<g;M++){N[M]=O.length;var P=M+1;for(T=f[M],S=f[M+1],A=T;A<S;A++)E=u[A],O.push(E),j[E]=P,z&&(z[E]=r[A]);for(T=p[M],S=p[M+1],A=T;A<S;A++)if(E=d[A],j[E]===P){if(z){var H=x(z[E],l[A]);b(H,w)?j[E]=null:z[E]=H}}else O.push(E),D[E]=P,L&&(L[E]=l[A]);if(z&&L)for(A=N[M];A<O.length;)E=O[A],j[E]===P?(C[A]=z[E],A++):D[E]===P?(C[A]=L[E],A++):O.splice(A,1)}return N[g]=O.length,k};return u}var i=e(zu);n.name="algorithm04",n.factory=r}),uc=e(sc),fc=sc.factory,cc=sc.name,hc=Object.freeze({default:uc,factory:fc,name:cc}),lc=n(function(t,e){function n(t,e,n,r){var i=t.DenseMatrix,o=function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,f=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,l=f[0],d=f[1],p=n;"string"==typeof c&&(h=c,e=r.convert(e,h),p=r.find(n,[h,h]));for(var _=[],y=new i({data:_,size:[l,d],datatype:h}),v=[],m=[],g=0;g<d;g++){for(var b=g+1,w=u[g],x=u[g+1],E=w;E<x;E++){var M=s[E];v[M]=a[E],m[M]=b}for(var A=0;A<l;A++)0===g&&(_[A]=[]),m[A]===b?_[A][g]=o?p(e,v[A]):p(v[A],e):_[A][g]=e}return y};return o}e.name="algorithm10",e.factory=n}),dc=e(lc),pc=lc.factory,_c=lc.name,yc=Object.freeze({default:dc,factory:pc,name:_c}),vc=n(function(t,n){function r(t,e,n,r){var i=t.DenseMatrix,a=function(t,e,n){var a=t._data,u=t._size,f=t._datatype,c=e._data,h=e._size,l=e._datatype,d=[];if(u.length!==h.length)throw new o(u.length,h.length);for(var p=0;p<u.length;p++){if(u[p]!==h[p])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+h+")");d[p]=u[p]}var _,y=n;"string"==typeof f&&f===l&&(_=f,e=r.convert(e,_),y=r.find(n,[_,_]));var v=d.length>0?s(y,0,d,d[0],a,c):[];return new i({data:v,size:d,datatype:_})},s=function t(e,n,r,i,o,a){var s=[];if(n===r.length-1)for(var u=0;u<i;u++)s[u]=e(o[u],a[u]);else for(var f=0;f<i;f++)s[f]=t(e,n+1,r,r[n+1],o[f],a[f]);return s};return a}var i=e(lf),o=e(zu),a=i.string;a.isString;n.name="algorithm13",n.factory=r}),mc=e(vc),gc=vc.factory,bc=vc.name,wc=Object.freeze({default:mc,factory:gc,name:bc}),xc=n(function(t,n){function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var u,f=t._data,c=t._size,h=t._datatype,l=n;"string"==typeof h&&(u=h,e=r.convert(e,u),l=r.find(n,[u,u]));var d=c.length>0?s(l,0,c,c[0],f,e,a):[];return new o({data:d,size:i(c),datatype:u})},s=function t(e,n,r,i,o,a,s){var u=[];if(n===r.length-1)for(var f=0;f<i;f++)u[f]=s?e(a,o[f]):e(o[f],a);else for(var c=0;c<i;c++)u[c]=t(e,n+1,r,r[n+1],o[c],a,s);return u};return a}var i=e(ds).clone;n.name="algorithm14",n.factory=r}),Ec=e(xc),Mc=xc.factory,Ac=xc.name,Tc=Object.freeze({default:Ec,factory:Mc,name:Ac}),Sc=n(function(t,n){function r(t,n,r,o){var a=r(e($f)),s=r(e(Xf)),u=e(ec),f=r(e(ac)),c=r(e(hc)),h=r(e(yc)),l=r(e(wc)),d=r(e(Tc)),p=o("add",i({"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=c(t,e,s);break;default:n=f(e,t,s,!0)}break;default:switch(e.storage()){case"sparse":n=f(t,e,s,!1);break;default:n=l(t,e,s)}}return n},"Array, Array":function(t,e){return p(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return p(a(t),e)},"Matrix, Array":function(t,e){return p(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=h(t,e,s,!1);break;default:n=d(t,e,s,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=h(e,t,s,!0);break;default:n=d(e,t,s,!0)}return n},"Array, any":function(t,e){return d(a(t),e,s,!1).valueOf()},"any, Array":function(t,e){return d(a(e),t,s,!0).valueOf()}},s.signatures));return p.toTex={2:"\\left(${args[0]}"+u.operators.add+"${args[1]}\\right)"},p}var i=e(ds).extend;n.name="add",n.factory=r}),Cc=e(Sc),Oc=Sc.factory,Nc=Sc.name,kc=Object.freeze({default:Cc,factory:Oc,name:Nc}),zc=n(function(t,n){function r(t,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}var o=r(e(kc)),a=r(e(zf));return i.prototype.type="Spa",i.prototype.isSpa=!0,i.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},i.prototype.get=function(t){var e=this._values[t];return e?e.value:0},i.prototype.accumulate=function(t,e){var n=this._values[t];n?n.value=o(n.value,e):(n=this._heap.insert(t,e),this._values[t]=n)},i.prototype.forEach=function(t,e,n){var r=this._heap,i=this._values,o=[],s=r.extractMinimum();for(s&&o.push(s);s&&s.key<=e;)s.key>=t&&(a(s.value,0)||n(s.key,s.value,this)),s=r.extractMinimum(),s&&o.push(s);for(var u=0;u<o.length;u++){var f=o[u];s=r.insert(f.key,f.value),i[s.key]=s}},i.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},i}n.name="Spa",n.path="type",n.factory=r}),Lc=e(zc),jc=zc.factory,Dc=zc.path,Pc=zc.name,Hc=Object.freeze({default:Lc,factory:jc,path:Dc,name:Pc}),Ic=n(function(t,n){function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n,a){var s=t._data,u=t._size,f=t._datatype,c=e._values,h=e._index,l=e._ptr,d=e._size,p=e._datatype;if(u.length!==d.length)throw new i(u.length,d.length);if(u[0]!==d[0]||u[1]!==d[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+d+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,y=u[0],v=u[1],m=0,g=n;"string"==typeof f&&f===p&&(_=f,m=r.convert(0,_),g=r.find(n,[_,_]));for(var b=[],w=0;w<y;w++)b[w]=[];for(var x=[],E=[],M=0;M<v;M++){for(var A=M+1,T=l[M],S=l[M+1],C=T;C<S;C++){var O=h[C];x[O]=a?g(c[C],s[O][M]):g(s[O][M],c[C]),E[O]=A}for(var N=0;N<y;N++)E[N]===A?b[N][M]=x[N]:b[N][M]=a?g(m,s[N][M]):g(s[N][M],m)}return new o({data:b,size:[y,v],datatype:_})};return a}var i=e(zu);n.name="algorithm03",n.factory=r}),Vc=e(Ic),Fc=Ic.factory,Uc=Ic.name,qc=Object.freeze({default:Vc,factory:Fc,name:Uc}),Bc=n(function(t,n){function r(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n){var a=t._size,u=t._datatype,f=e._size,c=e._datatype;if(a.length!==f.length)throw new i(a.length,f.length);if(a[0]!==f[0]||a[1]!==f[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+f+")");var h,l=a[0],d=a[1],p=0,_=n;"string"==typeof u&&u===c&&(h=u,p=r.convert(0,h),_=r.find(n,[h,h]));var y,v,m=[];for(y=0;y<l;y++)m[y]=[];var g=new o({data:m,size:[l,d],datatype:h}),b=[],w=[],x=[],E=[];for(v=0;v<d;v++){var M=v+1;for(s(t,v,x,b,M),s(e,v,E,w,M),y=0;y<l;y++){var A=x[y]===M?b[y]:p,T=E[y]===M?w[y]:p;m[y][v]=_(A,T)}}return g},s=function(t,e,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],f=s[e+1];u<f;u++){var c=a[u];n[c]=i,r[c]=o[u]}};return a}var i=e(zu);n.name="algorithm07",n.factory=r}),$c=e(Bc),Rc=Bc.factory,Yc=Bc.name,Wc=Object.freeze({default:$c,factory:Rc,name:Yc}),Xc=n(function(t,e){function n(t,e,n,r){var i=t.DenseMatrix,o=function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,f=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var h,l=f[0],d=f[1],p=n;"string"==typeof c&&(h=c,e=r.convert(e,h),p=r.find(n,[h,h]));for(var _=[],y=new i({data:_,size:[l,d],datatype:h}),v=[],m=[],g=0;g<d;g++){for(var b=g+1,w=u[g],x=u[g+1],E=w;E<x;E++){var M=s[E];v[M]=a[E],m[M]=b}for(var A=0;A<l;A++)0===g&&(_[A]=[]),m[A]===b?_[A][g]=o?p(e,v[A]):p(v[A],e):_[A][g]=o?p(e,0):p(0,e)}return y};return o}e.name="algorithm12",e.factory=n}),Zc=e(Xc),Jc=Xc.factory,Kc=Xc.name,Gc=Object.freeze({default:Zc,factory:Jc,name:Kc}),Qc=n(function(t,n){function r(t,n,r,a){var s=r(e($f)),u=r(e(qc)),f=r(e(Wc)),c=r(e(Gc)),h=r(e(wc)),l=r(e(Tc)),d=e(ec),p=a("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,e){return t<e&&!i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.lt(e)&&!o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)===-1},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return p(t.value,e.value)},"string, string":function(t,e){return t<e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,p);break;default:n=u(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=h(t,e,p)}}return n},"Array, Array":function(t,e){return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return p(s(t),e)},"Matrix, Array":function(t,e){return p(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,p,!1);break;default:n=l(t,e,p,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,p,!0);break;default:n=l(e,t,p,!0)}return n},"Array, any":function(t,e){return l(s(t),e,p,!1).valueOf()},"any, Array":function(t,e){return l(s(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+d.operators.smaller+"${args[1]}\\right)"},p}var i=e(Ls).nearlyEqual,o=e(Cf);n.name="smaller",n.factory=r}),th=e(Qc),eh=Qc.factory,nh=Qc.name,rh=Object.freeze({default:th,factory:eh,name:nh}),ih=n(function(t,n){function r(t,n,r,a){var s=r(e($f)),u=r(e(qc)),f=r(e(Wc)),c=r(e(Gc)),h=r(e(wc)),l=r(e(Tc)),d=e(ec),p=a("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,e){return t>e&&!i(t,e,n.epsilon)},"BigNumber, BigNumber":function(t,e){return t.gt(e)&&!o(t,e,n.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return p(t.value,e.value)},"string, string":function(t,e){return t>e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=f(t,e,p);break;default:n=u(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,p,!1);break;default:n=h(t,e,p)}}return n},"Array, Array":function(t,e){return p(s(t),s(e)).valueOf()},"Array, Matrix":function(t,e){return p(s(t),e)},"Matrix, Array":function(t,e){return p(t,s(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,p,!1);break;default:n=l(t,e,p,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,p,!0);break;default:n=l(e,t,p,!0)}return n},"Array, any":function(t,e){return l(s(t),e,p,!1).valueOf()},"any, Array":function(t,e){return l(s(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+d.operators.larger+"${args[1]}\\right)"},p}var i=e(Ls).nearlyEqual,o=e(Cf);n.name="larger",n.factory=r}),oh=e(ih),ah=ih.factory,sh=ih.name,uh=Object.freeze({default:oh,factory:ah,name:sh}),fh=n(function(t,n){function r(t,n,r,i){function o(){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var a=r(e(rh)),s=r(e(uh)),u=1/Math.log((1+Math.sqrt(5))/2);o.prototype.type="FibonacciHeap",o.prototype.isFibonacciHeap=!0,o.prototype.insert=function(t,e){var n={key:t,value:e,degree:0};if(this._minimum){var r=this._minimum;n.left=r,n.right=r.right,r.right=n,n.right.left=n,a(t,r.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},o.prototype.size=function(){return this._size},o.prototype.clear=function(){this._minimum=null,this._size=0},o.prototype.isEmpty=function(){return!!this._minimum},o.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,n=t.degree,r=t.child;n>0;){var i=r.right;r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,e.right=r,r.right.left=r,r.parent=null,r=i,n--}return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=d(e,this._size)),this._size--,this._minimum=e,t},o.prototype.remove=function(t){this._minimum=f(this._minimum,t,-1),this.extractMinimum()};var f=function(t,e,n){e.key=n;var r=e.parent;return r&&a(e.key,r.key)&&(c(t,e,r),h(t,r)),a(e.key,t.key)&&(t=e),t},c=function(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child==e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1},h=function t(e,n){var r=n.parent;r&&(n.mark?(c(e,n,r),t(r)):n.mark=!0)},l=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1},d=function(t,e){var n=Math.floor(Math.log(e)*u)+1,r=new Array(n),i=0,o=t;if(o)for(i++,o=o.right;o!==t;)i++,o=o.right;for(var f;i>0;){for(var c=o.degree,h=o.right;;){if(f=r[c],!f)break;if(s(o.key,f.key)){var d=f;f=o,o=d}l(f,o),r[c]=null,c++}r[c]=o,o=h,i--}t=null;for(var p=0;p<n;p++)f=r[p],f&&(t?(f.left.right=f.right,f.right.left=f.left,f.left=t,f.right=t.right,t.right=f,f.right.left=f,a(f.key,t.key)&&(t=f)):t=f);return t};return o}n.name="FibonacciHeap",n.path="type",n.factory=r}),ch=e(fh),hh=fh.factory,lh=fh.path,dh=fh.name,ph=Object.freeze({default:ch,factory:hh,path:lh,name:dh}),_h=n(function(t,n){function r(t,n,r){function o(t,e){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!u(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0||s(t)){var n=new f(t,e);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(t&&s(t.data)&&s(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min="undefined"!=typeof t.min?t.min:null,this._max="undefined"!=typeof t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+i.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}var f=r(e(Af)),c=r(e(rh));return o.prototype=new f,o.prototype.type="ImmutableDenseMatrix",o.prototype.isImmutableDenseMatrix=!0,o.prototype.subset=function(t){switch(arguments.length){case 1:var e=f.prototype.subset.call(this,t);return e.isMatrix?new o({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},o.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},o.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},o.prototype.clone=function(){var t=new o({data:a.clone(this._data),size:a.clone(this._size),datatype:this._datatype});return t},o.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},o.fromJSON=function(t){return new o(t)},o.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},o.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||c(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},o.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||c(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},o}var i=e(lf),o=i.string,a=i.object,s=Array.isArray,u=o.isString;n.name="ImmutableDenseMatrix",n.path="type",n.factory=r}),yh=e(_h),vh=_h.factory,mh=_h.path,gh=_h.name,bh=Object.freeze({default:yh,factory:vh,path:mh,name:gh}),wh=n(function(t,n){function r(t){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var r=0,i=arguments.length;r<i;r++){var o=arguments[r];if(o&&o.isRange===!0)this._dimensions.push(o),this._isScalar=!1;else if(o&&(Array.isArray(o)||o.isMatrix===!0)){var a=n(o.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(n([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function n(e){for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!o(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(e)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=i(this._dimensions),t._isScalar=this._isScalar,
t},e.create=function(t){var n=new e;return e.apply(n,t),n},e.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?1:r.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.max()}return t},e.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.min()}return t},e.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t.push("string"==typeof r?r:r.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];"string"==typeof r?t.push(JSON.stringify(r)):t.push(r.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}var i=e(ds).clone,o=e(Ls).isInteger;n.name="Index",n.path="type",n.factory=r}),xh=e(wh),Eh=wh.factory,Mh=wh.path,Ah=wh.name,Th=Object.freeze({default:xh,factory:Eh,path:Mh,name:Ah}),Sh=n(function(t,n){function r(t,e,n,r){function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(t.isBigNumber===!0)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(e.isBigNumber===!0)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=n)if(n.isBigNumber===!0)n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=n?parseFloat(n):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":"),n=e.map(function(t){return parseFloat(t)}),r=n.some(function(t){return isNaN(t)});if(r)return null;switch(n.length){case 2:return new o(n[0],n[1]);case 3:return new o(n[0],n[2],n[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var t=0,e=this.start,n=this.step,r=this.end,o=r-e;return i.sign(n)==i.sign(o)?t=Math.ceil(o/n):0==o&&(t=0),isNaN(t)&&(t=0),[t]},o.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},o.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},o.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},o.prototype.map=function(t){var e=[];return this.forEach(function(n,r,i){e[r[0]]=t(n,r,i)}),e},o.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(t){var e=i.format(this.start,t);return 1!=this.step&&(e+=":"+i.format(this.step,t)),e+=":"+i.format(this.end,t)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(t){return new o(t.start,t.end,t.step)},o}var i=e(Ls);n.name="Range",n.path="type",n.factory=r}),Ch=e(Sh),Oh=Sh.factory,Nh=Sh.path,kh=Sh.name,zh=Object.freeze({default:Ch,factory:Oh,path:Nh,name:kh}),Lh=n(function(t,e){function n(t,e,n,r){return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t&&(Array.isArray(t)||t.isMatrix===!0)?t.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t}):t}),r=new t.Index;return t.Index.apply(r,n),r}})}e.name="index",e.factory=n}),jh=e(Lh),Dh=Lh.factory,Ph=Lh.name,Hh=Object.freeze({default:jh,factory:Dh,name:Ph}),Ih=n(function(t,e){function n(t,e,n,r){var i=t.SparseMatrix,o=r("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,e){return new i(t,e)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}e.name="sparse",e.factory=n}),Vh=e(Ih),Fh=Ih.factory,Uh=Ih.name,qh=Object.freeze({default:Vh,factory:Fh,name:Uh}),Bh=n(function(t){t.exports=[e(mf),e(Af),e(Vf),e(Hc),e(ph),e(bh),e(Th),e(zh),e(Hh),e($f),e(qh)]}),$h=e(Bh),Rh=lu.create();Rh.import($h);var Yh="\ncanvas {\n  // width: 100%;\n  // height: 100%;\n  padding: 0; margin: 0;\n  left:0; top:0;\n  position: fixed;\n  overflow: hidden;\n  z-index: -1;\n}\n\n",Wh=Symbol(),Xh=Symbol(),Zh=function t(e,n){e[Xh]||(e[Xh]=n),e[Xh]+1e3/e.fps<=n&&(e[Xh]=n,e.dispatchEvent(new Event("animate"))),e[Wh]||window.requestAnimationFrame(function(n){t(e,n)})},Jh=Symbol(),Kh=Symbol(),Gh=Symbol(),Qh=Symbol(),tl=Symbol(),el=Symbol(),nl=Symbol();window.edgeData=Gh,window.canvas=Jh;var rl={props:{fps:{attribute:!0,default:60},color:{attribute:!0,default:"yellow"},thickness:{attribute:!0,default:2}},refreshAnimation:function(t){var e=t[tl]();e.forEach(es);var n=t[Kh];void 0!=n&&(n.canvas.width=window.innerWidth,n.canvas.height=window.innerHeight,n.clearRect(0,0,n.canvas.width,n.canvas.height),n.strokeStyle=t.color,n.fillStyle=t.color,n.lineWidth=t.thickness,t[Gh].forEach(function(e){return ns(n,e,t)}))},edges:function(t){var e=t[tl]();if(e.length<2)return[];var n=[];return e.forEach(function(t){e.forEach(function(e){t!=e&&n.push({source:t,target:e,direction:1})})}),n},attached:function(t){var e=this;t[el]=function(){e.refreshAnimation(t)},t[Qh]=function(t){return t},Zh(t),t[tl]=function(){return ln(jt(t).children).filter(function(t,e,n){return!n[e][Gh]}).nodes()},t[Gh]=[],t[Jh]=document.createElement("canvas"),t[Kh]=t[Jh].getContext("2d"),t[nl]=function(n){t[Gh]=t[Qh](e.edges(t))},jt(t).addEventListener("graph-updated",t[nl])},detached:function(t){t[Wh]=!0,t.removeEventListener("animate",t[el])},attributeChanged:function(t){},render:function(t){return[Ma("div",{style:"display: none"},Ma("slot",{})),Ma("style",Yh)]},rendered:function(t){t.shadowRoot.appendChild(t[Jh]),t[nl](),t.addEventListener("animate",t[el])}},il=Ot("edges-all-pairs",rl),ol=lu.create();ol.import($h),Ot("edges-adjacency-matrix",il.extend({edges:function t(e){try{var n=JSON.parse(e.innerHTML)}catch(t){}var r=e[tl]();if(r.length<2)return[];var t=[[r[0],r[1]]];return t=[],n.forEach(function(e,n){e.forEach(function(e,i){1==e&&t.push({source:r[n],target:r[i],direction:1})})}),t},render:function(t){return[Ma("div",{style:"display: none"},Ma("slot",{onSlotchange:t[nl]})),Ma("style",Yh)]}}));var al=(Pn(Dn),.7),sl=1/al,ul=/^#([0-9a-f]{3})$/,fl=/^#([0-9a-f]{6})$/,cl=/^rgb\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*\)$/,hl=/^rgb\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,ll=/^rgba\(\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+)\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,dl=/^rgba\(\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,pl=/^hsl\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*\)$/,_l=/^hsla\(\s*([-+]?\d+(?:\.\d+)?)\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)%\s*,\s*([-+]?\d+(?:\.\d+)?)\s*\)$/,yl={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};In(Fn,Un,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),In(Yn,Rn,Vn(Fn,{brighter:function(t){return t=null==t?sl:Math.pow(sl,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?al:Math.pow(al,t),new Yn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return t=isNaN(t)?1:Math.max(0,Math.min(1,t)),(1===t?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),In(Jn,Zn,Vn(Fn,{brighter:function(t){return t=null==t?sl:Math.pow(sl,t),new Jn(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?al:Math.pow(al,t),new Jn(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Yn(Kn(t>=240?t-240:t+120,i,r),Kn(t,i,r),Kn(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var vl=Math.PI/180,ml=180/Math.PI,gl=18,bl=.95047,wl=1,xl=1.08883,El=4/29,Ml=6/29,Al=3*Ml*Ml,Tl=Ml*Ml*Ml;In(tr,Qn,Vn(Fn,{brighter:function(t){return new tr(this.l+gl*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new tr(this.l-gl*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=wl*nr(t),e=bl*nr(e),n=xl*nr(n),new Yn(rr(3.2404542*e-1.5371385*t-.4985314*n),rr(-.969266*e+1.8760108*t+.041556*n),rr(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),In(sr,ar,Vn(Fn,{brighter:function(t){return new sr(this.h,this.c,this.l+gl*(null==t?1:t),this.opacity)},darker:function(t){return new sr(this.h,this.c,this.l-gl*(null==t?1:t),this.opacity)},rgb:function(){return Gn(this).rgb()}}));var Sl=-.14861,Cl=1.78277,Ol=-.29227,Nl=-.90649,kl=1.97294,zl=kl*Nl,Ll=kl*Cl,jl=Cl*Ol-Nl*Sl;In(cr,fr,Vn(Fn,{brighter:function(t){return t=null==t?sl:Math.pow(sl,t),new cr(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?al:Math.pow(al,t),new cr(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*vl,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new Yn(255*(e+n*(Sl*r+Cl*i)),255*(e+n*(Ol*r+Nl*i)),255*(e+n*(kl*r)),this.opacity)}})),function t(e){function n(t,e){var n=r((t=Rn(t)).r,(e=Rn(e)).r),i=r(t.g,e.g),o=r(t.b,e.b),a=r(t.opacity,e.opacity);return function(e){return t.r=n(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}var r=_r(e);return n.gamma=t,n}(1),vr(pr);var Dl,Pl=vr(yr),Hl={"":wr,"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return Er(100*t,e)},r:Er,s:xr,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Il=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;Ar.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Vl,Fl,Ul,ql=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];Cr({decimal:".",thousands:",",grouping:[3],currency:["$",""]});var Bl=new Date,$l=new Date,Rl=Or(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});Rl.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Or(function(e){e.setTime(Math.floor(e/t)*t)},function(e,n){e.setTime(+e+n*t)},function(e,n){return(n-e)/t}):Rl:null};var Yl=1e3,Wl=6e4,Xl=36e5,Zl=864e5,Jl=6048e5,Kl=(Or(function(t){t.setTime(Math.floor(t/Yl)*Yl)},function(t,e){t.setTime(+t+e*Yl)},function(t,e){return(e-t)/Yl},function(t){return t.getUTCSeconds()}),Or(function(t){t.setTime(Math.floor(t/Wl)*Wl)},function(t,e){t.setTime(+t+e*Wl)},function(t,e){return(e-t)/Wl},function(t){return t.getMinutes()}),Or(function(t){var e=t.getTimezoneOffset()*Wl%Xl;e<0&&(e+=Xl),t.setTime(Math.floor((+t-e)/Xl)*Xl+e)},function(t,e){t.setTime(+t+e*Xl)},function(t,e){return(e-t)/Xl},function(t){return t.getHours()}),Or(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wl)/Zl},function(t){return t.getDate()-1})),Gl=Nr(0),Ql=Nr(1),td=(Or(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Or(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()}));td.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Or(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,n){e.setFullYear(e.getFullYear()+n*t)}):null};var ed=(Or(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*Wl)},function(t,e){return(e-t)/Wl},function(t){return t.getUTCMinutes()}),Or(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*Xl)},function(t,e){return(e-t)/Xl},function(t){return t.getUTCHours()}),Or(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/Zl},function(t){return t.getUTCDate()-1})),nd=kr(0),rd=kr(1),id=(Or(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),Or(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()}));id.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Or(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)}):null};var od,ad,sd,ud,fd,cd={"-":"",_:" ",0:"0"},hd=/^\s*\d+/,ld=/^%/,dd=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g;Oi({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var pd="%Y-%m-%dT%H:%M:%S.%LZ";Date.prototype.toISOString?Ni:ud(pd),+new Date("2000-01-01T00:00:00.000Z")?ki:fd(pd);zi("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),zi("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),zi("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),zi("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Pl(fr(300,.5,0),fr(-240,.5,1));var _d=(Pl(fr(-100,.75,.35),fr(80,1.5,.8)),Pl(fr(260,.75,.35),fr(80,1.5,.8)),fr());ji(zi("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var yd=(ji(zi("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),ji(zi("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ji(zi("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),n(function(t){var e=function(){function t(e){Pi.classCallCheck(this,t),this.adjacencyMatrix=e}return Pi.createClass(t,[{key:"_initializeDistanceMatrix",value:function(t){for(var e=[],n=0;n<this.order;++n){e[n]=[];for(var r=0;r<this.order;++r)if(n===r)e[n][r]=0;else{var i=this.adjacencyMatrix[n][r];i?e[n][r]=i:e[n][r]=t}}return e}},{key:"widestPaths",get:function(){for(var t=this._initializeDistanceMatrix(0),e=0;e<this.order;++e)for(var n=0;n<this.order;++n)if(n!==e)for(var r=0;r<this.order;++r)if(r!==n&&r!==e){var i=t[n][r],o=Math.min(t[n][e],t[e][r]);o>i&&(t[n][r]=o)}return t}},{key:"shortestPaths",get:function(){for(var t=this._initializeDistanceMatrix(1/0),e=0;e<this.order;++e)for(var n=0;n<this.order;++n)for(var r=0;r<this.order;++r){var i=t[n][e]+t[e][r];t[n][r]>i&&(t[n][r]=i)}for(var o=0;o<this.order;++o)for(var a=0;a<this.order;++a)t[o][a]===1/0&&(t[o][a]=-1);return t}},{key:"order",get:function(){return this.adjacencyMatrix.length}}]),t}();t.exports=e})),vd=e(yd),md=function(t){return function(e){return Li(e/t)}},gd=function(t){return JSON.parse("["+t+"]")},bd=function(t,e){return function(n){var r=t[tl]();if(r.length<2)return[];for(var i=md(r.length),o=[],a=0;a<r.length;a++)o[a]=new Array(r.length);n.forEach(function(t){o[r.indexOf(t.source)][r.indexOf(t.target)]=1});var s=new vd(o).shortestPaths,u=[];return s.forEach(function(n,o){n.forEach(function(n,a){if(1!=n&&e.hops.includes(n)){var s=t.thickness*(1-n/(r.length+1));u.push({source:r[o],target:r[a],segments:Di([s,s],n-1).concat([s,s*s+5*s]),direction:1,color:i(n),thickness:s})}})}),e.hops.includes(1)&&(u=u.concat(n)),u}},wd=function(t){var e=ln(t.children).filter(function(t,e,n){return n[e][Qh]}).nodes();e.forEach(function(e){e[Qh]=bd(e,t),e[nl]()})};Ot("edges-modifier-hops",{props:{hops:{attribute:!0,default:"2",coerce:function(t){var e=gd(t);return e}}},created:function(t){t[Qh]=function(t){return t},t[edgeData]=!0,wd(t)},updated:function(t){console.log("updating graph hops modifier",t.hops),console.log("or...",t.getAttribute("hops")),wd(t)}});var xd="\n  div {\n    display: inline-block;\n    background-image: url(http://i.imgur.com/B2YwP9u.gif);\n    background-position: center;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 100px;\n    height: 150px;\n    border: solid deeppink 5px;\n  }\n  puppy-dog {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n  }\n  :host {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n  }\n";Ot("puppy-dog",{attached:function(t){zt(t)},detached:function(t){},render:function(t){return[Ma("div",""),Ma("style",xd)]},rendered:function(t){}});var Ed="\n  div {\n    display: inline-block;\n    background-image: url('basketball.png');\n    background-position: center;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n  }\n  puppy-dog {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 340px;\n    height: 340px;\n  }\n  :host {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 340px;\n    height: 340px;\n  }\n";Ot("basket-ball",{props:{round:{attribute:!1,default:!0}},attached:function(t){zt(t)},detached:function(t){},render:function(t){return[Ma("div",""),Ma("style",Ed)]},rendered:function(t){}})});
//# sourceMappingURL=tangled-web-components.min.js.map