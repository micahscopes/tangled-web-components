!function(){"use strict";function interopDefault(t){return t&&"object"==typeof t&&"default"in t?t.default:t}function createCommonjsModule(t,e){return e={exports:{}},t(e,e.exports),e.exports}function eachChildNode(t,e){if(t)for(var n=t.childNodes,r=n.length,i=0;i<r;i++){var o=e(n[i],i,n);if("undefined"!=typeof o)return o}}function reverse(t){for(var e=[],n=t.length-1;n>=0;n--)e.push(t[n]);return e}function eachNodeOrFragmentNodes(t,e){if(t instanceof DocumentFragment)for(var n=t.childNodes,r=n.length,i=r-1;i>=0;i--){var o=reverse(t.childNodes)[i];e(o,i)}else e(t,0)}function getPrototype(t,e){for(var n=void 0;t&&!(n=Object.getOwnPropertyDescriptor(t,e));)t=Object.getPrototypeOf(t);return n}function getPropertyDescriptor(t,e){t instanceof Node&&(t=div$1);var n=getPrototype(t,e);if(n){var r=n.get,i=n.set,o={configurable:!0,enumerable:!0};if(r)return o.get=r,o.set=i,o;if("function"==typeof t[e])return o.value=t[e],o}var a=Object.getOwnPropertyDescriptor(t,e);if(a&&a.get)return a}function getEscapedTextContent(t){return t.textContent.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function getRawTextContent(t){return t.textContent}function getCommentNodeOuterHtml(t){return t.text||"<!--"+t.textContent+"-->"}function isSlotNode(t){return"SLOT"===t.tagName}function findSlots(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=t.childNodes;if(shadowDomV0&&!shadowDomV1)return[].concat(babelHelpers.toConsumableArray(t.querySelectorAll("content")));if(!n||[Node.ELEMENT_NODE,Node.DOCUMENT_FRAGMENT_NODE].indexOf(t.nodeType)===-1)return e;for(var r=n.length,i=0;i<r;i++){var o=n[i];isSlotNode(o)&&e.push(o),findSlots(o,e)}return e}function isRootNode(t){return"_SHADOW_ROOT_"===t.tagName}function parse(t){var e=document.createElement("div");if(canPatchNativeAccessors)return e.__innerHTML=t,e;for(var n=parser.parseFromString("<div>"+t+"</div>","text/html").body.firstChild;n.hasChildNodes();){var r=n.firstChild;n.removeChild(r),e.appendChild(r)}return document.importNode(e,!0)}function staticProp(t,e,n){Object.defineProperty(t,e,{configurable:!0,get:function(){return n}})}function arrayItem(t){return this[t]}function makeLikeNodeList(t){return t.item=arrayItem,t}function isHostNode(t){return!!hostToRootMap.get(t)}function getNodeType(t){return isHostNode(t)?"host":isSlotNode(t)?"slot":isRootNode(t)?"root":"node"}function findClosest(t,e){for(;t&&t!==document;){if(e(t))return t;t=t.parentNode}}function getSlotNameFromSlot(t){return t.getAttribute&&t.getAttribute("name")||"default"}function getSlotNameFromNode(t){return t.getAttribute&&t.getAttribute("slot")||"default"}function slotNodeIntoSlot(t,e,n){if(slottedNodeTypes.indexOf(e.nodeType)!==-1){var r=t.assignedNodes(),i=0===r.length,o=r.indexOf(n);nodeToSlotMap.set(e,t),i&&forEach.call(t.childNodes,function(e){return t.__removeChild(e)}),o>-1?(t.__insertBefore(e,void 0!==n?n:null),r.splice(o,0,e)):(t.__appendChild(e),r.push(e)),t.____triggerSlotChangeEvent()}}function slotNodeFromSlot(t){var e=nodeToSlotMap.get(t);if(e){var n=e.assignedNodes(),r=n.indexOf(t);if(r>-1){var i=1===n.length;n.splice(r,1),nodeToSlotMap.set(t,null),e.__removeChild(t),i&&forEach.call(e.childNodes,function(t){return e.__appendChild(t)}),e.____triggerSlotChangeEvent()}}}function indexOfNode(t,e){for(var n=t.childNodes,r=n.length,i=0;i<r;i++)if(n[i]===e)return i;return-1}function registerNode(t,e,n,r){var i=indexOfNode(t,n);eachNodeOrFragmentNodes(e,function(e,n){r(e,n),canPatchNativeAccessors?nodeToParentNodeMap.set(e,t):staticProp(e,"parentNode",t),i>-1?arrProto.splice.call(t.childNodes,i+n,0,e):arrProto.push.call(t.childNodes,e)})}function unregisterNode(t,e,n){var r=indexOfNode(t,e);r>-1&&(n(e,0),canPatchNativeAccessors?nodeToParentNodeMap.set(e,null):staticProp(e,"parentNode",null),arrProto.splice.call(t.childNodes,r,1))}function addNodeToNode(t,e,n){registerNode(t,e,n,function(e){t.__insertBefore(e,void 0!==n?n:null)})}function addNodeToHost(t,e,n){registerNode(t,e,n,function(e){var r=hostToRootMap.get(t),i=rootToSlotMap.get(r),o=i[getSlotNameFromNode(e)];o&&slotNodeIntoSlot(o,e,n)})}function addSlotToRoot(t,e){var n=getSlotNameFromSlot(e);canPatchNativeAccessors||Array.isArray(e.childNodes)||staticProp(e,"childNodes",pseudoArrayToArray(e.childNodes)),rootToSlotMap.get(t)[n]=e,slotToRootMap.has(e)||slotToRootMap.set(e,t),eachChildNode(rootToHostMap.get(t),function(t){t.assignedSlot||n!==getSlotNameFromNode(t)||slotNodeIntoSlot(e,t)})}function addNodeToRoot(t,e,n){eachNodeOrFragmentNodes(e,function(e){if(isSlotNode(e))addSlotToRoot(t,e);else{var n=findSlots(e);if(n)for(var r=n.length,i=0;i<r;i++)addSlotToRoot(t,n[i])}}),addNodeToNode(t,e,n)}function addNodeToSlot(t,e,n){var r=0===t.assignedNodes().length;registerNode(t,e,n,function(e){r&&t.__insertBefore(e,void 0!==n?n:null)})}function removeNodeFromSlot(t,e){var n=0===t.assignedNodes().length;unregisterNode(t,e,function(){n&&t.__removeChild(e)})}function removeNodeFromNode(t,e){unregisterNode(t,e,function(){t.__removeChild(e)})}function removeNodeFromHost(t,e){unregisterNode(t,e,function(){slotNodeFromSlot(e)})}function removeSlotFromRoot(t,e){var n=Array.prototype.slice.call(e.assignedNodes());n.forEach(slotNodeFromSlot),delete rootToSlotMap.get(t)[getSlotNameFromSlot(e)],slotToRootMap.delete(e)}function removeNodeFromRoot(t,e){unregisterNode(t,e,function(){if(isSlotNode(e))removeSlotFromRoot(t,e);else{var n=findSlots(e);if(n)for(var r=0;r<n.length;r++)removeSlotFromRoot(t,n[r])}t.__removeChild(e)})}function getRootNode(t){if(isRootNode(t))return t;if(t.parentNode)return getRootNode(t.parentNode)}function appendChildOrInsertBefore(t,e,n){var r=getNodeType(t),i=e.parentNode,o=getRootNode(t);return canPatchNativeAccessors||Array.isArray(t.childNodes)||staticProp(t,"childNodes",pseudoArrayToArray(t.childNodes)),o&&"slot"===getNodeType(e)&&addSlotToRoot(o,e),i&&"host"===getNodeType(i)&&(canPatchNativeAccessors?nodeToParentNodeMap.set(e,null):staticProp(e,"parentNode",null)),"node"===r?canPatchNativeAccessors?(nodeToParentNodeMap.set(e,t),t.__insertBefore(e,void 0!==n?n:null)):addNodeToNode(t,e,n):"slot"===r?addNodeToSlot(t,e,n):"host"===r?addNodeToHost(t,e,n):"root"===r?addNodeToRoot(t,e,n):void 0}function syncSlotChildNodes(t){if(canPatchNativeAccessors&&"slot"===getNodeType(t)&&t.__childNodes.length!==t.childNodes.length){for(;t.hasChildNodes();)t.removeChild(t.firstChild);forEach.call(t.__childNodes,function(e){return t.appendChild(e)})}}function fixSafari(){function t(t){var i=e.call(this,t);return r.observe(i,n),i}var e=HTMLElement.prototype.attachShadow,n={childList:!0,subtree:!0},r=new MutationObserver(function(t){t.forEach(function(t){var e=t.target;if("STYLE"===e.tagName){var n=e.nextSibling,r=e.parentNode;r.removeChild(e),r.insertBefore(e,n)}})});Object.defineProperty(HTMLElement.prototype,"attachShadow",{configurable:!0,enumerable:!0,value:t,writable:!0})}function keys(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.enumOnly,r=void 0!==n&&n,i=Object[r?"keys":"getOwnPropertyNames"](t);return"function"==typeof Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i}function empty(t){return"undefined"==typeof t||null===t}function enter(t,e){var n={};return Object.keys(e).forEach(function(r){n[r]=t[r],t[r]=e[r]}),n}function exit(t,e){assign(t,e)}function propContext(t,e){return function(n){return function(){var r=enter(t,e),i=n.apply(void 0,arguments);return exit(t,r),i}}}function applyEvent(t,e,n){var r=t[$currentEventHandlers];r||(r=t[$currentEventHandlers]={});var i=r[e];i&&t.removeEventListener(e,i),n&&t.addEventListener(e,r[e]=n)}function resolveTagName(t){return"function"==typeof t?t[$name]||t:"slot"===t&&fallbackToV0?"content":t}function elementOpenStart(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;overrideArgs=[t,e,n]}function elementOpenEnd(){var t=newElementOpen.apply(void 0,babelHelpers.toConsumableArray(overrideArgs));return overrideArgs=null,t}function wrapIdomFunc(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop;return function n(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(i[0]=resolveTagName(i[0]),stackCurrentHelper=null,"function"==typeof i[0])return stackCurrentHelper=i[0],e.apply(void 0,i);if(stackChren.length)stackChren[stackChren.length-1].push([n,i]);else{if(t===elementOpen){if(skips)return++skips;var a=t.apply(void 0,i);return a[$skip]&&++skips,a}if(t===elementClose){if(1===skips&&skip(),skips&&--skips)return;var s=t.apply(void 0,i),u=s[$ref];return delete s[$ref],"function"==typeof u&&u(s),s}if(!skips||t===elementOpenStart||t===elementOpenEnd)return t.apply(void 0,i)}}}function newAttr(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];stackCurrentHelper?stackCurrentHelper[$stackCurrentHelperProps][e[0]]=e[1]:stackChren.length?stackChren[stackChren.length-1].push([newAttr,e]):(overrideArgs.push(e[0]),overrideArgs.push(e[1]))}function stackOpen(t,e,n){for(var r={key:e,statics:n},i=arguments.length,o=Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];for(var s=0;s<o.length;s+=2)r[o[s]]=o[s+1];t[$stackCurrentHelperProps]=r,stackChren.push([])}function stackClose(t){var e=stackChren.pop(),n=t[$stackCurrentHelperProps];delete t[$stackCurrentHelperProps];var r=t(n,function(){return e.forEach(function(t){return t[0].apply(t,babelHelpers.toConsumableArray(t[1]))})});return"function"==typeof r?r():r}function element(t,e){for(var n="undefined"==typeof e?"undefined":babelHelpers.typeof(e),r=arguments.length,i=Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];return"function"!==n&&"string"!==n&&"number"!==n||i.unshift(e),null!==e&&"object"===n||(e={}),newElementOpenStart(t,e.key,e.statics),delete e.key,delete e.statics,Object.keys(e).forEach(function(t){return newAttr(t,e[t])}),newElementOpenEnd(t),i.forEach(function(t){var e="undefined"==typeof t?"undefined":babelHelpers.typeof(t);"function"===e?t():"string"===e||"number"===e?newText(t):Array.isArray(t)&&t.forEach(function(t){return t()})}),newElementClose(t)}function builder(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return element.bind.apply(element,[null].concat(e))}:e.map(function(t){return function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];return element.bind.apply(element,[null,t].concat(n))}})}function data(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t.__SKATE_DATA||(t.__SKATE_DATA={});return e&&(n[e]||(n[e]={}))||n}function microTaskDebounce(t){var e=!1,n=0,r=[],i=document.createElement("span"),o=new MutationObserver$1(function(){t.apply(void 0,babelHelpers.toConsumableArray(r)),e=!1,r=null});return o.observe(i,{childList:!0}),function(){for(var t=arguments.length,o=Array(t),a=0;a<t;a++)o[a]=arguments[a];r=o,e||(e=!0,i.textContent=""+n,n+=1)}}function taskDebounce(t){var e=!1;return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];e||(e=!0,setTimeout(function(){e=!1,t.apply(void 0,r)},timeoutDuration))}}function getOwnPropertyDescriptors(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return keys(t).reduce(function(e,n){return e[n]=Object.getOwnPropertyDescriptor(t,n),e},{})}function get(t){var e={};return keys(t.constructor.props).forEach(function(n){e[n]=t[n]}),e}function set(t,e){assign(t,e),t.constructor[$renderer]&&t.constructor[$renderer](t)}function props(t,e){return"undefined"==typeof e?get(t):set(t,e)}function getDefaultValue(t,e,n){return"function"==typeof n.default?n.default(t,{name:e}):n.default}function getInitialValue(t,e,n){return"function"==typeof n.initial?n.initial(t,{name:e}):n.initial}function getPropData(t,e){var n=data(t,"props");return n[e]||(n[e]={})}function syncFirstTimeProp(t,e,n,r,i){var o=i.lastAssignedValue;empty(o)&&("initial"in e?o=getInitialValue(t,n,e):"default"in e&&(o=getDefaultValue(t,n,e))),!empty(o)&&e.serialize&&(o=e.serialize(o)),empty(o)||(i.syncingAttribute=!0,t.setAttribute(r,o))}function syncExistingProp(t,e,n,r,i){if(r&&!i.settingAttribute){var o=i.internalValue,a=e.serialize(o),s=t.getAttribute(r),u=empty(a),l=!(u&&empty(s)||a===s);i.syncingAttribute=!0;var c=empty(i.lastAssignedValue);c||u?t.removeAttribute(r):t.setAttribute(r,a),!l&&i.syncingAttribute&&(i.syncingAttribute=!1)}i.settingAttribute=!1}function syncPropToAttr(t,e,n,r){var i=data(t,"propertyLinks")[n],o=getPropData(t,n);i&&(r?syncFirstTimeProp(t,e,n,i,o):syncExistingProp(t,e,n,i,o))}function attachShadow(t){return shadowDomV1$1?t.attachShadow({mode:"open"}):shadowDomV0$1?t.createShadowRoot():t}function getOrAttachShadow(t){return t[shadowRoot]||(t[shadowRoot]=attachShadow(t))}function callConstructor(t){var e=data(t),n=e.readyCallbacks,r=t.constructor;t[$created]||(t[$created]=!0,t[$rendererDebounced]=debounce$1(r[$renderer].bind(r)),r.props&&r[$props]&&r[$props](t),"function"==typeof r.created&&r.created(t),n&&(n.forEach(function(e){return e(t)}),delete e.readyCallbacks),customElementsV0&&r.observedAttributes.forEach(function(e){var n=data(t,"attributeLinks")[e];n||t.attributeChangedCallback(e,null,t.getAttribute(e))}))}function syncPropsToAttrs(t){var e=t.constructor.props;Object.keys(e).forEach(function(n){var r=e[n];syncPropToAttr(t,r,n,!0)})}function callConnected(t){var e=t.constructor;syncPropsToAttrs(t),t[$connected]=!0,t[$rendererDebounced](t),"function"==typeof e.attached&&e.attached(t),t.setAttribute("defined","")}function callDisconnected(t){var e=t.constructor;t[$connected]=!1,"function"==typeof e.detached&&e.detached(t)}function Component(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=reflect?Reflect.construct(HTMLElement$1,e,this.constructor):HTMLElement$1.call(this,e[0]);return callConstructor(r),r}function dashCase(t){return t.split(/([A-Z])/).reduce(function(t,e,n){var r=t&&n%2!==0?"-":"";return""+t+r+e.toLowerCase()})}function createNativePropertyDefinition(t,e){var n={configurable:!0,enumerable:!0};return n.created=function(n){var r=getPropData(n,t),i=e.attribute===!0?dashCase(t):e.attribute,o=n[t];data(n,"attributeLinks")[i]=t,data(n,"propertyLinks")[t]=i,empty(o)&&(i&&n.hasAttribute(i)?o=e.deserialize(n.getAttribute(i)):"initial"in e?o=getInitialValue(n,t,e):"default"in e&&(o=getDefaultValue(n,t,e))),r.internalValue=e.coerce?e.coerce(o):o},n.get=function(){var n=getPropData(this,t),r=n.internalValue;return"function"==typeof e.get?e.get(this,{name:t,internalValue:r}):r},n.set=function(n){var r=getPropData(this,t);r.lastAssignedValue=n;var i=r.oldValue;empty(i)&&(i=null),empty(n)&&(n=getDefaultValue(this,t,e)),"function"==typeof e.coerce&&(n=e.coerce(n));var o={name:t,newValue:n,oldValue:i};"function"==typeof e.set&&e.set(this,o),this[$rendererDebounced](this),r.internalValue=r.oldValue=n,this[$connected]&&syncPropToAttr(this,e,t,!1)},n}function initProps(t){return t=t||{},"function"==typeof t&&(t={coerce:t}),function(e){return createNativePropertyDefinition(e,assign({default:null,deserialize:function(t){return t},serialize:function(t){return t}},t))}}function ensurePropertyFunctions(t){var e=t.props;return keys(e).reduce(function(t,n){return t[n]=e[n],"function"!=typeof t[n]&&(t[n]=initProps(t[n])),t},{})}function ensurePropertyDefinitions(t){var e=ensurePropertyFunctions(t);return keys(e).reduce(function(t,n){return t[n]=e[n](n),t},{})}function formatLinkedAttributes(t){var e=t.observedAttributes,n=t.props;n&&(keys(n).forEach(function(t){var r=n[t],i=r.attribute;if(i){var o=r.attribute=i===!0?dashCase(t):i;e.indexOf(o)===-1&&e.push(o)}}),Object.defineProperty(t,"observedAttributes",{configurable:!0,enumerable:!0,get:function(){return e}}))}function createInitProps(t){var e=ensurePropertyDefinitions(t);return function(t){e&&keys(e).forEach(function(n){var r=e[n];r.created(t),Object.defineProperty(t,n,r)})}}function generateUniqueName(t){var e="xxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0,n="x"===t?e:3&e|8;return n.toString(16)});return t+"-"+e}function prepareForRegistration(t,e){e[$name]=t,e[$props]=createInitProps(e)}function registerV0Element(t,e){var n=void 0,r=void 0;try{prepareForRegistration(t,e),n=document.registerElement(t,e)}catch(i){r=generateUniqueName(t),prepareForRegistration(r,e),n=document.registerElement(r,e)}return n}function registerV1Element(t,e){var n=t;return window.customElements.get(t)&&(n=generateUniqueName(t)),prepareForRegistration(n,e),window.customElements.define(n,e,e.extends?{extends:e.extends}:null),e}function define$1(t,e){if(void 0===e)throw new Error("You have to define options to register a component "+t);var n="object"===("undefined"==typeof e?"undefined":babelHelpers.typeof(e))?Component.extend(e):e;if(formatLinkedAttributes(n),customElementsV1)return registerV1Element(t,n);if(customElementsV0)return registerV0Element(t,n);throw new Error("Skate requires native custom element support or a polyfill.")}function eventsPositionDiff(t,e){return{x:e.clientX-t.clientX,y:e.clientY-t.clientY}}function applyMove(t,e){return{x:t.x+e.x,y:t.y+e.y}}function startDragging(t,e){e=e?e:200,setTimeout(function(){t.style.cursor="move",t.style.userSelect="none";var n=function(e){t.style.top=e.y+"px",t.style.left=e.x+"px"},r=Kefir.fromEvents(document,"mouseup"),i=Kefir.fromEvents(document,"mousemove"),o=Kefir.fromEvents(t,"mousedown");o.onValue(preventDefault);var a=o.flatMap(function(t){return i.takeUntilBy(r).diff(eventsPositionDiff,t)}),s=t.getBoundingClientRect(),u=window.getComputedStyle(t),l={x:parseInt(s.left)-parseInt(u.marginLeft),y:parseInt(s.top)-parseInt(u.marginTop)};console.log(l);var c=a.scan(applyMove,l);setTimeout(function(){t.style.position="absolute",c.onValue(n)},e),t[stopDragging]=function(){t.style.cursor="default",t.style.userSelect="default",c.offValue(n),o.offValue(preventDefault)}},50)}function stopDragging(t){t[stopDragging]()}function namespace(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),namespaces.hasOwnProperty(e)?{space:namespaces[e],local:t}:t}function creatorInherit(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===xhtml&&e.documentElement.namespaceURI===xhtml?e.createElement(t):e.createElementNS(n,t)}}function creatorFixed(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function creator(t){var e=namespace(t);return(e.local?creatorFixed:creatorInherit)(e)}function filterContextListener(t,e,n){return t=contextListener(t,e,n),function(e){var n=e.relatedTarget;n&&(n===this||8&n.compareDocumentPosition(this))||t.call(this,e)}}function contextListener(t,e,n){return function(r){var i=event;event=r;try{t.call(this,this.__data__,e,n)}finally{event=i}}}function parseTypenames(t){return t.trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}})}function onRemove(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.capture);++i?e.length=i:delete this.__on}}}function onAdd(t,e,n){var r=filterEvents.hasOwnProperty(t.type)?filterContextListener:contextListener;return function(i,o,a){var s,u=this.__on,l=r(e,o,a);if(u)for(var c=0,f=u.length;c<f;++c)if((s=u[c]).type===t.type&&s.name===t.name)return this.removeEventListener(s.type,s.listener,s.capture),this.addEventListener(s.type,s.listener=l,s.capture=n),void(s.value=e);this.addEventListener(t.type,l,n),s={type:t.type,name:t.name,value:e,listener:l,capture:n},u?u.push(s):this.__on=[s]}}function selection_on(t,e,n){var r,i,o=parseTypenames(t+""),a=o.length;{if(!(arguments.length<2)){for(s=e?onAdd:onRemove,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}}function none(){}function selector(t){return null==t?none:function(){return this.querySelector(t)}}function selection_select(t){"function"!=typeof t&&(t=selector(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Selection(r,this._parents)}function empty$1(){return[]}function selectorAll(t){return null==t?empty$1:function(){return this.querySelectorAll(t)}}function selection_selectAll(t){"function"!=typeof t&&(t=selectorAll(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new Selection(r,i)}function selection_filter(t){"function"!=typeof t&&(t=matcher$1(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Selection(r,this._parents)}function sparse(t){return new Array(t.length)}function selection_enter(){return new Selection(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function constant(t){return function(){return t}}function bindIndex(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new EnterNode(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function bindKey(t,e,n,r,i,o,a){var s,u,l,c={},f=e.length,h=o.length,p=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(p[s]=l=keyPrefix+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<h;++s)l=keyPrefix+a.call(t,o[s],s,o),(u=c[l])?(r[s]=u,u.__data__=o[s],c[l]=null):n[s]=new EnterNode(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&c[p[s]]===u&&(i[s]=u)}function selection_data(t,e){if(!t)return p=new Array(this.size()),l=-1,this.each(function(t){p[++l]=t}),p;var n=e?bindKey:bindIndex,r=this._parents,i=this._groups;"function"!=typeof t&&(t=constant(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],f=i[l],h=f.length,p=t.call(c,c&&c.__data__,l,r),d=p.length,_=s[l]=new Array(d),m=a[l]=new Array(d),y=u[l]=new Array(h);n(c,f,_,m,y,p,e);for(var v,g,b=0,x=0;b<d;++b)if(v=_[b]){for(b>=x&&(x=b+1);!(g=m[x])&&++x<d;);v._next=g||null}}return a=new Selection(a,r),a._enter=s,a._exit=u,a}function selection_exit(){return new Selection(this._exit||this._groups.map(sparse),this._parents)}function selection_merge(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),p=0;p<f;++p)(u=l[p]||c[p])&&(h[p]=u);for(;s<r;++s)a[s]=e[s];return new Selection(a,this._parents)}function selection_order(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this}function selection_sort(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=ascending);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new Selection(i,this._parents).order()}function ascending(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function selection_call(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function selection_nodes(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t}function selection_node(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function selection_size(){var t=0;return this.each(function(){++t}),t}function selection_empty(){return!this.node()}function selection_each(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}function attrRemove(t){return function(){this.removeAttribute(t)}}function attrRemoveNS(t){return function(){this.removeAttributeNS(t.space,t.local)}}function attrConstant(t,e){return function(){this.setAttribute(t,e)}}function attrConstantNS(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function attrFunction(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function attrFunctionNS(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function selection_attr(t,e){var n=namespace(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?attrRemoveNS:attrRemove:"function"==typeof e?n.local?attrFunctionNS:attrFunction:n.local?attrConstantNS:attrConstant)(n,e))}function defaultView(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function styleRemove(t){return function(){this.style.removeProperty(t)}}function styleConstant(t,e,n){return function(){this.style.setProperty(t,e,n)}}function styleFunction(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function selection_style(t,e,n){var r;return arguments.length>1?this.each((null==e?styleRemove:"function"==typeof e?styleFunction:styleConstant)(t,e,null==n?"":n)):defaultView(r=this.node()).getComputedStyle(r,null).getPropertyValue(t)}function propertyRemove(t){return function(){delete this[t]}}function propertyConstant(t,e){return function(){this[t]=e}}function propertyFunction(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function selection_property(t,e){return arguments.length>1?this.each((null==e?propertyRemove:"function"==typeof e?propertyFunction:propertyConstant)(t,e)):this.node()[t]}function classArray(t){return t.trim().split(/^|\s+/)}function classList(t){return t.classList||new ClassList(t)}function ClassList(t){this._node=t,this._names=classArray(t.getAttribute("class")||"")}function classedAdd(t,e){for(var n=classList(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function classedRemove(t,e){for(var n=classList(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function classedTrue(t){return function(){classedAdd(this,t)}}function classedFalse(t){return function(){classedRemove(this,t)}}function classedFunction(t,e){return function(){(e.apply(this,arguments)?classedAdd:classedRemove)(this,t)}}function selection_classed(t,e){var n=classArray(t+"");if(arguments.length<2){for(var r=classList(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?classedFunction:e?classedTrue:classedFalse)(n,e))}function textRemove(){this.textContent=""}function textConstant(t){return function(){this.textContent=t}}function textFunction(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function selection_text(t){return arguments.length?this.each(null==t?textRemove:("function"==typeof t?textFunction:textConstant)(t)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(t){return function(){this.innerHTML=t}}function htmlFunction(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function selection_html(t){return arguments.length?this.each(null==t?htmlRemove:("function"==typeof t?htmlFunction:htmlConstant)(t)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(t){var e="function"==typeof t?t:creator(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function constantNull(){return null}function selection_insert(t,e){var n="function"==typeof t?t:creator(t),r=null==e?constantNull:"function"==typeof e?e:selector(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function remove(){var t=this.parentNode;t&&t.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_datum(t){return arguments.length?this.property("__data__",t):this.node().__data__}function dispatchEvent(t,e,n){var r=defaultView(t),i=r.CustomEvent;i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function dispatchConstant(t,e){return function(){return dispatchEvent(this,t,e)}}function dispatchFunction(t,e){return function(){return dispatchEvent(this,t,e.apply(this,arguments))}}function selection_dispatch(t,e){return this.each(("function"==typeof e?dispatchFunction:dispatchConstant)(t,e))}function Selection(t,e){this._groups=t,this._parents=e}function selection(){return new Selection([[document.documentElement]],root)}function select(t){return"string"==typeof t?new Selection([[document.querySelector(t)]],[document.documentElement]):new Selection([[t]],root)}function selectAll(t){return"string"==typeof t?new Selection([document.querySelectorAll(t)],[document.documentElement]):new Selection([null==t?[]:t],root)}function Path(){this._x0=this._y0=this._x1=this._y1=null,this._=[]}function path(){return new Path}function constant$1(t){return function(){return t}}function Linear(t){this._context=t}function curveLinear(t){return new Linear(t)}function x(t){return t[0]}function y(t){return t[1]}function line(){function t(t){var s,u,l,c=t.length,f=!1;for(null==i&&(a=o(l=path())),s=0;s<=c;++s)!(s<c&&r(u=t[s],s,t))===f&&((f=!f)?a.lineStart():a.lineEnd()),f&&a.point(+e(u,s,t),+n(u,s,t));if(l)return a=null,l+""||null}var e=x,n=y,r=constant$1(!0),i=null,o=curveLinear,a=null;return t.x=function(n){return arguments.length?(e="function"==typeof n?n:constant$1(+n),t):e},t.y=function(e){return arguments.length?(n="function"==typeof e?e:constant$1(+e),t):n},t.defined=function(e){return arguments.length?(r="function"==typeof e?e:constant$1(!!e),t):r},t.curve=function(e){return arguments.length?(o=e,null!=i&&(a=o(i)),t):o},t.context=function(e){return arguments.length?(null==e?i=a=null:a=o(i=e),t):i},t}function noop$1(){}function _point(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function Basis(t){this._context=t}function Bundle(t,e){this._basis=new Basis(t),this._beta=e}function _point$1(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function Cardinal(t,e){this._context=t,this._k=(1-e)/6}function CardinalClosed(t,e){this._context=t,this._k=(1-e)/6}function CardinalOpen(t,e){this._context=t,this._k=(1-e)/6}function _point$2(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>epsilon$1){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>epsilon$1){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function CatmullRom(t,e){this._context=t,this._alpha=e}function CatmullRomClosed(t,e){this._context=t,this._alpha=e}function CatmullRomOpen(t,e){this._context=t,this._alpha=e}function sign(t){return t<0?-1:1}function slope3(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(sign(o)+sign(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function slope2(t,e){
var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function _point$3(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function MonotoneX(t){this._context=t}function MonotoneY(t){this._context=new ReflectContext(t)}function ReflectContext(t){this._context=t}function center(t){return new Vec(t.left+t.width/2,t.top+t.height/2)}function rad(t){return new Vec(t.width/2,t.height/2)}function nearbyEdgePoints(t,e,n,r,i,o){i=i?i:Math.PI/16,o=o?o:0,void 0==n&&(n=P),void 0==r&&(r=P);var a=center(t),s=center(e),u=rad(t),l=rad(e),c=s.clone().subtract(a.clone()).angle(),f=pXY(c+i,n,u.x+o,u.y+o),h=pXY(c-i+Math.PI,r,l.x+o,l.y+o);return[a.clone().add(f),s.clone().add(h)]}var babelHelpers={};babelHelpers.typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},babelHelpers.classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},babelHelpers.defineProperty=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},babelHelpers.inherits=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},babelHelpers.possibleConstructorReturn=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},babelHelpers.toConsumableArray=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)};try{var ce=new window.CustomEvent("test");if(ce.preventDefault(),ce.defaultPrevented!==!0)throw new Error("Could not prevent default")}catch(t){var CustomEvent$1=function(t,e){var n,r;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},n=document.createEvent("CustomEvent"),n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(t){this.defaultPrevented=!0}},n};CustomEvent$1.prototype=window.Event.prototype,window.CustomEvent=CustomEvent$1}var div=document.createElement("div"),shadowDomV0=!!div.createShadowRoot,shadowDomV1=!!div.attachShadow,$shadowRoot="__shadowRoot",v0=function(){function t(t){for(var e=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT),n=[];e.nextNode();){var r=e.currentNode;"SLOT"===r.tagName&&n.push(r)}n.forEach(function(t){var e=t.getAttribute("name"),n=document.createElement("slot");for(e&&n.setAttribute("name",e),t.parentNode.replaceChild(n,t);t.hasChildNodes();)n.appendChild(t.firstChild)})}var e=function(t){for(var e=t.getAttribute("name"),n=t;n;){var r=n[$shadowRoot];if(r&&r.contains(t))break;n=n.parentNode}if(!n)return[];for(var i=n.childNodes,o=i.length,a=[],s=0;s<o;s++){var u=i[s],l=u.getAttribute?u.getAttribute("slot"):null;e===l&&a.push(u)}return a},n=HTMLElement.prototype,r=n.getAttribute,i=n.setAttribute,o=Object.getOwnPropertyDescriptor(Element.prototype,"innerHTML"),a=Object.getOwnPropertyDescriptor(ShadowRoot.prototype,"innerHTML"),s=function(t){return"slot"===t?"content":t},u=document.createElement.bind(document),l=document.createElementNS.bind(document);document.createElement=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return u.apply(void 0,[s(t)].concat(n))},document.createElementNS=function(t,e){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return l.apply(void 0,[t,s(e)].concat(r))},Object.defineProperty(Element.prototype,"innerHTML",{configurable:!0,get:o.get,set:function(e){o.set.call(this,e),t(this)}}),Object.defineProperty(ShadowRoot.prototype,"innerHTML",{configurable:!0,get:a.get,set:function(e){a.set.call(this,e),t(this)}}),Object.defineProperty(Node.prototype,"assignedSlot",{get:function(){var t=this.parentNode;if(t){var e=t.shadowRoot;if(!e)return null;for(var n=e.querySelectorAll("content"),r=0;r<n.length;r++){var i=n[r];if(i.assignedNodes().indexOf(this)>-1)return i}}return null}}),HTMLElement.prototype.attachShadow=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.mode;if("closed"!==n&&"open"!==n)throw new Error('You must specify { mode } as "open" or "closed" to attachShadow().');var r=this.createShadowRoot();"closed"===n&&Object.defineProperty(this,"shadowRoot",{configurable:!0,get:function(){return null}}),Object.defineProperty(r,"parentNode",{get:function(){return t}});var i=new MutationObserver(function(e){var n=t[$shadowRoot];e.forEach(function(t){var e=t.addedNodes,r=t.removedNodes,i={},o=function(t){return i[t.getAttribute&&t.getAttribute("slot")||"__default"]=!0};if(e)for(var a=e.length,s=0;s<a;s++)o(e[s]);if(r)for(var u=r.length,l=0;l<u;l++)o(r[l]);Object.keys(i).forEach(function(t){var e="__default"===t?n.querySelector("content:not([name])")||n.querySelector('content[name=""]'):n.querySelector('content[name="'+t+'"]');e&&e.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1}))})})});return i.observe(this,{childList:!0}),this[$shadowRoot]=r},Object.defineProperty(HTMLContentElement.prototype,"name",{get:function(){return this.getAttribute("name")},set:function(t){return this.setAttribute("name",t)}}),Object.defineProperty(HTMLElement.prototype,"slot",{get:function(){return this.getAttribute("slot")},set:function(t){return this.setAttribute("slot",t)}}),HTMLContentElement.prototype.assignedNodes=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.deep,r=[],i=n?this.getDistributedNodes():e(this),o=0;o<i.length;o++){var a=i[o],s=a.nodeType;s!==Node.ELEMENT_NODE&&s!==Node.TEXT_NODE||r.push(a)}return r},HTMLContentElement.prototype.getAttribute=function(t){if("name"===t){var e=r.call(this,"select");return e?e.match(/\[slot=['"]?(.*?)['"]?\]/)[1]:null}return r.call(this,t)},HTMLContentElement.prototype.setAttribute=function(t,e){return"name"===t&&(t="select",e="[slot='"+e+"']"),i.call(this,t,e)}},commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},index$1=createCommonjsModule(function(t){function e(){return(new Date).getTime()}t.exports=Date.now||e}),index$2=interopDefault(index$1),require$$0=Object.freeze({default:index$2}),index=createCommonjsModule(function(t){var e=interopDefault(require$$0);t.exports=function(t,n,r){function i(){var c=e()-u;c<n&&c>0?o=setTimeout(i,n-c):(o=null,r||(l=t.apply(s,a),o||(s=a=null)))}var o,a,s,u,l;return null==n&&(n=100),function(){s=this,a=arguments,u=e();var c=r&&!o;return o||(o=setTimeout(i,n)),c&&(l=t.apply(s,a),s=a=null),l}}}),debounce=interopDefault(index),weakmap=createCommonjsModule(function(t,e){void function(n,r,i){function o(t,e,n){return"function"==typeof e&&(n=e,e=a(n).replace(/_$/,"")),l(t,e,{configurable:!0,writable:!0,value:n})}function a(t){return"function"!=typeof t?"":"name"in t?t.name:c.call(t).match(p)[1]}function s(t){function e(e,r){return r||2===arguments.length?n.set(e,r):(r=n.get(e),r===i&&(r=t(e),n.set(e,r))),r}var n=new _;return t||(t=m),e}var u=Object.getOwnPropertyNames,l=Object.defineProperty,c=Function.prototype.toString,f=Object.create,h=Object.prototype.hasOwnProperty,p=/^\n?function\s?(\w*)?_?\(/,d=function(){function t(){var t=a(),r={};this.unlock=function(i){var o=c(i);if(h.call(o,t))return o[t](r);var a=f(null,e);return l(o,t,{value:new Function("s","l",n)(r,a)}),a}}var e={value:{writable:!0,value:i}},n="return function(k){if(k===s)return l}",r=f(null),a=function t(){var e=Math.random().toString(36).slice(2);return e in r?t():r[e]=e},s=a(),c=function(t){if(h.call(t,s))return t[s];if(!Object.isExtensible(t))throw new TypeError("Object must be extensible");var e=f(null);return l(t,s,{value:e}),e};return o(Object,function(t){var e=u(t);return h.call(t,s)&&e.splice(e.indexOf(s),1),e}),o(t.prototype,function(t){return this.unlock(t).value}),o(t.prototype,function(t,e){this.unlock(t).value=e}),t}(),_=function(t){function e(t){return this===n||null==this||this===e.prototype?new e(t):(p(this,new d),void m(this,t))}function s(t){h(t);var e=_(this).get(t);return e===r?i:e}function u(t,e){h(t),_(this).set(t,e===i?r:e)}function l(t){return h(t),_(this).get(t)!==i}function c(t){h(t);var e=_(this),n=e.get(t)!==i;return e.set(t,i),n}function f(){return _(this),"[object WeakMap]"}var h=function(t){if(null==t||"object"!==("undefined"==typeof t?"undefined":babelHelpers.typeof(t))&&"function"!=typeof t)throw new TypeError("Invalid WeakMap key")},p=function(e,n){var r=t.unlock(e);if(r.value)throw new TypeError("Object is already a WeakMap");r.value=n},_=function(e){var n=t.unlock(e).value;if(!n)throw new TypeError("WeakMap is not generic");return n},m=function(t,e){null!==e&&"object"===("undefined"==typeof e?"undefined":babelHelpers.typeof(e))&&"function"==typeof e.forEach&&e.forEach(function(n,r){n instanceof Array&&2===n.length&&u.call(t,e[r][0],e[r][1])})};try{var y=("return "+c).replace("e_","\\u0065"),v=new Function("unwrap","validate",y)(_,h)}catch(t){var v=c}var y=(""+Object).split("Object"),g=function(){return y[0]+a(this)+y[1]};o(g,g);var b={__proto__:[]}instanceof Array?function(t){t.__proto__=g}:function(t){o(t,g)};return b(e),[f,s,u,l,v].forEach(function(t){o(e.prototype,t),b(t)}),e}(new d),m=Object.create?function(){return Object.create(null)}:function(){return{}};"undefined"!=typeof t?t.exports=_:"undefined"!=typeof e?e.WeakMap=_:"WeakMap"in n||(n.WeakMap=_),_.createStorage=s,n.WeakMap&&(n.WeakMap.createStorage=s)}((0,eval)("this"))}),WeakMap=interopDefault(weakmap),div$1=document.createElement("div"),nativeParentNode=getPropertyDescriptor(Element.prototype,"innerHTML"),canPatchNativeAccessors=!!nativeParentNode,pseudoArrayToArray=function(t){return Array.prototype.slice.call(t)},arrProto=Array.prototype,forEach=arrProto.forEach,defaultShadowRootTagName="_shadow_root_",polyfillAtRuntime=["childNodes","parentNode"],doNotOverridePropertiesInTextNodes=["textContent"],defineInTextNodes=["assignedSlot"],doNotOverridePropertiesInCommNodes=["textContent"],defineInCommNodes=[],slottedNodeTypes=[Node.ELEMENT_NODE,Node.TEXT_NODE],assignedToSlotMap=new WeakMap,hostToModeMap=new WeakMap,hostToRootMap=new WeakMap,nodeToChildNodesMap=new WeakMap,nodeToParentNodeMap=new WeakMap,nodeToSlotMap=new WeakMap,rootToHostMap=new WeakMap,rootToSlotMap=new WeakMap,slotToRootMap=new WeakMap,parser=new DOMParser,members={____assignedNodes:{get:function(){return this.______assignedNodes||(this.______assignedNodes=[])}},____isInFallbackMode:{get:function(){return 0===this.assignedNodes().length}},____slotChangeListeners:{get:function(){return"undefined"==typeof this.______slotChangeListeners&&(this.______slotChangeListeners=0),this.______slotChangeListeners},set:function(t){this.______slotChangeListeners=t}},____triggerSlotChangeEvent:{value:debounce(function(){this.____slotChangeListeners&&this.dispatchEvent(new CustomEvent("slotchange",{bubbles:!1,cancelable:!1}))})},addEventListener:{value:function(t,e,n){return"slotchange"===t&&isSlotNode(this)&&this.____slotChangeListeners++,this.__addEventListener(t,e,n)}},appendChild:{value:function(t){return appendChildOrInsertBefore(this,t),t}},assignedSlot:{get:function(){var t=nodeToSlotMap.get(this);if(!t)return null;var e=slotToRootMap.get(t),n=rootToHostMap.get(e),r=hostToModeMap.get(n);return"open"===r?t:null}},attachShadow:{value:function(t){var e=this,n=t&&t.mode;if("closed"!==n&&"open"!==n)throw new Error('You must specify { mode } as "open" or "closed" to attachShadow().');var r=hostToRootMap.get(this);if(r)return r;var i=makeLikeNodeList([].slice.call(this.childNodes)),o=document.createElement(t.polyfillShadowRootTagName||defaultShadowRootTagName);return hostToModeMap.set(this,n),hostToRootMap.set(this,o),rootToHostMap.set(o,this),rootToSlotMap.set(o,{}),canPatchNativeAccessors?nodeToChildNodesMap.set(this,i):staticProp(this,"childNodes",i),i.forEach(function(t){e.__removeChild(t),canPatchNativeAccessors?nodeToParentNodeMap.set(t,e):staticProp(t,"parentNode",e)}),this.__appendChild(o)}},childElementCount:{get:function(){return this.children.length}},childNodes:{get:function(){if(canPatchNativeAccessors&&"node"===getNodeType(this))return this.__childNodes;var t=nodeToChildNodesMap.get(this);return t||nodeToChildNodesMap.set(this,t=makeLikeNodeList([])),t}},children:{get:function(){var t=[];return eachChildNode(this,function(e){1===e.nodeType&&t.push(e)}),makeLikeNodeList(t)}},firstChild:{get:function(){return this.childNodes[0]||null}},firstElementChild:{get:function(){return this.children[0]||null}},assignedNodes:{value:function(){if(isSlotNode(this)){var t=assignedToSlotMap.get(this);return t||assignedToSlotMap.set(this,t=[]),t}}},hasChildNodes:{value:function(){return this.childNodes.length>0}},innerHTML:{get:function(){function t(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName.toLowerCase()in i}var e="",n=function(t){return t.outerHTML},r={};r[Node.ELEMENT_NODE]=n,r[Node.COMMENT_NODE]=getCommentNodeOuterHtml;var i={style:!0,script:!0,xmp:!0,iframe:!0,noembed:!0,noframes:!0,noscript:!0,plaintext:!0},o=t(this);return eachChildNode(this,function(t){var i=void 0;i=t.nodeType===Node.TEXT_NODE?o?getRawTextContent:getEscapedTextContent:r[t.nodeType]||n,e+=i(t)}),e},set:function(t){for(var e=parse(t);this.hasChildNodes();)this.removeChild(this.firstChild);var n=findSlots(e);for(forEach.call(n,function(t){return syncSlotChildNodes(t)});e.hasChildNodes();){var r=e.firstChild;e.removeChild(r),this.appendChild(r)}}},insertBefore:{value:function(t,e){return appendChildOrInsertBefore(this,t,e),t}},lastChild:{get:function(){var t=this.childNodes;return t[t.length-1]||null}},lastElementChild:{get:function(){var t=this.children;return t[t.length-1]||null}},name:{get:function(){return this.getAttribute("name")},set:function(t){var e=this.name,n=this.__setAttribute("name",t);if(t===e)return n;if(!isSlotNode(this))return n;var r=slotToRootMap.get(this);return r&&(removeSlotFromRoot(r,this),addSlotToRoot(r,this)),n}},nextSibling:{get:function(){var t=this;return eachChildNode(this.parentNode,function(e,n,r){if(t===e)return r[n+1]||null})}},nextElementSibling:{get:function(){var t=this,e=void 0;return eachChildNode(this.parentNode,function(n){return e&&1===n.nodeType?n:void(t===n&&(e=!0))})}},outerHTML:{get:function(){var t=this.tagName.toLowerCase(),e=Array.prototype.slice.call(this.attributes).map(function(t){return" "+t.name+(t.value?'="'+t.value+'"':"")}).join("");return"<"+t+e+">"+this.innerHTML+"</"+t+">"},set:function(t){if(this.parentNode){var e=parse(t);this.parentNode.replaceChild(e.firstChild,this)}else{if(!canPatchNativeAccessors)throw new Error("Failed to set the 'outerHTML' property on 'Element': This element has no parent node.");this.__outerHTML=t}}},parentElement:{get:function(){return findClosest(this.parentNode,function(t){return 1===t.nodeType})}},parentNode:{get:function(){return nodeToParentNodeMap.get(this)||this.__parentNode||null}},previousSibling:{get:function(){var t=this;return eachChildNode(this.parentNode,function(e,n,r){if(t===e)return r[n-1]||null})}},previousElementSibling:{get:function(){var t=this,e=void 0;return eachChildNode(this.parentNode,function(n){return e&&t===n?e:void(1===n.nodeType&&(e=n))})}},removeChild:{value:function(t){var e=getNodeType(this);switch(e){case"node":if(canPatchNativeAccessors)return nodeToParentNodeMap.set(t,null),this.__removeChild(t);removeNodeFromNode(this,t);break;case"slot":removeNodeFromSlot(this,t);break;case"host":removeNodeFromHost(this,t);break;case"root":removeNodeFromRoot(this,t)}return t}},removeEventListener:{value:function(t,e,n){return"slotchange"===t&&this.____slotChangeListeners&&isSlotNode(this)&&this.____slotChangeListeners--,this.__removeEventListener(t,e,n)}},replaceChild:{value:function(t,e){return this.insertBefore(t,e),this.removeChild(e)}},setAttribute:{value:function(t,e){return"slot"===t&&(this[t]=e),isSlotNode(this)&&"name"===t&&(this[t]=e),this.__setAttribute(t,e)}},shadowRoot:{get:function(){return"open"===hostToModeMap.get(this)?hostToRootMap.get(this):null}},slot:{get:function(){return this.getAttribute("slot")},set:function(t){var e=this.name,n=this.__setAttribute("slot",t);if(e===t)return n;var r=nodeToSlotMap.get(this),i=r&&slotToRootMap.get(r),o=i&&rootToHostMap.get(i);return o&&(removeNodeFromHost(o,this),addNodeToHost(o,this)),n}},textContent:{get:function(){var t="";return eachChildNode(this,function(e){e.nodeType!==Node.COMMENT_NODE&&(t+=e.textContent)}),t},set:function(t){for(;this.hasChildNodes();)this.removeChild(this.firstChild);t&&this.appendChild(document.createTextNode(t))}}},v1=function(){var t=Comment.prototype,e=HTMLElement.prototype,n=SVGElement.prototype,r=Text.prototype,i=document.createTextNode(""),o=document.createComment("");Object.keys(members).forEach(function(a){var s=members[a];if(s.configurable=!0,s.enumerable=!0,s.hasOwnProperty("value")&&(s.writable=!0),canPatchNativeAccessors||polyfillAtRuntime.indexOf(a)===-1){var u=getPropertyDescriptor(e,a),l=getPropertyDescriptor(r,a),c=getPropertyDescriptor(t,a),f=a in i&&doNotOverridePropertiesInTextNodes.indexOf(a)===-1||~defineInTextNodes.indexOf(a),h=a in o&&doNotOverridePropertiesInCommNodes.indexOf(a)===-1||~defineInCommNodes.indexOf(a),p="__"+a;Object.defineProperty(e,a,s),Object.defineProperty(n,a,s),u&&(Object.defineProperty(e,p,u),Object.defineProperty(n,p,u)),f&&Object.defineProperty(r,a,s),f&&l&&Object.defineProperty(r,p,l),h&&Object.defineProperty(t,a,s),h&&c&&Object.defineProperty(t,p,c)}})};shadowDomV1||(shadowDomV0?v0():v1());var documentRegisterElement_node=createCommonjsModule(function(t){function e(t){function e(){var t=w.splice(0,w.length);for(Yt=0;t.length;)t.shift().call(null,t.shift())}function n(t,e){for(var n=0,r=t.length;n<r;n++)d(t[n],e)}function r(t){for(var e,n=0,r=t.length;n<r;n++)e=t[n],T(e,rt[o(e)])}function i(t){return function(e){jt(e)&&(d(e,t),n(e.querySelectorAll(it),t))}}function o(t){var e=Ht.call(t,"is"),n=t.nodeName.toUpperCase(),r=at.call(nt,e?Q+e.toUpperCase():J+n);return e&&-1<r&&!a(n,e)?-1:r}function a(t,e){return-1<it.indexOf(t+'[is="'+e+'"]')}function s(t){var e=t.currentTarget,n=t.attrChange,r=t.attrName,i=t.target,o=t[W]||2,a=t[Y]||3;!Jt||i&&i!==e||!e[H]||"style"===r||t.prevValue===t.newValue&&(""!==t.newValue||n!==o&&n!==a)||e[H](r,n===o?null:t.prevValue,n===a?null:t.newValue)}function u(t){var n=i(t);return function(t){w.push(n,t.target),Yt&&clearTimeout(Yt),Yt=setTimeout(e,1)}}function l(t){Kt&&(Kt=!1,t.currentTarget.removeEventListener(Z,l)),n((t.target||S).querySelectorAll(it),t.detail===q?q:P),kt&&h()}function c(t,e){var n=this;Rt.call(n,t,e),$.call(n,{target:n})}function f(t,e){St(t,e),A?A.observe(t,Wt):(Zt&&(t.setAttribute=c,t[z]=M(t),t[j](K,$)),t[j](G,s)),t[B]&&Jt&&(t.created=!0,t[B](),t.created=!1)}function h(){for(var t,e=0,n=Pt.length;e<n;e++)t=Pt[e],ot.contains(t)||(n--,Pt.splice(e--,1),d(t,q))}function p(t){throw new Error("A "+t+" type is already registered")}function d(t,e){var n,r=o(t);-1<r&&(N(t,rt[r]),r=0,e!==P||t[P]?e!==q||t[q]||(t[P]=!1,t[q]=!0,r=1):(t[q]=!1,t[P]=!0,r=1,kt&&at.call(Pt,t)<0&&Pt.push(t)),r&&(n=t[e+L])&&n.call(t))}function _(){}function m(t,e,n){var r=n&&n[I]||"",i=e.prototype,o=Tt(i),a=e.observedAttributes||ft,s={prototype:o};zt(o,B,{value:function(){if(Et)Et=!1;else if(!this[vt]){this[vt]=!0,new e(this),i[B]&&i[B].call(this);var t=Mt[Ct.get(e)];(!bt||t.create.length>1)&&g(this)}}}),zt(o,H,{value:function(t){-1<at.call(a,t)&&i[H].apply(this,arguments)}}),i[F]&&zt(o,V,{value:i[F]}),i[R]&&zt(o,U,{value:i[R]}),r&&(s[I]=r),t=t.toUpperCase(),Mt[t]={constructor:e,create:r?[r,Nt(t)]:[t]},Ct.set(e,t),S[k](t.toLowerCase(),s),b(t),At[t].r()}function y(t){var e=Mt[t.toUpperCase()];return e&&e.constructor}function v(t){return"string"==typeof t?t:t&&t.is||""}function g(t){for(var e,n=t[H],r=n?t.attributes:ft,i=r.length;i--;)e=r[i],n.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function b(t){return t=t.toUpperCase(),t in At||(At[t]={},At[t].p=new $t(function(e){At[t].r=e})),At[t].p}function x(){gt&&delete t.customElements,ct(t,"customElements",{configurable:!0,value:new _}),ct(t,"CustomElementRegistry",{configurable:!0,value:_});for(var e=function(e){var n=t[e];if(n){t[e]=function(t){var e,r;return t||(t=this),t[vt]||(Et=!0,e=Mt[Ct.get(t.constructor)],r=bt&&1===e.create.length,t=r?Reflect.construct(n,ft,e.constructor):S.createElement.apply(S,e.create),t[vt]=!0,Et=!1,r||g(t)),t},t[e].prototype=n.prototype;try{n.prototype.constructor=t[e]}catch(r){yt=!0,ct(n,vt,{value:t[e]})}}},n=D.get(/^HTML[A-Z]*[a-z]/),r=n.length;r--;e(n[r]));S.createElement=function(t,e){var n=v(e);return n?Ut.call(this,t,Nt(n)):Ut.call(this,t)}}var w,$,E,M,A,C,N,T,S=t.document,O=t.Object,D=function(t){var e,n,r,i,o=/^[A-Z]+[a-z]/,a=function(t){var e,n=[];for(e in u)t.test(e)&&n.push(e);return n},s=function(t,e){e=e.toLowerCase(),e in u||(u[t]=(u[t]||[]).concat(e),u[e]=u[e.toUpperCase()]=t)},u=(O.create||O)(null),l={};for(n in t)for(i in t[n])for(r=t[n][i],u[i]=r,e=0;e<r.length;e++)u[r[e].toLowerCase()]=u[r[e].toUpperCase()]=i;return l.get=function(t){return"string"==typeof t?u[t]||(o.test(t)?[]:""):a(t)},l.set=function(t,e){return o.test(t)?s(t,e):s(e,t),l},l}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}}),k="registerElement",z="__"+k+(1e5*t.Math.random()>>0),j="addEventListener",P="attached",L="Callback",q="detached",I="extends",H="attributeChanged"+L,V=P+L,F="connected"+L,R="disconnected"+L,B="created"+L,U=q+L,W="ADDITION",X="MODIFICATION",Y="REMOVAL",G="DOMAttrModified",Z="DOMContentLoaded",K="DOMSubtreeModified",J="<",Q="=",tt=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,et=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],nt=[],rt=[],it="",ot=S.documentElement,at=nt.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},st=O.prototype,ut=st.hasOwnProperty,lt=st.isPrototypeOf,ct=O.defineProperty,ft=[],ht=O.getOwnPropertyDescriptor,pt=O.getOwnPropertyNames,dt=O.getPrototypeOf,_t=O.setPrototypeOf,mt=!!O.__proto__,yt=!1,vt="__dreCEv1",gt=t.customElements,bt=!!(gt&&gt.define&&gt.get&&gt.whenDefined),xt=O.create||O,wt=t.Map||function(){var t,e=[],n=[];return{get:function(t){return n[at.call(e,t)]},set:function(r,i){t=at.call(e,r),t<0?n[e.push(r)-1]=i:n[t]=i}}},$t=t.Promise||function(t){function e(t){for(r=!0;n.length;)n.shift()(t)}var n=[],r=!1,i={catch:function(){return i},then:function(t){return n.push(t),r&&setTimeout(e,1),i}};return t(e),i},Et=!1,Mt=xt(null),At=xt(null),Ct=new wt,Nt=String,Tt=O.create||function t(e){return e?(t.prototype=e,new t):this},St=_t||(mt?function(t,e){return t.__proto__=e,t}:pt&&ht?function(){function t(t,e){for(var n,r=pt(e),i=0,o=r.length;i<o;i++)n=r[i],ut.call(t,n)||ct(t,n,ht(e,n))}return function(e,n){do t(e,n);while((n=dt(n))&&!lt.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),Ot=t.MutationObserver||t.WebKitMutationObserver,Dt=(t.HTMLElement||t.Element||t.Node).prototype,kt=!lt.call(Dt,ot),zt=kt?function(t,e,n){return t[e]=n.value,t}:ct,jt=kt?function(t){return 1===t.nodeType}:function(t){return lt.call(Dt,t)},Pt=kt&&[],Lt=Dt.attachShadow,qt=Dt.cloneNode,It=Dt.dispatchEvent,Ht=Dt.getAttribute,Vt=Dt.hasAttribute,Ft=Dt.removeAttribute,Rt=Dt.setAttribute,Bt=S.createElement,Ut=Bt,Wt=Ot&&{attributes:!0,characterData:!0,attributeOldValue:!0},Xt=Ot||function(t){Zt=!1,ot.removeEventListener(G,Xt)},Yt=0,Gt=!1,Zt=!0,Kt=!0,Jt=!0;if(k in S||(_t||mt?(N=function(t,e){lt.call(e,t)||f(t,e)},T=f):(N=function(t,e){t[z]||(t[z]=O(!0),f(t,e))},T=N),kt?(Zt=!1,function(){var t=ht(Dt,j),e=t.value,n=function(t){var e=new CustomEvent(G,{bubbles:!0});e.attrName=t,e.prevValue=Ht.call(this,t),e.newValue=null,e[Y]=e.attrChange=2,Ft.call(this,t),It.call(this,e)},r=function(t,e){var n=Vt.call(this,t),r=n&&Ht.call(this,t),i=new CustomEvent(G,{bubbles:!0});Rt.call(this,t,e),i.attrName=t,i.prevValue=n?r:null,i.newValue=e,n?i[X]=i.attrChange=1:i[W]=i.attrChange=0,It.call(this,i)},i=function(t){var e,n=t.currentTarget,r=n[z],i=t.propertyName;r.hasOwnProperty(i)&&(r=r[i],e=new CustomEvent(G,{bubbles:!0}),e.attrName=r.name,e.prevValue=r.value||null,e.newValue=r.value=n[i]||null,null==e.prevValue?e[W]=e.attrChange=0:e[X]=e.attrChange=1,It.call(n,e))};t.value=function(t,o,a){t===G&&this[H]&&this.setAttribute!==r&&(this[z]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,e.call(this,"propertychange",i)),e.call(this,t,o,a)},ct(Dt,j,t)}()):Ot||(ot[j](G,Xt),ot.setAttribute(z,1),ot.removeAttribute(z),Zt&&($=function(t){var e,n,r,i=this;if(i===t.target){e=i[z],i[z]=n=M(i);for(r in n){if(!(r in e))return E(0,i,r,e[r],n[r],W);if(n[r]!==e[r])return E(1,i,r,e[r],n[r],X)}for(r in e)if(!(r in n))return E(2,i,r,e[r],n[r],Y)}},E=function(t,e,n,r,i,o){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:r,newValue:i};a[o]=t,s(a)},M=function(t){for(var e,n,r={},i=t.attributes,o=0,a=i.length;o<a;o++)e=i[o],n=e.name,"setAttribute"!==n&&(r[n]=e.value);return r})),S[k]=function(t,e){if(a=t.toUpperCase(),Gt||(Gt=!0,Ot?(A=function(t,e){function n(t,e){for(var n=0,r=t.length;n<r;e(t[n++]));}return new Ot(function(r){for(var i,o,a,s=0,u=r.length;s<u;s++)i=r[s],"childList"===i.type?(n(i.addedNodes,t),n(i.removedNodes,e)):(o=i.target,Jt&&o[H]&&"style"!==i.attributeName&&(a=Ht.call(o,i.attributeName),a!==i.oldValue&&o[H](i.attributeName,i.oldValue,a)))})}(i(P),i(q)),C=function(t){return A.observe(t,{childList:!0,subtree:!0}),t},C(S),Lt&&(Dt.attachShadow=function(){return C(Lt.apply(this,arguments))})):(w=[],S[j]("DOMNodeInserted",u(P)),S[j]("DOMNodeRemoved",u(q))),S[j](Z,l),S[j]("readystatechange",l),Dt.cloneNode=function(t){var e=qt.call(this,!!t),n=o(e);return-1<n&&T(e,rt[n]),t&&r(e.querySelectorAll(it)),e}),-2<at.call(nt,Q+a)+at.call(nt,J+a)&&p(t),!tt.test(a)||-1<at.call(et,a))throw new Error("The type "+t+" is invalid");var a,s,c=function(){return h?S.createElement(d,a):S.createElement(d)},f=e||st,h=ut.call(f,I),d=h?e[I].toUpperCase():a;return h&&-1<at.call(nt,J+d)&&p(d),s=nt.push((h?Q:J)+a)-1,it=it.concat(it.length?",":"",h?d+'[is="'+t.toLowerCase()+'"]':d),c.prototype=rt[s]=ut.call(f,"prototype")?f.prototype:Tt(Dt),n(S.querySelectorAll(it),P),c},S.createElement=Ut=function(t,e){var n=v(e),r=n?Bt.call(S,t,Nt(n)):Bt.call(S,t),i=""+t,o=at.call(nt,(n?Q:J)+(n||i).toUpperCase()),s=-1<o;return n&&(r.setAttribute("is",n=n.toLowerCase()),s&&(s=a(i.toUpperCase(),n))),Jt=!S.createElement.innerHTMLHelper,s&&T(r,rt[o]),r}),_.prototype={constructor:_,define:bt?function(t,e,n){if(n)m(t,e,n);else{var r=t.toUpperCase();Mt[r]={constructor:e,create:[r]},Ct.set(e,r),gt.define(t,e)}}:m,get:bt?function(t){return gt.get(t)||y(t)}:y,whenDefined:bt?function(t){return $t.race([gt.whenDefined(t),b(t)])}:b},gt)try{!function(e,n,r){if(n[I]="a",e.prototype=Tt(HTMLAnchorElement.prototype),e.prototype.constructor=e,t.customElements.define(r,e,n),Ht.call(S.createElement("a",{is:r}),"is")!==r||bt&&Ht.call(new e,"is")!==r)throw n}(function t(){return Reflect.construct(HTMLAnchorElement,[],t)},{},"document-register-element-a")}catch(t){x()}else x();try{Bt.call(S,"a","a")}catch(t){Nt=function(t){return{is:t}}}}e(commonjsGlobal),t.exports=e});interopDefault(documentRegisterElement_node);var patch=navigator.userAgent.indexOf("Safari/60")!==-1;patch&&fixSafari();var assign=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return n.forEach(function(e){return keys(e).forEach(function(n){return t[n]=e[n]})}),t},$connected="____skate_connected",$created="____skate_created",$name="____skate_name",$props="____skate_props",$ref="____skate_ref",$renderer="____skate_renderer",$rendering="____skate_rendering",$rendererDebounced="____skate_rendererDebounced",shadowRoot="____skate_shadowRoot",$updated="____skate_updated",incrementalDomCjs=createCommonjsModule(function(t,e){function n(t,e){this.attrs=s(),this.attrsArr=[],this.newAttrs=s(),this.key=e,this.keyMap=null,this.keyMapValid=!0,this.nodeName=t,this.text=null}function r(){this.created=M.nodesCreated&&[],this.deleted=M.nodesDeleted&&[]}var i=Object.prototype.hasOwnProperty,o=Object.create,a=function(t,e){return i.call(t,e)},s=function(){return o(null)},u=function(t,e,r){var i=new n(e,r);return t.__incrementalDOMData=i,i},l=function(t){var e=t.__incrementalDOMData;if(!e){var n=t.nodeName.toLowerCase(),r=null;t instanceof Element&&(r=t.getAttribute("key")),e=u(t,n,r)}return e},c={default:"__default",placeholder:"__placeholder"},f=function(t){return 0===t.lastIndexOf("xml:",0)?"http://www.w3.org/XML/1998/namespace":0===t.lastIndexOf("xlink:",0)?"http://www.w3.org/1999/xlink":void 0},h=function(t,e,n){if(null==n)t.removeAttribute(e);else{
var r=f(e);r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}},p=function(t,e,n){t[e]=n},d=function(t,e,n){if("string"==typeof n)t.style.cssText=n;else{t.style.cssText="";var r=t.style,i=n;for(var o in i)a(i,o)&&(r[o]=i[o])}},_=function(t,e,n){var r="undefined"==typeof n?"undefined":babelHelpers.typeof(n);"object"===r||"function"===r?p(t,e,n):h(t,e,n)},m=function(t,e,n){var r=l(t),i=r.attrs;if(i[e]!==n){var o=y[e]||y[c.default];o(t,e,n),i[e]=n}},y=s();y[c.default]=_,y[c.placeholder]=function(){},y.style=d;var v=function(t,e){return"svg"===t?"http://www.w3.org/2000/svg":"foreignObject"===l(e).nodeName?null:e.namespaceURI},g=function(t,e,n,r,i){var o=v(n,e),a=void 0;if(a=o?t.createElementNS(o,n):t.createElement(n),u(a,n,r),i)for(var s=0;s<i.length;s+=2)m(a,i[s],i[s+1]);return a},b=function(t){var e=t.createTextNode("");return u(e,"#text",null),e},x=function(t){for(var e=s(),n=t.firstElementChild;n;){var r=l(n).key;r&&(e[r]=n),n=n.nextElementSibling}return e},w=function(t){var e=l(t);return e.keyMap||(e.keyMap=x(t)),e.keyMap},$=function(t,e){return e?w(t)[e]:null},E=function(t,e,n){w(t)[e]=n},M={nodesCreated:null,nodesDeleted:null};r.prototype.markCreated=function(t){this.created&&this.created.push(t)},r.prototype.markDeleted=function(t){this.deleted&&this.deleted.push(t)},r.prototype.notifyChanges=function(){this.created&&this.created.length>0&&M.nodesCreated(this.created),this.deleted&&this.deleted.length>0&&M.nodesDeleted(this.deleted)};var A=null,C=null,N=null,T=null,S=null,O=function(t){var e=function(e,n,i){var o=A,a=T,s=S,u=C,l=N;A=new r,T=e,S=e.ownerDocument,N=e.parentNode,t(e,n,i),A.notifyChanges(),A=o,T=a,S=s,C=u,N=l};return e},D=O(function(t,e,n){C=t,L(),e(n),I()}),k=O(function(t,e,n){C={nextSibling:t},e(n)}),z=function(t,e){var n=l(C);return t===n.nodeName&&e==n.key},j=function(t,e,n){if(!C||!z(t,e)){var r=void 0;e&&(r=$(N,e)),r||(r="#text"===t?b(S):g(S,N,t,e,n),e&&E(N,e,r),A.markCreated(r)),C&&l(C).key?(N.replaceChild(r,C),l(N).keyMapValid=!1):N.insertBefore(r,C),C=r}},P=function(){var t=N,e=l(t),n=e.keyMap,r=e.keyMapValid,i=t.lastChild,o=void 0;if(!(i===C&&r||e.attrs[c.placeholder]&&t!==T)){for(;i!==C;)t.removeChild(i),A.markDeleted(i),o=l(i).key,o&&delete n[o],i=t.lastChild;if(!r){for(o in n)i=n[o],i.parentNode!==t&&(A.markDeleted(i),delete n[o]);e.keyMapValid=!0}}},L=function(){N=C,C=null},q=function(){C=C?C.nextSibling:N.firstChild},I=function(){P(),C=N,N=N.parentNode},H=function(t,e,n){return q(),j(t,e,n),L(),N},V=function(){return I(),C},F=function(){return q(),j("#text",null,null),C},R=function(){return N},B=function(){C=N.lastChild},U=3,W=[],X=function(t,e,n,r){for(var i=H(t,e,n),o=l(i),a=o.attrsArr,s=o.newAttrs,u=!1,c=U,f=0;c<arguments.length;c+=1,f+=1)if(a[f]!==arguments[c]){u=!0;break}for(;c<arguments.length;c+=1,f+=1)a[f]=arguments[c];if(f<a.length&&(u=!0,a.length=f),u){for(c=U;c<arguments.length;c+=2)s[arguments[c]]=arguments[c+1];for(var h in s)m(i,h,s[h]),s[h]=void 0}return i},Y=function(t,e,n){W[0]=t,W[1]=e,W[2]=n},G=function(t,e){W.push(t,e)},Z=function(){var t=X.apply(null,W);return W.length=0,t},K=function(t){var e=V();return e},J=function(t,e,n,r){return X.apply(null,arguments),K(t)},Q=function(t,e,n,r){return X.apply(null,arguments),B(),K(t)},tt=function(t,e){var n=F(),r=l(n);if(r.text!==t){r.text=t;for(var i=t,o=1;o<arguments.length;o+=1){var a=arguments[o];i=a(i)}n.data=i}return n};e.patch=D,e.patchInner=D,e.patchOuter=k,e.currentElement=R,e.skip=B,e.elementVoid=J,e.elementOpenStart=Y,e.elementOpenEnd=Z,e.elementOpen=X,e.elementClose=K,e.elementPlaceholder=Q,e.text=tt,e.attr=G,e.symbols=c,e.attributes=y,e.applyAttr=h,e.applyProp=p,e.notifications=M});interopDefault(incrementalDomCjs);for(var applyProp=incrementalDomCjs.applyProp,attributes=incrementalDomCjs.attributes,symbols=incrementalDomCjs.symbols,text=incrementalDomCjs.text,elementClose=incrementalDomCjs.elementClose,elementOpen$1=incrementalDomCjs.elementOpen,skip=incrementalDomCjs.skip,patchInner=incrementalDomCjs.patchInner,doc=document,win=window,div$2=doc.createElement("div"),customElementsV0=!!doc.registerElement,customElementsV1=!!win.customElements,shadowDomV0$1=!!div$2.createShadowRoot,shadowDomV1$1=!!div$2.attachShadow,reflect=("Reflect"in window),applyDefault=attributes[symbols.default],fallbackToV0=!shadowDomV1$1&&shadowDomV0$1,stackChren=[],$skip="__skip",$currentEventHandlers="__events",$stackCurrentHelperProps="__props",stackCurrentHelper=void 0,overrideArgs=void 0,skips=0,noop=function(){},attributesContext=(propContext(attributes,babelHelpers.defineProperty({key:noop,statics:noop,checked:applyProp,className:applyProp,disabled:applyProp,value:applyProp,name:function(t,e,n){"CONTENT"===t.tagName&&(e="select",n='[slot="'+n+'"]'),applyDefault(t,e,n)},ref:function(t,e,n){t[$ref]=n},skip:function(t,e,n){n?t[$skip]=!0:delete t[$skip]}},symbols.default,function(t,e,n){var r=t.constructor.props;if(r&&e in r)return applyProp(t,e,n);if(n===!1)return applyDefault(t,e);if(0===e.indexOf("on")){var i=e[2],o=void 0;if("-"===i?o=e.substring(3):i===i.toUpperCase()&&(o=i.toLowerCase()+e.substring(3)),o)return void applyEvent(t,o,n)}return e in t&&!("ownerSVGElement"in t)?void applyProp(t,e,n):void applyDefault(t,e,n)}))),elementOpen=attributesContext(elementOpen$1),newElementOpenStart=wrapIdomFunc(elementOpenStart,stackOpen),newElementOpenEnd=wrapIdomFunc(elementOpenEnd),newElementOpen=wrapIdomFunc(elementOpen,stackOpen),newElementClose=wrapIdomFunc(elementClose,stackClose),newText=wrapIdomFunc(text),_window$2=window,MutationObserver$1=_window$2.MutationObserver,longerTimeoutBrowsers=["Edge","Trident","Firefox"],timeoutDuration=0,i=0;i<longerTimeoutBrowsers.length;i+=1)if(navigator.userAgent.indexOf(longerTimeoutBrowsers[i])>=0){timeoutDuration=1;break}var debounce$1=window.MutationObserver?microTaskDebounce:taskDebounce,_window$1=window,HTMLElement$1=_window$1.HTMLElement;Component.observedAttributes=[],Component.props={},Component.extend=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this,n=function(t){function e(){return babelHelpers.classCallCheck(this,e),babelHelpers.possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return babelHelpers.inherits(e,t),e}(e);if(!n.observedAttributes){var r=getOwnPropertyDescriptors(e);delete r.length,delete r.prototype,Object.defineProperties(n,r)}var i=getOwnPropertyDescriptors(t),o=getOwnPropertyDescriptors(t.prototype);return delete i.prototype,Object.defineProperties(n,i),Object.defineProperties(n.prototype,o),n},Component.renderer=function(t){var e=t.elem,n=t.render,r=t.shadowRoot;patchInner(r,function(){var t=n(e);"function"==typeof t?t():Array.isArray(t)&&t.forEach(function(t){"function"==typeof t&&t()})})},Component.updated=function(t,e){if(!e)return!0;for(var n=keys(e),r=0;r<n.length;r+=1)if(e[n[r]]!==t[n[r]])return!0;return!1},Component[$updated]=function(t){if("function"==typeof this.updated){var e=t[$props];return t[$props]=props(t),this.updated(t,e)}return!0},Component[$renderer]=function(t){if(!t[$rendering]&&t[$connected]){t[$rendering]=!0;var e=this[$updated](t);if(!this.render||!this.renderer)return void(t[$rendering]=!1);e&&(this.renderer({elem:t,render:this.render,shadowRoot:getOrAttachShadow(t)}),"function"==typeof this.rendered&&this.rendered(t)),t[$rendering]=!1}},Component.prototype=Object.create(HTMLElement$1.prototype,{connectedCallback:{configurable:!0,value:function(){callConnected(this)}},disconnectedCallback:{configurable:!0,value:function(){callDisconnected(this)}},attributeChangedCallback:{configurable:!0,value:function(t,e,n){var r=this.constructor,i=r.attributeChanged,o=r.observedAttributes,a=data(this,"attributeLinks")[t];if(!customElementsV0||o.indexOf(t)!==-1){if(a){var s=data(this,"props")[a];if(s.syncingAttribute)s.syncingAttribute=!1;else{var u=this.constructor.props[a];s.settingAttribute=!0;var l=null!==n&&u.deserialize?u.deserialize(n):n;this[a]=l}}i&&i(this,{name:t,newValue:n,oldValue:e})}}},createdCallback:{configurable:!0,value:function(){callConstructor(this)}},attachedCallback:{configurable:!0,value:function(){callConnected(this)}},detachedCallback:{configurable:!0,value:function(){callDisconnected(this)}}});var Event$1=function(t){if(t)try{new t("emit-init")}catch(t){return}return t}(window.Event),h=builder(),kefir=createCommonjsModule(function(t,e){!function(n,r){"object"===("undefined"==typeof e?"undefined":babelHelpers.typeof(e))&&"undefined"!=typeof t?r(e):"function"==typeof define&&define.amd?define(["exports"],r):r(n.Kefir=n.Kefir||{})}(commonjsGlobal,function(t){function e(t){var e=function(){};return e.prototype=t,new e}function n(t){var e=arguments.length,n=void 0,r=void 0;for(n=1;n<e;n++)for(r in arguments[n])t[r]=arguments[n][r];return t}function r(t,r){var i=arguments.length,o=void 0;for(t.prototype=e(r.prototype),t.prototype.constructor=t,o=2;o<i;o++)n(t.prototype,arguments[o]);return t}function i(t,e){var n=void 0,r=void 0,i=void 0,o=void 0;if(0===t.length)return e;if(0===e.length)return t;for(o=0,n=new Array(t.length+e.length),r=t.length,i=0;i<r;i++,o++)n[o]=t[i];for(r=e.length,i=0;i<r;i++,o++)n[o]=e[i];return n}function o(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)if(t[r]===e)return r;return-1}function a(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)if(e(t[r]))return r;return-1}function s(t){var e=t.length,n=new Array(e),r=void 0;for(r=0;r<e;r++)n[r]=t[r];return n}function u(t,e){var n=t.length,r=void 0,i=void 0,o=void 0;if(e>=0&&e<n){if(1===n)return[];for(r=new Array(n-1),i=0,o=0;i<n;i++)i!==e&&(r[o]=t[i],o++);return r}return t}function l(t,e){var n=t.length,r=new Array(n),i=void 0;for(i=0;i<n;i++)r[i]=e(t[i]);return r}function c(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)e(t[r])}function f(t,e){var n=t.length,r=void 0;for(r=0;r<n;r++)t[r]=e}function h(t,e){return o(t,e)!==-1}function p(t,e,n){var r=Math.min(n,t.length+1),i=t.length-r+1,o=new Array(r),a=void 0;for(a=i;a<r;a++)o[a-i]=t[a];return o[r-1]=e,o}function d(t,e,n){t===se?e(n):t===n.type&&(t===oe||t===ae?e(n.value):e())}function _(){this._items=[],this._inLoop=0,this._removedItems=null}function m(){this._dispatcher=new _,this._active=!1,this._alive=!0,this._activating=!1,this._logHandlers=null}function y(){m.call(this)}function v(){m.call(this),this._currentEvent=null}function g(){return ue}function b(t){function e(t,e){var n=this;y.call(this),this._wait=t,this._intervalId=null,this._$onTick=function(){return n._onTick()},this._init(e)}return r(e,y,{_init:function(){},_free:function(){},_onTick:function(){},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null)},_clear:function(){y.prototype._clear.call(this),this._$onTick=null,this._free()}},t),e}function x(t,e){return new le(t,{x:e})}function w(t,e){return new ce(t,{x:e})}function $(t,e){return 0===e.length?g():new fe(t,{xs:e})}function E(t,e){return new he(t,{fn:e})}function M(t){function e(e){return t._emitValue(e),t._active}function n(e){return t._emitError(e),t._active}function r(){return t._emitEnd(),t._active}function i(e){return t._emit(e.type,e.value),t._active}return{value:e,error:n,end:r,event:i,emit:e,emitEvent:i}}function A(t,e){return new pe(t,{fn:e})}function C(t){y.call(this),this._fn=t,this._unsubscribe=null}function N(t){return new C(t)}function T(t){var e=!1;return N(function(n){e||(t(function(t){n.emit(t),n.end()}),e=!0)}).setName("fromCallback")}function S(t){var e=!1;return N(function(n){e||(t(function(t,e){t?n.error(t):n.emit(e),n.end()}),e=!0)}).setName("fromNodeCallback")}function O(t,e){switch(e){case 0:return function(){return t()};case 1:return function(e){return t(e[0])};case 2:return function(e){return t(e[0],e[1])};case 3:return function(e){return t(e[0],e[1],e[2])};case 4:return function(e){return t(e[0],e[1],e[2],e[3])};default:return function(e){return t.apply(null,e)}}}function D(t,e,n){var r=n?n.length:0;if(null==e)switch(r){case 0:return t();case 1:return t(n[0]);case 2:return t(n[0],n[1]);case 3:return t(n[0],n[1],n[2]);case 4:return t(n[0],n[1],n[2],n[3]);default:return t.apply(null,n)}else switch(r){case 0:return t.call(e);default:return t.apply(e,n)}}function k(t,e,n){return N(function(r){var i=n?function(){r.emit(D(n,this,arguments))}:function(t){r.emit(t)};return t(i),function(){return e(i)}}).setName("fromSubUnsub")}function z(t,e,n){for(var r=void 0,i=void 0,o=0;o<de.length;o++)if("function"==typeof t[de[o][0]]&&"function"==typeof t[de[o][1]]){r=de[o][0],i=de[o][1];break}if(void 0===r)throw new Error("target don't support any of addEventListener/removeEventListener, addListener/removeListener, on/off method pair");return k(function(n){return t[r](e,n)},function(n){return t[i](e,n)},n).setName("fromEvents")}function j(t){this._currentEvent={type:"value",value:t,current:!0}}function P(t){return new j(t)}function L(t){this._currentEvent={type:"error",value:t,current:!0}}function q(t){return new L(t)}function I(t,e){return function(n,r){var i=this;t.call(this),this._source=n,this._name=n._name+"."+e,this._init(r),this._$handleAny=function(t){return i._handleAny(t)}}}function H(t){return{_init:function(){},_free:function(){},_handleValue:function(t){this._emitValue(t)},_handleError:function(t){this._emitError(t)},_handleEnd:function(){this._emitEnd()},_handleAny:function(t){switch(t.type){case oe:return this._handleValue(t.value);case ae:return this._handleError(t.value);case ie:return this._handleEnd()}},_onActivation:function(){this._source.onAny(this._$handleAny)},_onDeactivation:function(){this._source.offAny(this._$handleAny)},_clear:function(){t.prototype._clear.call(this),this._source=null,this._$handleAny=null,this._free()}}}function V(t,e){var n=I(y,t);return r(n,y,H(y),e),n}function F(t,e){var n=I(v,t);return r(n,v,H(v),e),n}function R(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(null!==e&&"function"!=typeof e)throw new Error("You should call toProperty() with a function or no arguments.");return new _e(t,{fn:e})}function B(t){return new me(t)}function U(t){var e=!1,n=N(function(n){if(!e){var r=function(t){n.emit(t),n.end()},i=function(t){n.error(t),n.end()},o=t.then(r,i);o&&"function"==typeof o.done&&o.done(),e=!0}});return R(n,null).setName("fromPromise")}function W(){if("function"==typeof Promise)return Promise;throw new Error("There isn't default Promise, use shim or parameter")}function X(t){var e=arguments.length<=1||void 0===arguments[1]?W():arguments[1],n=null;return new e(function(e,r){t.onAny(function(t){t.type===ie&&null!==n?((n.type===oe?e:r)(n.value),n=null):n=t})})}function Y(t,e){return e={exports:{}},t(e,e.exports),e.exports}function G(t){var e=t[$e]?t[$e]():t;return N(function(t){var n=e.subscribe({error:function(e){t.error(e),t.end()},next:function(e){t.emit(e)},complete:function(){t.end()}});return n.unsubscribe?function(){n.unsubscribe()}:n}).setName("fromESObservable")}function Z(t){this._observable=t.takeErrors(1)}function K(){return new Z(this)}function J(t){for(var e=void 0,n=0;n<t.length;n++)void 0!==t[n]&&(void 0===e||e.index<t[n].index)&&(e=t[n]);return e.error}function Q(t,e,n){var r=this;y.call(this),this._activeCount=t.length,this._sources=i(t,e),this._combinator=n?O(n,this._sources.length):function(t){return t},this._aliveCount=0,this._latestValues=new Array(this._sources.length),this._latestErrors=new Array(this._sources.length),f(this._latestValues,re),this._emitAfterActivation=!1,this._endAfterActivation=!1,this._latestErrorIndex=0,this._$handlers=[];for(var o=function(t){r._$handlers.push(function(e){return r._handleAny(t,e)})},a=0;a<this._sources.length;a++)o(a)}function tt(t){var e=arguments.length<=1||void 0===arguments[1]?[]:arguments[1],n=arguments[2];return"function"==typeof e&&(n=e,e=[]),0===t.length?g():new Q(t,e,n)}function et(t){var e=arguments.length<=1||void 0===arguments[1]?Te:arguments[1];return new(t._ofSameType(Ce,Ne))(t,{fn:e})}function nt(t){var e=arguments.length<=1||void 0===arguments[1]?ke:arguments[1];return new(t._ofSameType(Oe,De))(t,{fn:e})}function rt(t,e){return new(t._ofSameType(je,Pe))(t,{n:e})}function it(t,e){return new(t._ofSameType(qe,Ie))(t,{n:e})}function ot(t){var e=arguments.length<=1||void 0===arguments[1]?Re:arguments[1];return new(t._ofSameType(Ve,Fe))(t,{fn:e})}function at(t){return new(t._ofSameType(Ue,We))(t)}function st(t,e){return new(t._ofSameType(Ye,Ge))(t,{n:e})}function ut(t){var e=arguments.length<=1||void 0===arguments[1]?Qe:arguments[1];return new(t._ofSameType(Ke,Je))(t,{fn:e})}function lt(t){var e=arguments.length<=1||void 0===arguments[1]?rn:arguments[1];return new(t._ofSameType(en,nn))(t,{fn:e})}function ct(t,e){return[t,e]}function ft(t,e){var n=arguments.length<=2||void 0===arguments[2]?re:arguments[2];return new(t._ofSameType(an,sn))(t,{fn:e||ct,seed:n})}function ht(t,e){var n=arguments.length<=2||void 0===arguments[2]?re:arguments[2];return new un(t,{fn:e,seed:n})}function pt(t){var e=arguments.length<=1||void 0===arguments[1]?fn:arguments[1];return new cn(t,{fn:e})}function dt(t,e){return new(t._ofSameType(dn,_n))(t,{wait:e})}function _t(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.leading,i=void 0===r||r,o=n.trailing,a=void 0===o||o;return new(t._ofSameType(vn,gn))(t,{wait:e,leading:i,trailing:a})}function mt(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.immediate,i=void 0!==r&&r;return new(t._ofSameType(xn,wn))(t,{wait:e,immediate:i})}function yt(t){var e=arguments.length<=1||void 0===arguments[1]?An:arguments[1];return new(t._ofSameType(En,Mn))(t,{fn:e})}function vt(t){var e=arguments.length<=1||void 0===arguments[1]?Sn:arguments[1];return new(t._ofSameType(Nn,Tn))(t,{fn:e})}function gt(t){return new(t._ofSameType(Dn,kn))(t)}function bt(t){return new(t._ofSameType(jn,Pn))(t)}function xt(t){return new(t._ofSameType(qn,In))(t)}function wt(t,e){return new(t._ofSameType(Vn,Fn))(t,{fn:e})}function $t(t,e){var n=arguments.length<=2||void 0===arguments[2]?0:arguments[2];return new(t._ofSameType(Bn,Un))(t,{min:n,max:e})}function Et(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.flushOnEnd,i=void 0===r||r;return new(t._ofSameType(Xn,Yn))(t,{fn:e||Gn,flushOnEnd:i})}function Mt(t,e){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.flushOnEnd,i=void 0===r||r;return new(t._ofSameType(Kn,Jn))(t,{count:e,flushOnEnd:i})}function At(t,e,n){var r=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],i=r.flushOnEnd,o=void 0===i||i;return new(t._ofSameType(tr,er))(t,{wait:e,count:n,flushOnEnd:o})}function Ct(t){return{"@@transducer/step":function(e,n){return t._emitValue(n),null},"@@transducer/result":function(){return t._emitEnd(),null}}}function Nt(t,e){return new(t._ofSameType(rr,ir))(t,{transducer:e})}function Tt(t,e){return new(t._ofSameType(ar,sr))(t,{fn:e})}function St(t,e){var n=this;y.call(this),this._buffers=l(t,function(t){return ur(t)?s(t):[]}),this._sources=l(t,function(t){return ur(t)?g():t}),this._combinator=e?O(e,this._sources.length):function(t){return t},this._aliveCount=0,this._$handlers=[];for(var r=function(t){n._$handlers.push(function(e){return n._handleAny(t,e)})},i=0;i<this._sources.length;i++)r(i)}function Ot(t,e){return 0===t.length?g():new St(t,e)}function Dt(){var t=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=e.queueLim,r=void 0===n?0:n,i=e.concurLim,o=void 0===i?-1:i,a=e.drop,s=void 0===a?"new":a;y.call(this),this._queueLim=r<0?-1:r,this._concurLim=o<0?-1:o,this._drop=s,this._queue=[],this._curSources=[],this._$handleSubAny=function(e){return t._handleSubAny(e)},this._$endHandlers=[],this._currentlyAdding=null,0===this._concurLim&&this._emitEnd()}function kt(t){Dt.call(this),this._addAll(t),this._initialised=!0}function zt(t){return 0===t.length?g():new kt(t)}function jt(t){var e=this;y.call(this),this._generator=t,this._source=null,this._inLoop=!1,this._iteration=0,this._$handleAny=function(t){return e._handleAny(t)}}function Pt(t){return new jt(t)}function Lt(t){return Pt(function(e){return t.length>e&&t[e]}).setName("concat")}function qt(){Dt.call(this)}function It(t,e,n){var r=this;Dt.call(this,n),this._source=t,this._fn=e,this._mainEnded=!1,this._lastCurrent=null,this._$handleMain=function(t){return r._handleMain(t)}}function Ht(t,e){It.call(this,t,e)}function Vt(t,e){return function(n,r,i){var o=this;t.call(this),this._primary=n,this._secondary=r,this._name=n._name+"."+e,this._lastSecondary=re,this._$handleSecondaryAny=function(t){return o._handleSecondaryAny(t)},this._$handlePrimaryAny=function(t){return o._handlePrimaryAny(t)},this._init(i)}}function Ft(t){return{_init:function(){},_free:function(){},_handlePrimaryValue:function(t){this._emitValue(t)},_handlePrimaryError:function(t){this._emitError(t)},_handlePrimaryEnd:function(){this._emitEnd()},_handleSecondaryValue:function(t){this._lastSecondary=t},_handleSecondaryError:function(t){this._emitError(t)},_handleSecondaryEnd:function(){},_handlePrimaryAny:function(t){switch(t.type){case oe:return this._handlePrimaryValue(t.value);case ae:return this._handlePrimaryError(t.value);case ie:return this._handlePrimaryEnd(t.value)}},_handleSecondaryAny:function(t){switch(t.type){case oe:return this._handleSecondaryValue(t.value);case ae:return this._handleSecondaryError(t.value);case ie:this._handleSecondaryEnd(t.value),this._removeSecondary()}},_removeSecondary:function(){null!==this._secondary&&(this._secondary.offAny(this._$handleSecondaryAny),this._$handleSecondaryAny=null,this._secondary=null)},_onActivation:function(){null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny),this._active&&this._primary.onAny(this._$handlePrimaryAny)},_onDeactivation:function(){null!==this._secondary&&this._secondary.offAny(this._$handleSecondaryAny),this._primary.offAny(this._$handlePrimaryAny)},_clear:function(){t.prototype._clear.call(this),this._primary=null,this._secondary=null,this._lastSecondary=null,this._$handleSecondaryAny=null,this._$handlePrimaryAny=null,this._free()}}}function Rt(t,e){var n=Vt(y,t);return r(n,y,Ft(y),e),n}function Bt(t,e){var n=Vt(v,t);return r(n,v,Ft(v),e),n}function Ut(t,e){return new(t._ofSameType(fr,hr))(t,e)}function Wt(t,e,n){var r=n?function(t,e){return n(e,t)}:pr;return tt([e],[t],r).setName(t,"sampledBy")}function Xt(t,e){return new(t._ofSameType(_r,mr))(t,e)}function Yt(t,e){return new(t._ofSameType(vr,gr))(t,e)}function Gt(t,e,n){return new(t._ofSameType(xr,wr))(t,e,n)}function Zt(t,e,n){return new(t._ofSameType(Er,Mr))(t,e,n)}function Kt(t,e){var n=zt([et(t,Cr),et(e,Ar)]);return n=lt(n),n=R(n,Ar),n.setName(t,"awaiting")}function Jt(t){var e=arguments.length<=1||void 0===arguments[1]?Or:arguments[1];return new(t._ofSameType(Tr,Sr))(t,{fn:e})}function Qt(t){var e=arguments.length<=1||void 0===arguments[1]?jr:arguments[1];return new(t._ofSameType(kr,zr))(t,{fn:e})}function te(t){return new(t._ofSameType(Lr,qr))(t)}function ee(){Hr=!1}function ne(t){if(Hr&&console&&"function"==typeof console.warn){var e="\nHere is an Error object for you containing the call stack:";console.warn(t,e,new Error)}}var re=["<nothing>"],ie="end",oe="value",ae="error",se="any";n(_.prototype,{add:function(t,e){return this._items=i(this._items,[{type:t,fn:e}]),this._items.length},remove:function(t,e){var n=a(this._items,function(n){return n.type===t&&n.fn===e});return 0!==this._inLoop&&n!==-1&&(null===this._removedItems&&(this._removedItems=[]),this._removedItems.push(this._items[n])),this._items=u(this._items,n),this._items.length},dispatch:function(t){this._inLoop++;for(var e=0,n=this._items;e<n.length&&null!==this._items;e++)null!==this._removedItems&&h(this._removedItems,n[e])||d(n[e].type,n[e].fn,t);this._inLoop--,0===this._inLoop&&(this._removedItems=null)},cleanup:function(){this._items=null}}),n(m.prototype,{_name:"observable",_onActivation:function(){},_onDeactivation:function(){},_setActive:function(t){this._active!==t&&(this._active=t,t?(this._activating=!0,this._onActivation(),this._activating=!1):this._onDeactivation())},_clear:function(){this._setActive(!1),this._dispatcher.cleanup(),this._dispatcher=null,this._logHandlers=null},_emit:function(t,e){switch(t){case oe:return this._emitValue(e);case ae:return this._emitError(e);case ie:return this._emitEnd()}},_emitValue:function(t){this._alive&&this._dispatcher.dispatch({type:oe,value:t})},_emitError:function(t){this._alive&&this._dispatcher.dispatch({type:ae,value:t})},_emitEnd:function(){this._alive&&(this._alive=!1,this._dispatcher.dispatch({type:ie}),this._clear())},_on:function(t,e){return this._alive?(this._dispatcher.add(t,e),this._setActive(!0)):d(t,e,{type:ie}),this},_off:function(t,e){if(this._alive){var n=this._dispatcher.remove(t,e);0===n&&this._setActive(!1)}return this},onValue:function(t){return this._on(oe,t)},onError:function(t){return this._on(ae,t)},onEnd:function(t){return this._on(ie,t)},onAny:function(t){return this._on(se,t)},offValue:function(t){return this._off(oe,t)},offError:function(t){return this._off(ae,t)},offEnd:function(t){return this._off(ie,t)},offAny:function(t){return this._off(se,t)},observe:function(t,e,n){var r=this,i=!1,o=t&&"function"!=typeof t?t:{value:t,error:e,end:n},a=function(t){t.type===ie&&(i=!0),t.type===oe&&o.value?o.value(t.value):t.type===ae&&o.error?o.error(t.value):t.type===ie&&o.end&&o.end(t.value)};return this.onAny(a),{unsubscribe:function(){i||(r.offAny(a),i=!0)},get closed(){return i}}},_ofSameType:function(t,e){return t.prototype.getType()===this.getType()?t:e},setName:function(t,e){return this._name=e?t._name+"."+e:t,this},log:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0],e=void 0,n=function(n){var r="<"+n.type+(e?":current":"")+">";n.type===ie?console.log(t,r):console.log(t,r,n.value)};return this._alive&&(this._logHandlers||(this._logHandlers=[]),this._logHandlers.push({name:t,handler:n})),e=!0,this.onAny(n),e=!1,this},offLog:function(){var t=arguments.length<=0||void 0===arguments[0]?this.toString():arguments[0];if(this._logHandlers){var e=a(this._logHandlers,function(e){return e.name===t});e!==-1&&(this.offAny(this._logHandlers[e].handler),this._logHandlers.splice(e,1))}return this}}),m.prototype.toString=function(){return"["+this._name+"]"},r(y,m,{_name:"stream",getType:function(){return"stream"}}),r(v,m,{_name:"property",_emitValue:function(t){this._alive&&(this._currentEvent={type:oe,value:t},this._activating||this._dispatcher.dispatch({type:oe,value:t}))},_emitError:function(t){this._alive&&(this._currentEvent={type:ae,value:t},this._activating||this._dispatcher.dispatch({type:ae,value:t}))},_emitEnd:function(){this._alive&&(this._alive=!1,this._activating||this._dispatcher.dispatch({type:ie}),this._clear())},_on:function(t,e){return this._alive&&(this._dispatcher.add(t,e),this._setActive(!0)),null!==this._currentEvent&&d(t,e,this._currentEvent),this._alive||d(t,e,{type:ie}),this},getType:function(){return"property"}});var ue=new y;ue._emitEnd(),ue._name="never";var le=b({_name:"later",_init:function(t){var e=t.x;this._x=e},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x),this._emitEnd()}}),ce=b({_name:"interval",_init:function(t){var e=t.x;this._x=e},_free:function(){this._x=null},_onTick:function(){this._emitValue(this._x)}}),fe=b({_name:"sequentially",_init:function(t){var e=t.xs;this._xs=s(e)},_free:function(){this._xs=null},_onTick:function(){1===this._xs.length?(this._emitValue(this._xs[0]),this._emitEnd()):this._emitValue(this._xs.shift())}}),he=b({_name:"fromPoll",_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_onTick:function(){var t=this._fn;this._emitValue(t())}}),pe=b({_name:"withInterval",_init:function(t){var e=t.fn;this._fn=e,this._emitter=M(this)},_free:function(){this._fn=null,this._emitter=null},_onTick:function(){var t=this._fn;t(this._emitter)}});r(C,y,{_name:"stream",_onActivation:function(){var t=this._fn,e=t(M(this));this._unsubscribe="function"==typeof e?e:null,this._active||this._callUnsubscribe()},_callUnsubscribe:function(){null!==this._unsubscribe&&(this._unsubscribe(),this._unsubscribe=null)},_onDeactivation:function(){this._callUnsubscribe()},_clear:function(){y.prototype._clear.call(this),this._fn=null}});var de=[["addEventListener","removeEventListener"],["addListener","removeListener"],["on","off"]];r(j,v,{_name:"constant",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null}),r(L,v,{_name:"constantError",_active:!1,_activating:!1,_alive:!1,_dispatcher:null,_logHandlers:null});var _e=F("toProperty",{_init:function(t){var e=t.fn;this._getInitialCurrent=e},_onActivation:function(){if(null!==this._getInitialCurrent){var t=this._getInitialCurrent;this._emitValue(t())}this._source.onAny(this._$handleAny)}}),me=V("changes",{_handleValue:function(t){this._activating||this._emitValue(t)},_handleError:function(t){this._activating||this._emitError(t)}}),ye="undefined"!=typeof window?window:"undefined"!=typeof commonjsGlobal?commonjsGlobal:"undefined"!=typeof self?self:{},ve=Y(function(t,e){function n(t){var e,n=t.Symbol;return"function"==typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n}),ge=ve&&"object"===("undefined"==typeof ve?"undefined":babelHelpers.typeof(ve))&&"default"in ve?ve.default:ve,be=Y(function(t,e){function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var r=ge,i=n(r),o=void 0;"undefined"!=typeof ye?o=ye:"undefined"!=typeof window&&(o=window);var a=(0,i.default)(o);e.default=a}),xe=be&&"object"===("undefined"==typeof be?"undefined":babelHelpers.typeof(be))&&"default"in be?be.default:be,we=Y(function(t){t.exports=xe}),$e=we&&"object"===("undefined"==typeof we?"undefined":babelHelpers.typeof(we))&&"default"in we?we.default:we;n(Z.prototype,{subscribe:function(t,e,n){var r=this,i="function"==typeof t?{next:t,error:e,complete:n}:t,o=function(t){t.type===ie&&(a=!0),t.type===oe&&i.next?i.next(t.value):t.type===ae&&i.error?i.error(t.value):t.type===ie&&i.complete&&i.complete(t.value)};this._observable.onAny(o);var a=!1,s={unsubscribe:function(){a=!0,r._observable.offAny(o)},get closed(){return a}};return s}}),Z.prototype[$e]=function(){return this},r(Q,y,{_name:"combine",_onActivation:function(){this._aliveCount=this._activeCount;for(var t=this._activeCount;t<this._sources.length;t++)this._sources[t].onAny(this._$handlers[t]);for(var e=0;e<this._activeCount;e++)this._sources[e].onAny(this._$handlers[e]);this._emitAfterActivation&&(this._emitAfterActivation=!1,this._emitIfFull()),this._endAfterActivation&&this._emitEnd()},_onDeactivation:function(){var t=this._sources.length,e=void 0;for(e=0;e<t;e++)this._sources[e].offAny(this._$handlers[e])},_emitIfFull:function(){for(var t=!0,e=!1,n=this._latestValues.length,r=new Array(n),i=new Array(n),o=0;o<n;o++)r[o]=this._latestValues[o],i[o]=this._latestErrors[o],r[o]===re&&(t=!1),void 0!==i[o]&&(e=!0);if(t){var a=this._combinator;this._emitValue(a(r))}e&&this._emitError(J(i))},_handleAny:function(t,e){e.type===oe||e.type===ae?(e.type===oe&&(this._latestValues[t]=e.value,this._latestErrors[t]=void 0),e.type===ae&&(this._latestValues[t]=re,this._latestErrors[t]={index:this._latestErrorIndex++,error:e.value}),t<this._activeCount&&(this._activating?this._emitAfterActivation=!0:this._emitIfFull())):t<this._activeCount&&(this._aliveCount--,0===this._aliveCount&&(this._activating?this._endAfterActivation=!0:this._emitEnd()))},_clear:function(){y.prototype._clear.call(this),this._sources=null,this._latestValues=null,this._latestErrors=null,this._combinator=null,this._$handlers=null}});var Ee={empty:function(){return g()},concat:function(t,e){return t.merge(e)},of:function(t){return P(t)},map:function(t,e){return e.map(t)},bimap:function(t,e,n){return n.mapErrors(t).map(e)},ap:function(t,e){return tt([t,e],function(t,e){
return t(e)})},chain:function(t,e){return e.flatMap(t)}},Me=Object.freeze({Observable:Ee}),Ae={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;this._emitValue(e(t))}},Ce=V("map",Ae),Ne=F("map",Ae),Te=function(t){return t},Se={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;e(t)&&this._emitValue(t)}},Oe=V("filter",Se),De=F("filter",Se),ke=function(t){return t},ze={_init:function(t){var e=t.n;this._n=e,e<=0&&this._emitEnd()},_handleValue:function(t){this._n--,this._emitValue(t),0===this._n&&this._emitEnd()}},je=V("take",ze),Pe=F("take",ze),Le={_init:function(t){var e=t.n;this._n=e,e<=0&&this._emitEnd()},_handleError:function(t){this._n--,this._emitError(t),0===this._n&&this._emitEnd()}},qe=V("takeErrors",Le),Ie=F("takeErrors",Le),He={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;e(t)?this._emitValue(t):this._emitEnd()}},Ve=V("takeWhile",He),Fe=F("takeWhile",He),Re=function(t){return t},Be={_init:function(){this._lastValue=re},_free:function(){this._lastValue=null},_handleValue:function(t){this._lastValue=t},_handleEnd:function(){this._lastValue!==re&&this._emitValue(this._lastValue),this._emitEnd()}},Ue=V("last",Be),We=F("last",Be),Xe={_init:function(t){var e=t.n;this._n=Math.max(0,e)},_handleValue:function(t){0===this._n?this._emitValue(t):this._n--}},Ye=V("skip",Xe),Ge=F("skip",Xe),Ze={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn;null===this._fn||e(t)||(this._fn=null),null===this._fn&&this._emitValue(t)}},Ke=V("skipWhile",Ze),Je=F("skipWhile",Ze),Qe=function(t){return t},tn={_init:function(t){var e=t.fn;this._fn=e,this._prev=re},_free:function(){this._fn=null,this._prev=null},_handleValue:function(t){var e=this._fn;this._prev!==re&&e(this._prev,t)||(this._prev=t,this._emitValue(t))}},en=V("skipDuplicates",tn),nn=F("skipDuplicates",tn),rn=function(t,e){return t===e},on={_init:function(t){var e=t.fn,n=t.seed;this._fn=e,this._prev=n},_free:function(){this._prev=null,this._fn=null},_handleValue:function(t){if(this._prev!==re){var e=this._fn;this._emitValue(e(this._prev,t))}this._prev=t}},an=V("diff",on),sn=F("diff",on),un=F("scan",{_init:function(t){var e=t.fn,n=t.seed;this._fn=e,this._seed=n,n!==re&&this._emitValue(n)},_free:function(){this._fn=null,this._seed=null},_handleValue:function(t){var e=this._fn;null===this._currentEvent||this._currentEvent.type===ae?this._emitValue(this._seed===re?t:e(this._seed,t)):this._emitValue(e(this._currentEvent.value,t))}}),ln={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){for(var e=this._fn,n=e(t),r=0;r<n.length;r++)this._emitValue(n[r])}},cn=V("flatten",ln),fn=function(t){return t},hn={},pn={_init:function(t){var e=this,n=t.wait;this._wait=Math.max(0,n),this._buff=[],this._$shiftBuff=function(){var t=e._buff.shift();t===hn?e._emitEnd():e._emitValue(t)}},_free:function(){this._buff=null,this._$shiftBuff=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._buff.push(t),setTimeout(this._$shiftBuff,this._wait))},_handleEnd:function(){this._activating?this._emitEnd():(this._buff.push(hn),setTimeout(this._$shiftBuff,this._wait))}},dn=V("delay",pn),_n=F("delay",pn),mn=Date.now?function(){return Date.now()}:function(){return(new Date).getTime()},yn={_init:function(t){var e=this,n=t.wait,r=t.leading,i=t.trailing;this._wait=Math.max(0,n),this._leading=r,this._trailing=i,this._trailingValue=null,this._timeoutId=null,this._endLater=!1,this._lastCallTime=0,this._$trailingCall=function(){return e._trailingCall()}},_free:function(){this._trailingValue=null,this._$trailingCall=null},_handleValue:function(t){if(this._activating)this._emitValue(t);else{var e=mn();0!==this._lastCallTime||this._leading||(this._lastCallTime=e);var n=this._wait-(e-this._lastCallTime);n<=0?(this._cancelTrailing(),this._lastCallTime=e,this._emitValue(t)):this._trailing&&(this._cancelTrailing(),this._trailingValue=t,this._timeoutId=setTimeout(this._$trailingCall,n))}},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId?this._endLater=!0:this._emitEnd()},_cancelTrailing:function(){null!==this._timeoutId&&(clearTimeout(this._timeoutId),this._timeoutId=null)},_trailingCall:function(){this._emitValue(this._trailingValue),this._timeoutId=null,this._trailingValue=null,this._lastCallTime=this._leading?mn():0,this._endLater&&this._emitEnd()}},vn=V("throttle",yn),gn=F("throttle",yn),bn={_init:function(t){var e=this,n=t.wait,r=t.immediate;this._wait=Math.max(0,n),this._immediate=r,this._lastAttempt=0,this._timeoutId=null,this._laterValue=null,this._endLater=!1,this._$later=function(){return e._later()}},_free:function(){this._laterValue=null,this._$later=null},_handleValue:function(t){this._activating?this._emitValue(t):(this._lastAttempt=mn(),this._immediate&&!this._timeoutId&&this._emitValue(t),this._timeoutId||(this._timeoutId=setTimeout(this._$later,this._wait)),this._immediate||(this._laterValue=t))},_handleEnd:function(){this._activating?this._emitEnd():this._timeoutId&&!this._immediate?this._endLater=!0:this._emitEnd()},_later:function(){var t=mn()-this._lastAttempt;t<this._wait&&t>=0?this._timeoutId=setTimeout(this._$later,this._wait-t):(this._timeoutId=null,this._immediate||(this._emitValue(this._laterValue),this._laterValue=null),this._endLater&&this._emitEnd())}},xn=V("debounce",bn),wn=F("debounce",bn),$n={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){var e=this._fn;this._emitError(e(t))}},En=V("mapErrors",$n),Mn=F("mapErrors",$n),An=function(t){return t},Cn={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){var e=this._fn;e(t)&&this._emitError(t)}},Nn=V("filterErrors",Cn),Tn=F("filterErrors",Cn),Sn=function(t){return t},On={_handleValue:function(){}},Dn=V("ignoreValues",On),kn=F("ignoreValues",On),zn={_handleError:function(){}},jn=V("ignoreErrors",zn),Pn=F("ignoreErrors",zn),Ln={_handleEnd:function(){}},qn=V("ignoreEnd",Ln),In=F("ignoreEnd",Ln),Hn={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleEnd:function(){var t=this._fn;this._emitValue(t()),this._emitEnd()}},Vn=V("beforeEnd",Hn),Fn=F("beforeEnd",Hn),Rn={_init:function(t){var e=t.min,n=t.max;this._max=n,this._min=e,this._buff=[]},_free:function(){this._buff=null},_handleValue:function(t){this._buff=p(this._buff,t,this._max),this._buff.length>=this._min&&this._emitValue(this._buff)}},Bn=V("slidingWindow",Rn),Un=F("slidingWindow",Rn),Wn={_init:function(t){var e=t.fn,n=t.flushOnEnd;this._fn=e,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t);var e=this._fn;e(t)||this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Xn=V("bufferWhile",Wn),Yn=F("bufferWhile",Wn),Gn=function(t){return t},Zn={_init:function(t){var e=t.count,n=t.flushOnEnd;this._count=e,this._flushOnEnd=n,this._buff=[]},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&0!==this._buff.length&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&this._flush()},_handleEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()}},Kn=V("bufferWithCount",Zn),Jn=F("bufferWithCount",Zn),Qn={_init:function(t){var e=this,n=t.wait,r=t.count,i=t.flushOnEnd;this._wait=n,this._count=r,this._flushOnEnd=i,this._intervalId=null,this._$onTick=function(){return e._flush()},this._buff=[]},_free:function(){this._$onTick=null,this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handleValue:function(t){this._buff.push(t),this._buff.length>=this._count&&(clearInterval(this._intervalId),this._flush(),this._intervalId=setInterval(this._$onTick,this._wait))},_handleEnd:function(){this._flushOnEnd&&0!==this._buff.length&&this._flush(),this._emitEnd()},_onActivation:function(){this._intervalId=setInterval(this._$onTick,this._wait),this._source.onAny(this._$handleAny)},_onDeactivation:function(){null!==this._intervalId&&(clearInterval(this._intervalId),this._intervalId=null),this._source.offAny(this._$handleAny)}},tr=V("bufferWithTimeOrCount",Qn),er=F("bufferWithTimeOrCount",Qn),nr={_init:function(t){var e=t.transducer;this._xform=e(Ct(this))},_free:function(){this._xform=null},_handleValue:function(t){null!==this._xform["@@transducer/step"](null,t)&&this._xform["@@transducer/result"](null)},_handleEnd:function(){this._xform["@@transducer/result"](null)}},rr=V("transduce",nr),ir=F("transduce",nr),or={_init:function(t){var e=t.fn;this._handler=e,this._emitter=M(this)},_free:function(){this._handler=null,this._emitter=null},_handleAny:function(t){this._handler(this._emitter,t)}},ar=V("withHandler",or),sr=F("withHandler",or),ur=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};r(St,y,{_name:"zip",_onActivation:function(){for(;this._isFull();)this._emit();var t=this._sources.length;this._aliveCount=t;for(var e=0;e<t&&this._active;e++)this._sources[e].onAny(this._$handlers[e])},_onDeactivation:function(){for(var t=0;t<this._sources.length;t++)this._sources[t].offAny(this._$handlers[t])},_emit:function(){for(var t=new Array(this._buffers.length),e=0;e<this._buffers.length;e++)t[e]=this._buffers[e].shift();var n=this._combinator;this._emitValue(n(t))},_isFull:function(){for(var t=0;t<this._buffers.length;t++)if(0===this._buffers[t].length)return!1;return!0},_handleAny:function(t,e){e.type===oe&&(this._buffers[t].push(e.value),this._isFull()&&this._emit()),e.type===ae&&this._emitError(e.value),e.type===ie&&(this._aliveCount--,0===this._aliveCount&&this._emitEnd())},_clear:function(){y.prototype._clear.call(this),this._sources=null,this._buffers=null,this._combinator=null,this._$handlers=null}});var lr=function(t){return t};r(Dt,y,{_name:"abstractPool",_add:function(t,e){e=e||lr,this._concurLim===-1||this._curSources.length<this._concurLim?this._addToCur(e(t)):this._queueLim===-1||this._queue.length<this._queueLim?this._addToQueue(e(t)):"old"===this._drop&&(this._removeOldest(),this._add(t,e))},_addAll:function(t){var e=this;c(t,function(t){return e._add(t)})},_remove:function(t){this._removeCur(t)===-1&&this._removeQueue(t)},_addToQueue:function(t){this._queue=i(this._queue,[t])},_addToCur:function(t){if(this._active){if(!t._alive)return void(t._currentEvent&&this._emit(t._currentEvent.type,t._currentEvent.value));this._currentlyAdding=t,t.onAny(this._$handleSubAny),this._currentlyAdding=null,t._alive&&(this._curSources=i(this._curSources,[t]),this._active&&this._subToEnd(t))}else this._curSources=i(this._curSources,[t])},_subToEnd:function(t){var e=this,n=function(){return e._removeCur(t)};this._$endHandlers.push({obs:t,handler:n}),t.onEnd(n)},_subscribe:function(t){t.onAny(this._$handleSubAny),this._active&&this._subToEnd(t)},_unsubscribe:function(t){t.offAny(this._$handleSubAny);var e=a(this._$endHandlers,function(e){return e.obs===t});e!==-1&&(t.offEnd(this._$endHandlers[e].handler),this._$endHandlers.splice(e,1))},_handleSubAny:function(t){t.type===oe?this._emitValue(t.value):t.type===ae&&this._emitError(t.value)},_removeQueue:function(t){var e=o(this._queue,t);return this._queue=u(this._queue,e),e},_removeCur:function(t){this._active&&this._unsubscribe(t);var e=o(this._curSources,t);return this._curSources=u(this._curSources,e),e!==-1&&(0!==this._queue.length?this._pullQueue():0===this._curSources.length&&this._onEmpty()),e},_removeOldest:function(){this._removeCur(this._curSources[0])},_pullQueue:function(){0!==this._queue.length&&(this._queue=s(this._queue),this._addToCur(this._queue.shift()))},_onActivation:function(){for(var t=0,e=this._curSources;t<e.length&&this._active;t++)this._subscribe(e[t])},_onDeactivation:function(){for(var t=0,e=this._curSources;t<e.length;t++)this._unsubscribe(e[t]);null!==this._currentlyAdding&&this._unsubscribe(this._currentlyAdding)},_isEmpty:function(){return 0===this._curSources.length},_onEmpty:function(){},_clear:function(){y.prototype._clear.call(this),this._queue=null,this._curSources=null,this._$handleSubAny=null,this._$endHandlers=null}}),r(kt,Dt,{_name:"merge",_onEmpty:function(){this._initialised&&this._emitEnd()}}),r(jt,y,{_name:"repeat",_handleAny:function(t){t.type===ie?(this._source=null,this._getSource()):this._emit(t.type,t.value)},_getSource:function(){if(!this._inLoop){this._inLoop=!0;for(var t=this._generator;null===this._source&&this._alive&&this._active;)this._source=t(this._iteration++),this._source?this._source.onAny(this._$handleAny):this._emitEnd();this._inLoop=!1}},_onActivation:function(){this._source?this._source.onAny(this._$handleAny):this._getSource()},_onDeactivation:function(){this._source&&this._source.offAny(this._$handleAny)},_clear:function(){y.prototype._clear.call(this),this._generator=null,this._source=null,this._$handleAny=null}}),r(qt,Dt,{_name:"pool",plug:function(t){return this._add(t),this},unplug:function(t){return this._remove(t),this}}),r(It,Dt,{_onActivation:function(){Dt.prototype._onActivation.call(this),this._active&&this._source.onAny(this._$handleMain)},_onDeactivation:function(){Dt.prototype._onDeactivation.call(this),this._source.offAny(this._$handleMain),this._hadNoEvSinceDeact=!0},_handleMain:function(t){if(t.type===oe){var e=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;e||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===ae&&this._emitError(t.value),t.type===ie&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)},_onEmpty:function(){this._mainEnded&&this._emitEnd()},_clear:function(){Dt.prototype._clear.call(this),this._source=null,this._lastCurrent=null,this._$handleMain=null}}),r(Ht,It,{_handleMain:function(t){if(t.type===ae){var e=this._activating&&this._hadNoEvSinceDeact&&this._lastCurrent===t.value;e||this._add(t.value,this._fn),this._lastCurrent=t.value,this._hadNoEvSinceDeact=!1}t.type===oe&&this._emitValue(t.value),t.type===ie&&(this._isEmpty()?this._emitEnd():this._mainEnded=!0)}});var cr={_handlePrimaryValue:function(t){this._lastSecondary!==re&&this._lastSecondary&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary!==re&&this._lastSecondary||this._emitEnd()}},fr=Rt("filterBy",cr),hr=Bt("filterBy",cr),pr=function(t,e){return e},dr={_handlePrimaryValue:function(t){this._lastSecondary!==re&&this._emitValue(t)},_handleSecondaryEnd:function(){this._lastSecondary===re&&this._emitEnd()}},_r=Rt("skipUntilBy",dr),mr=Bt("skipUntilBy",dr),yr={_handleSecondaryValue:function(){this._emitEnd()}},vr=Rt("takeUntilBy",yr),gr=Bt("takeUntilBy",yr),br={_init:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.flushOnEnd,n=void 0===e||e;this._buff=[],this._flushOnEnd=n},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_onActivation:function(){this._primary.onAny(this._$handlePrimaryAny),this._alive&&null!==this._secondary&&this._secondary.onAny(this._$handleSecondaryAny)},_handlePrimaryValue:function(t){this._buff.push(t)},_handleSecondaryValue:function(){this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._emitEnd()}},xr=Rt("bufferBy",br),wr=Bt("bufferBy",br),$r={_init:function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],e=t.flushOnEnd,n=void 0===e||e,r=t.flushOnChange,i=void 0!==r&&r;this._buff=[],this._flushOnEnd=n,this._flushOnChange=i},_free:function(){this._buff=null},_flush:function(){null!==this._buff&&(this._emitValue(this._buff),this._buff=[])},_handlePrimaryEnd:function(){this._flushOnEnd&&this._flush(),this._emitEnd()},_handlePrimaryValue:function(t){this._buff.push(t),this._lastSecondary===re||this._lastSecondary||this._flush()},_handleSecondaryEnd:function(){this._flushOnEnd||this._lastSecondary!==re&&!this._lastSecondary||this._emitEnd()},_handleSecondaryValue:function(t){this._flushOnChange&&!t&&this._flush(),this._lastSecondary=t}},Er=Rt("bufferWhileBy",$r),Mr=Bt("bufferWhileBy",$r),Ar=function(){return!1},Cr=function(){return!0},Nr={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleValue:function(t){var e=this._fn,n=e(t);n.convert?this._emitError(n.error):this._emitValue(t)}},Tr=V("valuesToErrors",Nr),Sr=F("valuesToErrors",Nr),Or=function(t){return{convert:!0,error:t}},Dr={_init:function(t){var e=t.fn;this._fn=e},_free:function(){this._fn=null},_handleError:function(t){var e=this._fn,n=e(t);n.convert?this._emitValue(n.value):this._emitError(t)}},kr=V("errorsToValues",Dr),zr=F("errorsToValues",Dr),jr=function(t){return{convert:!0,value:t}},Pr={_handleError:function(t){this._emitError(t),this._emitEnd()}},Lr=V("endOnError",Pr),qr=F("endOnError",Pr);m.prototype.toProperty=function(t){return R(this,t)},m.prototype.changes=function(){return B(this)},m.prototype.toPromise=function(t){return X(this,t)},m.prototype.toESObservable=K,m.prototype[$e]=K,m.prototype.map=function(t){return et(this,t)},m.prototype.filter=function(t){return nt(this,t)},m.prototype.take=function(t){return rt(this,t)},m.prototype.takeErrors=function(t){return it(this,t)},m.prototype.takeWhile=function(t){return ot(this,t)},m.prototype.last=function(){return at(this)},m.prototype.skip=function(t){return st(this,t)},m.prototype.skipWhile=function(t){return ut(this,t)},m.prototype.skipDuplicates=function(t){return lt(this,t)},m.prototype.diff=function(t,e){return ft(this,t,e)},m.prototype.scan=function(t,e){return ht(this,t,e)},m.prototype.flatten=function(t){return pt(this,t)},m.prototype.delay=function(t){return dt(this,t)},m.prototype.throttle=function(t,e){return _t(this,t,e)},m.prototype.debounce=function(t,e){return mt(this,t,e)},m.prototype.mapErrors=function(t){return yt(this,t)},m.prototype.filterErrors=function(t){return vt(this,t)},m.prototype.ignoreValues=function(){return gt(this)},m.prototype.ignoreErrors=function(){return bt(this)},m.prototype.ignoreEnd=function(){return xt(this)},m.prototype.beforeEnd=function(t){return wt(this,t)},m.prototype.slidingWindow=function(t,e){return $t(this,t,e)},m.prototype.bufferWhile=function(t,e){return Et(this,t,e)},m.prototype.bufferWithCount=function(t,e){return Mt(this,t,e)},m.prototype.bufferWithTimeOrCount=function(t,e,n){return At(this,t,e,n)},m.prototype.transduce=function(t){return Nt(this,t)},m.prototype.withHandler=function(t){return Tt(this,t)},m.prototype.combine=function(t,e){return tt([this,t],e)},m.prototype.zip=function(t,e){return Ot([this,t],e)},m.prototype.merge=function(t){return zt([this,t])},m.prototype.concat=function(t){return Lt([this,t])};var Ir=function(){return new qt};m.prototype.flatMap=function(t){return new It(this,t).setName(this,"flatMap")},m.prototype.flatMapLatest=function(t){return new It(this,t,{concurLim:1,drop:"old"}).setName(this,"flatMapLatest")},m.prototype.flatMapFirst=function(t){return new It(this,t,{concurLim:1}).setName(this,"flatMapFirst")},m.prototype.flatMapConcat=function(t){return new It(this,t,{queueLim:-1,concurLim:1}).setName(this,"flatMapConcat")},m.prototype.flatMapConcurLimit=function(t,e){return new It(this,t,{queueLim:-1,concurLim:e}).setName(this,"flatMapConcurLimit")},m.prototype.flatMapErrors=function(t){return new Ht(this,t).setName(this,"flatMapErrors")},m.prototype.filterBy=function(t){return Ut(this,t)},m.prototype.sampledBy=function(t,e){return Wt(this,t,e)},m.prototype.skipUntilBy=function(t){return Xt(this,t)},m.prototype.takeUntilBy=function(t){return Yt(this,t)},m.prototype.bufferBy=function(t,e){return Gt(this,t,e)},m.prototype.bufferWhileBy=function(t,e){return Zt(this,t,e)};var Hr=!0;m.prototype.awaiting=function(t){return ne("You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145"),Kt(this,t)},m.prototype.valuesToErrors=function(t){return ne("You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149"),Jt(this,t)},m.prototype.errorsToValues=function(t){return ne("You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149"),Qt(this,t)},m.prototype.endOnError=function(){return ne("You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150"),te(this)};var Vr={Observable:m,Stream:y,Property:v,never:g,later:x,interval:w,sequentially:$,fromPoll:E,withInterval:A,fromCallback:T,fromNodeCallback:S,fromEvents:z,stream:N,constant:P,constantError:q,fromPromise:U,fromESObservable:G,combine:tt,zip:Ot,merge:zt,concat:Lt,Pool:qt,pool:Ir,repeat:Pt,staticLand:Me};Vr.Kefir=Vr,t.dissableDeprecationWarnings=ee,t.Kefir=Vr,t.Observable=m,t.Stream=y,t.Property=v,t.never=g,t.later=x,t.interval=w,t.sequentially=$,t.fromPoll=E,t.withInterval=A,t.fromCallback=T,t.fromNodeCallback=S,t.fromEvents=z,t.stream=N,t.constant=P,t.constantError=q,t.fromPromise=U,t.fromESObservable=G,t.combine=tt,t.zip=Ot,t.merge=zt,t.concat=Lt,t.Pool=qt,t.pool=Ir,t.repeat=Pt,t.staticLand=Me,t.default=Vr,Object.defineProperty(t,"__esModule",{value:!0})})}),Kefir=interopDefault(kefir),preventDefault=function(t){t.preventDefault()},draggableHostStyle=":host {\n  cursor: move;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  position: relative;\n}",css=" :host {display: inline-table} handle-box {display: inline-table}",HandleBox=define$1("handle-box",{attached:function(t){startDragging(t)},detached:function(t){stopDragging(t)},render:function(t){return[h("slot",""),h("style",draggableHostStyle+css)]},rendered:function(t){}}),animate=function t(e){e.dispatchEvent(new Event("animate")),setTimeout(function(){window.requestAnimationFrame(function(){t(e)})},1e3/e.fps)},css$1="graph-container, :host {display: inline-table}",GraphContainer=define$1("graph-container",{props:{fps:{attribute:!0,default:120}},attached:function(t){animate(t)},attributeChanged:function(t){},render:function(t){return[h("slot",{onSlotchange:function(e){t.dispatchEvent(new Event("graph-updated"))}}),h("style",css$1)]},updated:function(t){return console.log("updated"),!0}}),xhtml="http://www.w3.org/1999/xhtml",namespaces={svg:"http://www.w3.org/2000/svg",xhtml:xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},matcher=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var element$1=document.documentElement;if(!element$1.matches){var vendorMatches=element$1.webkitMatchesSelector||element$1.msMatchesSelector||element$1.mozMatchesSelector||element$1.oMatchesSelector;matcher=function(t){return function(){return vendorMatches.call(this,t)}}}}var matcher$1=matcher,filterEvents={},event=null;if("undefined"!=typeof document){var element$2=document.documentElement;"onmouseenter"in element$2||(filterEvents={mouseenter:"mouseover",mouseleave:"mouseout"})}EnterNode.prototype={constructor:EnterNode,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var keyPrefix="$";ClassList.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var root=[null];Selection.prototype=selection.prototype={constructor:Selection,select:selection_select,selectAll:selection_selectAll,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,merge:selection_merge,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,datum:selection_datum,on:selection_on,dispatch:selection_dispatch};var pi=Math.PI,tau=2*pi,epsilon=1e-6,tauEpsilon=tau-epsilon;Path.prototype=path.prototype={constructor:Path,moveTo:function(t,e){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._.push("Z"))},lineTo:function(t,e){this._.push("L",this._x1=+t,",",this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._.push("Q",+t,",",+e,",",this._x1=+n,",",this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._.push("C",+t,",",+e,",",+n,",",+r,",",this._x1=+i,",",this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._.push("M",this._x1=t,",",this._y1=e);else if(f>epsilon)if(Math.abs(c*s-u*l)>epsilon&&i){var h=n-o,p=r-a,d=s*s+u*u,_=h*h+p*p,m=Math.sqrt(d),y=Math.sqrt(f),v=i*Math.tan((pi-Math.acos((d+f-_)/(2*m*y)))/2),g=v/y,b=v/m;Math.abs(g-1)>epsilon&&this._.push("L",t+g*l,",",e+g*c),this._.push("A",i,",",i,",0,0,",+(c*h>l*p),",",this._x1=t+b*s,",",this._y1=e+b*u)}else this._.push("L",this._x1=t,",",this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,n=+n;var a=n*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._.push("M",u,",",l):(Math.abs(this._x1-u)>epsilon||Math.abs(this._y1-l)>epsilon)&&this._.push("L",u,",",l),n&&(f>tauEpsilon?this._.push("A",n,",",n,",0,1,",c,",",t-a,",",e-s,"A",n,",",n,",0,1,",c,",",this._x1=u,",",this._y1=l):(f<0&&(f=f%tau+tau),this._.push("A",n,",",n,",0,",+(f>=pi),",",c,",",this._x1=t+n*Math.cos(i),",",this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._.push("M",this._x0=this._x1=+t,",",this._y0=this._y1=+e,"h",+n,"v",+r,"h",-n,"Z")},toString:function(){return this._.join("")}};var epsilon$1=1e-12;Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}},Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_point(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_point(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},Bundle.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}},function t(e){function n(t){return 1===e?new Basis(t):new Bundle(t,e)}return n.beta=function(e){return t(+e)},n}(.85),Cardinal.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:_point$1(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:_point$1(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new Cardinal(t,e)}return n.tension=function(e){return t(+e)},n}(0),CardinalClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:_point$1(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new CardinalClosed(t,e)}return n.tension=function(e){return t(+e)},n}(0),CardinalOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_point$1(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return new CardinalOpen(t,e)}return n.tension=function(e){return t(+e)},n}(0),CatmullRom.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:_point$2(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new CatmullRom(t,e):new Cardinal(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),CatmullRomClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){
this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:_point$2(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new CatmullRomClosed(t,e):new CardinalClosed(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),CatmullRomOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:_point$2(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}},function t(e){function n(t){return e?new CatmullRomOpen(t,e):new CardinalOpen(t,0)}return n.alpha=function(e){return t(+e)},n}(.5),MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_point$3(this,this._t0,slope2(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,t!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_point$3(this,slope2(this,n=slope3(this,t,e)),n);break;default:_point$3(this,this._t0,n=slope3(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(t,e){MonotoneX.prototype.point.call(this,e,t)},ReflectContext.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};var combinatorics=createCommonjsModule(function(t,e){!function(n,r){"function"==typeof define&&define.amd?define([],r):"object"===("undefined"==typeof e?"undefined":babelHelpers.typeof(e))?t.exports=r():n.Combinatorics=r()}(commonjsGlobal,function(){var t="0.5.2",e=function(t,e){for(var n=1;e--;)n*=t--;return n},n=function(t,n){return n>t?0:e(t,n)/e(n,n)},r=function(t){return e(t,t)},i=function(t,e){var n=1;if(e)n=r(e);else{for(e=1;n<t;n*=++e);n>t&&(n/=e--)}for(var i=[0];e;n/=e--)i[e]=Math.floor(t/n),t%=n;return i},o=function(t,e){Object.keys(e).forEach(function(n){Object.defineProperty(t,n,{value:e[n],configurable:"next"==n})})},a=function(t,e){Object.defineProperty(t,e,{writable:!0})},s=function(t){var e,n=[];for(this.init();e=this.next();)n.push(t?t(e):e);return this.init(),n},u={toArray:s,map:s,forEach:function(t){var e;for(this.init();e=this.next();)t(e);this.init()},filter:function(t){var e,n=[];for(this.init();e=this.next();)t(e)&&n.push(e);return this.init(),n},lazyMap:function(t){return this._lazyMap=t,this},lazyFilter:function(t){if(Object.defineProperty(this,"next",{writable:!0}),"function"!=typeof t)this.next=this._next;else{"function"!=typeof this._next&&(this._next=this.next);var e=this._next.bind(this);this.next=function(){for(var n;n=e();)if(t(n))return n;return n}.bind(this)}return Object.defineProperty(this,"next",{writable:!1}),this}},l=function(t,e){var n=1<<t.length,r=function(){return n},i=Object.create(t.slice(),{length:{get:r}});return a(i,"index"),o(i,{valueOf:r,init:function(){i.index=0},nth:function(t){if(!(t>=n)){for(var e=0,r=[];t;t>>>=1,e++)1&t&&r.push(this[e]);return"function"==typeof i._lazyMap?i._lazyMap(r):r}},next:function(){return this.nth(this.index++)}}),o(i,u),i.init(),"function"==typeof e?i.map(e):i},c=function(t){var e=t&-t,n=t+e,r=n&-n,i=(r/e>>1)-1;return n|i},f=function(t,e,r){if(e||(e=t.length),e<1)throw new RangeError;if(e>t.length)throw new RangeError;var i=(1<<e)-1,s=n(t.length,e),l=1<<t.length,f=function(){return s},h=Object.create(t.slice(),{length:{get:f}});return a(h,"index"),o(h,{valueOf:f,init:function(){this.index=i},next:function(){if(!(this.index>=l)){for(var t=0,e=this.index,n=[];e;e>>>=1,t++)1&e&&(n[n.length]=this[t]);return this.index=c(this.index),"function"==typeof h._lazyMap?h._lazyMap(n):n}}}),o(h,u),h.init(),"function"==typeof r?h.map(r):h},h=function(t,e){var n=t,r=e,i=0;for(i=n.length-1;i>=0&&1==n[i];i--)r--;if(0==r){n[n.length]=1;for(var o=n.length-2;o>=0;o--)n[o]=o<e-1?1:0}else{for(var a=-1,s=-1,i=0;i<n.length;i++)if(0==n[i]&&a!=-1&&(s=i),1==n[i]&&(a=i),s!=-1&&a!=-1){n[s]=1,n[a]=0;break}r=e;for(var i=n.length-1;i>=a;i--)1==n[i]&&r--;for(var i=0;i<a;i++)n[i]=i<r?1:0}return n},p=function(t){for(var e=[],n=0;n<t;n++)e[n]=1;return e[0]=1,e},d=function(t,e,r){if(e||(e=t.length),e<1)throw new RangeError;if(e>t.length)throw new RangeError;var i=p(e),s=n(t.length,e),l=t.length,c=function(){return s},f=Object.create(t.slice(),{length:{get:c}});return a(f,"index"),o(f,{valueOf:c,init:function(){this.index=i.concat()},next:function(){if(!(this.index.length>l)){for(var t=0,n=this.index,r=[],i=0;i<n.length;i++,t++)n[i]&&(r[r.length]=this[t]);return h(this.index,e),"function"==typeof f._lazyMap?f._lazyMap(r):r}}}),o(f,u),f.init(),"function"==typeof r?f.map(r):f},_=function(t){var e=t.slice(),n=r(e.length);return e.index=0,e.next=function(){if(!(this.index>=n)){for(var t=this.slice(),r=i(this.index,this.length),o=[],a=this.length-1;a>=0;--a)o.push(t.splice(r[a],1)[0]);return this.index++,"function"==typeof e._lazyMap?e._lazyMap(o):o}},e},m=function(t,n,r){if(n||(n=t.length),n<1)throw new RangeError;if(n>t.length)throw new RangeError;var i=e(t.length,n),s=function(){return i},l=Object.create(t.slice(),{length:{get:s}});return a(l,"cmb"),a(l,"per"),o(l,{valueOf:function(){return i},init:function(){this.cmb=f(t,n),this.per=_(this.cmb.next())},next:function(){var t=this.per.next();if(!t){var e=this.cmb.next();if(!e)return;return this.per=_(e),this.next()}return"function"==typeof l._lazyMap?l._lazyMap(t):t}}),o(l,u),l.init(),"function"==typeof r?l.map(r):l},y=function(t){for(var n=0,r=1;r<=t;r++){var i=e(t,r);n+=i}return n},v=function(t,e){var n=y(t.length),r=function(){return n},i=Object.create(t.slice(),{length:{get:r}});return a(i,"cmb"),a(i,"per"),a(i,"nelem"),o(i,{valueOf:function(){return n},init:function(){this.nelem=1,this.cmb=f(t,this.nelem),this.per=_(this.cmb.next())},next:function(){var e=this.per.next();if(!e){var n=this.cmb.next();if(!n){if(this.nelem++,this.nelem>t.length)return;if(this.cmb=f(t,this.nelem),n=this.cmb.next(),!n)return}return this.per=_(n),this.next()}return"function"==typeof i._lazyMap?i._lazyMap(e):e}}),o(i,u),i.init(),"function"==typeof e?i.map(e):i},g=Array.prototype.slice,b=function(){if(!arguments.length)throw new RangeError;var t=g.call(arguments),e=t.reduce(function(t,e){return t*e.length},1),n=function(){return e},r=t.length,i=Object.create(t,{length:{get:n}});if(!e)throw new RangeError;return a(i,"index"),o(i,{valueOf:n,dim:r,init:function(){this.index=0},get:function(){if(arguments.length===this.length){for(var t=[],e=0;e<r;e++){var n=arguments[e];if(n>=this[e].length)return;t.push(this[e][n])}return"function"==typeof i._lazyMap?i._lazyMap(t):t}},nth:function(t){for(var e=[],n=0;n<r;n++){var o=this[n].length,a=t%o;e.push(this[n][a]),t-=a,t/=o}return"function"==typeof i._lazyMap?i._lazyMap(e):e},next:function(){if(!(this.index>=e)){var t=this.nth(this.index);return this.index++,t}}}),o(i,u),i.init(),i},x=function(t,e,n){if(e||(e=t.length),e<1)throw new RangeError;var r=t.length,i=Math.pow(r,e),s=function(){return i},l=Object.create(t.slice(),{length:{get:s}});return a(l,"index"),o(l,{valueOf:s,init:function(){l.index=0},nth:function(n){if(!(n>=i)){for(var o=[],a=0;a<e;a++){var s=n%r;o.push(t[s]),n-=s,n/=r}return"function"==typeof l._lazyMap?l._lazyMap(o):o}},next:function(){return this.nth(this.index++)}}),o(l,u),l.init(),"function"==typeof n?l.map(n):l},w=Object.create(null);return o(w,{C:n,P:e,factorial:r,factoradic:i,cartesianProduct:b,combination:f,bigCombination:d,permutation:m,permutationCombination:v,power:l,baseN:x,VERSION:t}),w})}),cmb=interopDefault(combinatorics),index$3=createCommonjsModule(function(t,e){function n(t,e){return this instanceof n?(this.x=t||0,void(this.y=e||0)):new n(t,e)}function r(t,e){return Math.floor(Math.random()*(e-t+1)+t)}function i(t){return t*a}function o(t){return t/a}e=t.exports=n,n.fromArray=function(t){return new n(t[0]||0,t[1]||0)},n.fromObject=function(t){return new n(t.x||0,t.y||0)},n.prototype.addX=function(t){return this.x+=t.x,this},n.prototype.addY=function(t){return this.y+=t.y,this},n.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.addScalar=function(t){return this.x+=t,this.y+=t,this},n.prototype.addScalarX=function(t){return this.x+=t,this},n.prototype.addScalarY=function(t){return this.y+=t,this},n.prototype.subtractX=function(t){return this.x-=t.x,this},n.prototype.subtractY=function(t){return this.y-=t.y,this},n.prototype.subtract=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.subtractScalar=function(t){return this.x-=t,this.y-=t,this},n.prototype.subtractScalarX=function(t){return this.x-=t,this},n.prototype.subtractScalarY=function(t){return this.y-=t,this},n.prototype.divideX=function(t){return this.x/=t.x,this},n.prototype.divideY=function(t){return this.y/=t.y,this},n.prototype.divide=function(t){return this.x/=t.x,this.y/=t.y,this},n.prototype.divideScalar=function(t){return 0!==t?(this.x/=t,this.y/=t):(this.x=0,this.y=0),this},n.prototype.divideScalarX=function(t){return 0!==t?this.x/=t:this.x=0,this},n.prototype.divideScalarY=function(t){return 0!==t?this.y/=t:this.y=0,this},n.prototype.invertX=function(){return this.x*=-1,this},n.prototype.invertY=function(){return this.y*=-1,this},n.prototype.invert=function(){return this.invertX(),this.invertY(),this},n.prototype.multiplyX=function(t){return this.x*=t.x,this},n.prototype.multiplyY=function(t){return this.y*=t.y,this},n.prototype.multiply=function(t){return this.x*=t.x,this.y*=t.y,this},n.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},n.prototype.multiplyScalarX=function(t){return this.x*=t,this},n.prototype.multiplyScalarY=function(t){return this.y*=t,this},n.prototype.normalize=function(){var t=this.length();return 0===t?(this.x=1,this.y=0):this.divide(n(t,t)),this},n.prototype.norm=n.prototype.normalize,n.prototype.limit=function(t,e){return Math.abs(this.x)>t&&(this.x*=e),Math.abs(this.y)>t&&(this.y*=e),this},n.prototype.randomize=function(t,e){return this.randomizeX(t,e),this.randomizeY(t,e),this},n.prototype.randomizeX=function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x);return this.x=r(n,i),this},n.prototype.randomizeY=function(t,e){var n=Math.min(t.y,e.y),i=Math.max(t.y,e.y);return this.y=r(n,i),this},n.prototype.randomizeAny=function(t,e){return Math.round(Math.random())?this.randomizeX(t,e):this.randomizeY(t,e),this},n.prototype.unfloat=function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},n.prototype.toFixed=function(t){return"undefined"==typeof t&&(t=8),this.x=this.x.toFixed(t),this.y=this.y.toFixed(t),this},n.prototype.mixX=function(t,e){return"undefined"==typeof e&&(e=.5),this.x=(1-e)*this.x+e*t.x,this},n.prototype.mixY=function(t,e){return"undefined"==typeof e&&(e=.5),this.y=(1-e)*this.y+e*t.y,this},n.prototype.mix=function(t,e){return this.mixX(t,e),this.mixY(t,e),this},n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.copyX=function(t){return this.x=t.x,this},n.prototype.copyY=function(t){return this.y=t.y,this},n.prototype.copy=function(t){return this.copyX(t),this.copyY(t),this},n.prototype.zero=function(){return this.x=this.y=0,this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.cross=function(t){return this.x*t.y-this.y*t.x},n.prototype.projectOnto=function(t){var e=(this.x*t.x+this.y*t.y)/(t.x*t.x+t.y*t.y);return this.x=e*t.x,this.y=e*t.y,this},n.prototype.horizontalAngle=function(){return Math.atan2(this.y,this.x)},n.prototype.horizontalAngleDeg=function(){return i(this.horizontalAngle())},n.prototype.verticalAngle=function(){return Math.atan2(this.x,this.y)},n.prototype.verticalAngleDeg=function(){return i(this.verticalAngle())},n.prototype.angle=n.prototype.horizontalAngle,n.prototype.angleDeg=n.prototype.horizontalAngleDeg,n.prototype.direction=n.prototype.horizontalAngle,n.prototype.rotate=function(t){var e=this.x*Math.cos(t)-this.y*Math.sin(t),n=this.x*Math.sin(t)+this.y*Math.cos(t);return this.x=e,this.y=n,this},n.prototype.rotateDeg=function(t){return t=o(t),this.rotate(t)},n.prototype.rotateTo=function(t){return this.rotate(t-this.angle())},n.prototype.rotateToDeg=function(t){return t=o(t),this.rotateTo(t)},n.prototype.rotateBy=function(t){var e=this.angle()+t;return this.rotate(e)},n.prototype.rotateByDeg=function(t){return t=o(t),this.rotateBy(t)},n.prototype.distanceX=function(t){return this.x-t.x},n.prototype.absDistanceX=function(t){return Math.abs(this.distanceX(t))},n.prototype.distanceY=function(t){return this.y-t.y},n.prototype.absDistanceY=function(t){return Math.abs(this.distanceY(t))},n.prototype.distance=function(t){return Math.sqrt(this.distanceSq(t))},n.prototype.distanceSq=function(t){var e=this.distanceX(t),n=this.distanceY(t);return e*e+n*n},n.prototype.length=function(){return Math.sqrt(this.lengthSq())},n.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},n.prototype.magnitude=n.prototype.length,n.prototype.isZero=function(){return 0===this.x&&0===this.y},n.prototype.isEqualTo=function(t){return this.x===t.x&&this.y===t.y},n.prototype.toString=function(){return"x:"+this.x+", y:"+this.y},n.prototype.toArray=function(){return[this.x,this.y]},n.prototype.toObject=function(){return{x:this.x,y:this.y}};var a=180/Math.PI}),Vec=interopDefault(index$3),X=Vec(1,0),P=100,pRad=function(t,e,n,r){return Math.pow(Math.pow(r/n*Math.cos(t),e)+Math.pow(Math.sin(t),e),-1/e)},pXY=function(t,e,n,r){return new Vec(r*Math.cos(t)*pRad(t,e,n,r),r*Math.sin(t)*pRad(t,e,n,r))},object=createCommonjsModule(function(t,e){e.clone=function t(e){var n="undefined"==typeof e?"undefined":babelHelpers.typeof(e);if("number"===n||"string"===n||"boolean"===n||null===e||void 0===e)return e;if("function"==typeof e.clone)return e.clone();if(Array.isArray(e))return e.map(function(e){return t(e)});if(e instanceof Number)return new Number(e.valueOf());if(e instanceof String)return new String(e.valueOf());if(e instanceof Boolean)return new Boolean(e.valueOf());if(e instanceof Date)return new Date(e.valueOf());if(e&&e.isBigNumber===!0)return e;if(e instanceof RegExp)throw new TypeError("Cannot clone "+e);var r={};for(var i in e)e.hasOwnProperty(i)&&(r[i]=t(e[i]));return r},e.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e.deepExtend=function t(e,n){if(Array.isArray(n))throw new TypeError("Arrays are not supported by deepExtend");for(var r in n)if(n.hasOwnProperty(r))if(n[r]&&n[r].constructor===Object)void 0===e[r]&&(e[r]={}),e[r].constructor===Object?t(e[r],n[r]):e[r]=n[r];else{if(Array.isArray(n[r]))throw new TypeError("Arrays are not supported by deepExtend");e[r]=n[r]}return e},e.deepEqual=function(t,n){var r,i,o;if(Array.isArray(t)){if(!Array.isArray(n))return!1;if(t.length!=n.length)return!1;for(i=0,o=t.length;i<o;i++)if(!e.deepEqual(t[i],n[i]))return!1;return!0}if(t instanceof Object){if(Array.isArray(n)||!(n instanceof Object))return!1;for(r in t)if(!e.deepEqual(t[r],n[r]))return!1;for(r in n)if(!e.deepEqual(t[r],n[r]))return!1;return!0}return("undefined"==typeof t?"undefined":babelHelpers.typeof(t))===("undefined"==typeof n?"undefined":babelHelpers.typeof(n))&&t==n},e.canDefineProperty=function(){try{if(Object.defineProperty)return Object.defineProperty({},"x",{get:function(){}}),!0}catch(t){}return!1},e.lazy=function(t,n,r){if(e.canDefineProperty()){var i,o=!0;Object.defineProperty(t,n,{get:function(){return o&&(i=r(),o=!1),i},set:function(t){i=t,o=!1},configurable:!0,enumerable:!0})}else t[n]=r()},e.traverse=function(t,e){var n=t;if(e)for(var r=e.split("."),i=0;i<r.length;i++){var o=r[i];o in n||(n[o]={}),n=n[o]}return n},e.isFactory=function(t){return t&&"function"==typeof t.factory}}),object$1=interopDefault(object),isFactory=object.isFactory,traverse=object.traverse,lazy=object.lazy,canDefineProperty=object.canDefineProperty,deepEqual=object.deepEqual,deepExtend=object.deepExtend,extend=object.extend,clone=object.clone,require$$1=Object.freeze({default:object$1,isFactory:isFactory,traverse:traverse,lazy:lazy,canDefineProperty:canDefineProperty,deepEqual:deepEqual,deepExtend:deepExtend,extend:extend,clone:clone}),typedFunction=createCommonjsModule(function(t,e){!function(n,r){"function"==typeof define&&define.amd?define([],r):"object"===("undefined"==typeof e?"undefined":babelHelpers.typeof(e))?t.exports=r():n.typed=r()}(commonjsGlobal,function(){function t(){function e(t){for(var e,n=0;n<w.types.length;n++){var r=w.types[n];if(r.name===t){e=r.test;break}}if(!e){var i;for(n=0;n<w.types.length;n++)if(r=w.types[n],r.name.toLowerCase()==t.toLowerCase()){i=r.name;break}throw new Error('Unknown type "'+t+'"'+(i?'. Did you mean "'+i+'"?':""))}return e}function n(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(r.signatures&&""!=r.name)if(""==e)e=r.name;else if(e!=r.name){var i=new Error("Function names do not match (expected: "+e+", actual: "+r.name+")");throw i.data={actual:r.name,expected:e},i}}return e}function r(t,e,n,r,i){var o,a=d(r),s=i?i.split(","):null,u=t||"unnamed",l=s&&_(s,"any"),c={fn:t,index:n,actual:r,expected:s};o=s?e>n&&!l?"Unexpected type of argument in function "+u+" (expected: "+s.join(" or ")+", actual: "+a+", index: "+n+")":"Too few arguments in function "+u+" (expected: "+s.join(" or ")+", index: "+n+")":"Too many arguments in function "+u+" (expected: "+n+", actual: "+e+")";var f=new TypeError(o);return f.data=c,f}function i(t){this.name=t||"refs",this.categories={}}function o(t,e){if("string"==typeof t){var n=t.trim(),r="..."===n.substr(0,3);if(r&&(n=n.substr(3)),""===n)this.types=["any"];else{this.types=n.split("|");for(var i=0;i<this.types.length;i++)this.types[i]=this.types[i].trim()}}else{if(!Array.isArray(t)){if(t instanceof o)return t.clone();throw new Error("String or Array expected")}this.types=t}this.conversions=[],this.varArgs=r||e||!1,this.anyType=this.types.indexOf("any")!==-1}function a(t,e){var n;if("string"==typeof t)n=""!==t?t.split(","):[];else{if(!Array.isArray(t))throw new Error("string or Array expected");n=t}this.params=new Array(n.length);for(var r=0;r<n.length;r++){var i=new o(n[r]);if(this.params[r]=i,r===n.length-1)this.varArgs=i.varArgs;else if(i.varArgs)throw new SyntaxError('Unexpected variable arguments operator "..."')}this.fn=e}function s(t,e,n){this.path=t||[],this.param=t[t.length-1]||null,this.signature=e||null,this.childs=n||[]}function u(t){var e,n,r={},i=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];if(e=new a(o,s),e.ignore())continue;var u=e.expand();for(n=0;n<u.length;n++){var l=u[n],c=l.toString(),f=r[c];if(f){var h=a.compare(l,f);if(h<0)r[c]=l;else if(0===h)throw new Error('Signature "'+c+'" is defined twice')}else r[c]=l}}for(c in r)r.hasOwnProperty(c)&&i.push(r[c]);for(i.sort(function(t,e){return a.compare(t,e)}),n=0;n<i.length;n++)if(e=i[n],e.varArgs)for(var p=e.params.length-1,d=e.params[p],m=0;m<d.types.length;){if(d.conversions[m])for(var y=d.types[m],v=0;v<i.length;v++){var g=i[v],b=g.params[p];if(g!==e&&b&&_(b.types,y)&&!b.conversions[p]){d.types.splice(m,1),d.conversions.splice(m,1),m--;break}}m++}return i}function l(t){for(var e={},n=0;n<t.length;n++){var r=t[n];if(r.fn&&!r.hasConversions()){var i=r.params.join(",");e[i]=r.fn}}return e}function c(t,e){var n,r,i,a=e.length,u=[];for(n=0;n<t.length;n++)r=t[n],r.params.length!==a||i||(i=r),void 0!=r.params[a]&&u.push(r);u.sort(function(t,e){return o.compare(t.params[a],e.params[a])});var l=[];for(n=0;n<u.length;n++){r=u[n];var f=r.params[a],h=l.filter(function(t){return t.param.overlapping(f)})[0];if(h){if(h.param.varArgs)throw new Error('Conflicting types "'+h.param+'" and "'+f+'"');h.signatures.push(r)}else l.push({param:f,signatures:[r]})}var p=new Array(l.length);for(n=0;n<l.length;n++){var d=l[n];p[n]=c(d.signatures,e.concat(d.param))}return new s(e,i,p)}function f(t){for(var e=[],n=0;n<t;n++)e[n]="arg"+n;return e}function h(t,e){var n=new i,o=u(e);if(0==o.length)throw new Error("No signatures provided");var a=c(o,[]),s=[],h=t||"",d=f(p(o));s.push("function "+h+"("+d.join(", ")+") {"),s.push('  "use strict";'),s.push("  var name = '"+h+"';"),s.push(a.toCode(n,"  ")),s.push("}");var _=[n.toCode(),"return "+s.join("\n")].join("\n"),m=new Function(n.name,"createError",_),y=m(n,r);return y.signatures=l(o),y}function p(t){for(var e=0,n=0;n<t.length;n++){var r=t[n].params.length;r>e&&(e=r)}return e}function d(t){for(var e,n=0;n<w.types.length;n++){var r=w.types[n];if("Object"===r.name)e=r;else if(r.test(t))return r.name}return e&&e.test(t)?e.name:"unknown"}function _(t,e){return t.indexOf(e)!==-1}function m(t,e){if(!t.signatures)throw new TypeError("Function is no typed-function");var n;if("string"==typeof e){n=e.split(",");for(var r=0;r<n.length;r++)n[r]=n[r].trim()}else{if(!Array.isArray(e))throw new TypeError("String array or a comma separated string expected");n=e}var i=n.join(","),o=t.signatures[i];if(o)return o;throw new TypeError("Signature not found (signature: "+(t.name||"unnamed")+"("+n.join(", ")+"))")}function y(t,e){var n=d(t);if(e===n)return t;for(var r=0;r<w.conversions.length;r++){var i=w.conversions[r];if(i.from===n&&i.to===e)return i.convert(t)}throw new Error("Cannot convert from "+n+" to "+e)}i.prototype.add=function(t,e){var n=e||"fn";this.categories[n]||(this.categories[n]=[]);var r=this.categories[n].indexOf(t);return r==-1&&(r=this.categories[n].length,this.categories[n].push(t)),n+r},i.prototype.toCode=function(){var t=[],e=this.name+".categories",n=this.categories;for(var r in n)if(n.hasOwnProperty(r))for(var i=n[r],o=0;o<i.length;o++)t.push("var "+r+o+" = "+e+"['"+r+"']["+o+"];");return t.join("\n")},o.compare=function(t,e){if(t.anyType)return 1;if(e.anyType)return-1;if(_(t.types,"Object"))return 1;if(_(e.types,"Object"))return-1;if(t.hasConversions()){if(e.hasConversions()){var n,r,i;for(n=0;n<t.conversions.length;n++)if(void 0!==t.conversions[n]){r=t.conversions[n];break}for(n=0;n<e.conversions.length;n++)if(void 0!==e.conversions[n]){i=e.conversions[n];break}return w.conversions.indexOf(r)-w.conversions.indexOf(i)}return 1}if(e.hasConversions())return-1;var o,a;for(n=0;n<w.types.length;n++)if(w.types[n].name===t.types[0]){o=n;break}for(n=0;n<w.types.length;n++)if(w.types[n].name===e.types[0]){a=n;break}return o-a},o.prototype.overlapping=function(t){for(var e=0;e<this.types.length;e++)if(_(t.types,this.types[e]))return!0;return!1},o.prototype.clone=function(){var t=new o(this.types.slice(),this.varArgs);return t.conversions=this.conversions.slice(),t},o.prototype.hasConversions=function(){return this.conversions.length>0},o.prototype.contains=function(t){for(var e=0;e<this.types.length;e++)if(t[this.types[e]])return!0;return!1},o.prototype.toString=function(t){for(var e=[],n={},r=0;r<this.types.length;r++){var i=this.conversions[r],o=t&&i?i.to:this.types[r];o in n||(n[o]=!0,e.push(o))}return(this.varArgs?"...":"")+e.join("|")},a.prototype.clone=function(){return new a(this.params.slice(),this.fn)},a.prototype.expand=function(){function t(n,r){if(r.length<n.params.length){var i,s,u,l=n.params[r.length];if(l.varArgs){for(s=l.clone(),i=0;i<w.conversions.length;i++)if(u=w.conversions[i],!_(l.types,u.from)&&_(l.types,u.to)){var c=s.types.length;s.types[c]=u.from,s.conversions[c]=u}t(n,r.concat(s))}else{for(i=0;i<l.types.length;i++)t(n,r.concat(new o(l.types[i])));for(i=0;i<w.conversions.length;i++)u=w.conversions[i],!_(l.types,u.from)&&_(l.types,u.to)&&(s=new o(u.from),s.conversions[0]=u,t(n,r.concat(s)))}}else e.push(new a(r,n.fn))}var e=[];return t(this,[]),e},a.compare=function(t,e){if(t.params.length>e.params.length)return 1;if(t.params.length<e.params.length)return-1;var n,r=t.params.length,i=0,a=0;for(n=0;n<r;n++)t.params[n].hasConversions()&&i++,e.params[n].hasConversions()&&a++;if(i>a)return 1;if(i<a)return-1;for(n=0;n<t.params.length;n++){var s=o.compare(t.params[n],e.params[n]);if(0!==s)return s}return 0},a.prototype.hasConversions=function(){for(var t=0;t<this.params.length;t++)if(this.params[t].hasConversions())return!0;return!1},a.prototype.ignore=function(){for(var t={},e=0;e<w.ignore.length;e++)t[w.ignore[e]]=!0;for(e=0;e<this.params.length;e++)if(this.params[e].contains(t))return!0;return!1},a.prototype.toCode=function(t,e){for(var n=[],r=new Array(this.params.length),i=0;i<this.params.length;i++){var o=this.params[i],a=o.conversions[0];o.varArgs?r[i]="varArgs":a?r[i]=t.add(a.convert,"convert")+"(arg"+i+")":r[i]="arg"+i}var s=this.fn?t.add(this.fn,"signature"):void 0;return s?e+"return "+s+"("+r.join(", ")+"); // signature: "+this.params.join(", "):n.join("\n")},a.prototype.toString=function(){return this.params.join(", ")},s.prototype.toCode=function(t,n,r){var i=[];if(this.param){var o=this.path.length-1,a=this.param.conversions[0],s="// type: "+(a?a.from+" (convert to "+a.to+")":this.param);if(this.param.varArgs)if(this.param.anyType)i.push(n+"if (arguments.length > "+o+") {"),i.push(n+"  var varArgs = [];"),i.push(n+"  for (var i = "+o+"; i < arguments.length; i++) {"),i.push(n+"    varArgs.push(arguments[i]);"),i.push(n+"  }"),i.push(this.signature.toCode(t,n+"  ")),i.push(n+"}");else{for(var u=function(n,r){for(var i=[],o=0;o<n.length;o++)i[o]=t.add(e(n[o]),"test")+"("+r+")";return i.join(" || ")}.bind(this),l=this.param.types,c=[],f=0;f<l.length;f++)void 0===this.param.conversions[f]&&c.push(l[f]);i.push(n+"if ("+u(l,"arg"+o)+") { "+s),i.push(n+"  var varArgs = [arg"+o+"];"),i.push(n+"  for (var i = "+(o+1)+"; i < arguments.length; i++) {"),i.push(n+"    if ("+u(c,"arguments[i]")+") {"),i.push(n+"      varArgs.push(arguments[i]);");for(var f=0;f<l.length;f++){var h=this.param.conversions[f];if(h){var p=t.add(e(l[f]),"test"),d=t.add(h.convert,"convert");i.push(n+"    }"),i.push(n+"    else if ("+p+"(arguments[i])) {"),i.push(n+"      varArgs.push("+d+"(arguments[i]));")}}i.push(n+"    } else {"),i.push(n+"      throw createError(name, arguments.length, i, arguments[i], '"+c.join(",")+"');"),i.push(n+"    }"),i.push(n+"  }"),i.push(this.signature.toCode(t,n+"  ")),i.push(n+"}")}else if(this.param.anyType)i.push(n+"// type: any"),i.push(this._innerCode(t,n,r));else{var _=this.param.types[0],p="any"!==_?t.add(e(_),"test"):null;i.push(n+"if ("+p+"(arg"+o+")) { "+s),i.push(this._innerCode(t,n+"  ",r)),i.push(n+"}")}}else i.push(this._innerCode(t,n,r));return i.join("\n")},s.prototype._innerCode=function(t,e,n){var r,i=[];this.signature&&(i.push(e+"if (arguments.length === "+this.path.length+") {"),i.push(this.signature.toCode(t,e+"  ")),i.push(e+"}"));var o;for(r=0;r<this.childs.length;r++)if(this.childs[r].param.anyType){o=this.childs[r];break}for(r=0;r<this.childs.length;r++)i.push(this.childs[r].toCode(t,e,o));n&&!this.param.anyType&&i.push(n.toCode(t,e,o));var a=this._exceptions(t,e);return a&&i.push(a),i.join("\n")},s.prototype._exceptions=function(t,e){var n=this.path.length;if(0===this.childs.length)return[e+"if (arguments.length > "+n+") {",e+"  throw createError(name, arguments.length, "+n+", arguments["+n+"]);",e+"}"].join("\n");for(var r={},i=[],o=0;o<this.childs.length;o++){var a=this.childs[o];if(a.param)for(var s=0;s<a.param.types.length;s++){var u=a.param.types[s];u in r||a.param.conversions[s]||(r[u]=!0,i.push(u))}}return e+"throw createError(name, arguments.length, "+n+", arguments["+n+"], '"+i.join(",")+"');"};var v=[{name:"number",test:function(t){return"number"==typeof t}},{name:"string",test:function(t){return"string"==typeof t}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"Function",test:function(t){return"function"==typeof t}},{name:"Array",test:Array.isArray},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===("undefined"==typeof t?"undefined":babelHelpers.typeof(t))}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],g={},b=[],x=[],w={config:g,types:v,conversions:b,ignore:x};return w=h("typed",{Object:function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push(t[r]);var i=n(e);return h(i,t)},"string, Object":h,"...Function":function(t){for(var e,r=n(t),i={},o=0;o<t.length;o++){var a=t[o];if("object"!==babelHelpers.typeof(a.signatures))throw e=new TypeError("Function is no typed-function (index: "+o+")"),e.data={index:o},e;for(var s in a.signatures)if(a.signatures.hasOwnProperty(s))if(i.hasOwnProperty(s)){if(a.signatures[s]!==i[s])throw e=new Error('Signature "'+s+'" is defined twice'),e.data={signature:s},e}else i[s]=a.signatures[s]}return h(r,i)}}),w.config=g,w.types=v,w.conversions=b,w.ignore=x,w.create=t,w.find=m,w.convert=y,w.addType=function(t){if(!t||"string"!=typeof t.name||"function"!=typeof t.test)throw new TypeError("Object with properties {name: string, test: function} expected");w.types.push(t)},w.addConversion=function(t){if(!t||"string"!=typeof t.from||"string"!=typeof t.to||"function"!=typeof t.convert)throw new TypeError("Object with properties {from: string, to: string, convert: function} expected");w.conversions.push(t)},w}return t()})}),typedFunction$1=interopDefault(typedFunction),require$$1$1=Object.freeze({default:typedFunction$1}),NumberFormatter=createCommonjsModule(function(t){function e(t){var e=String(t).toLowerCase().match(/^0*?(-?)(\d+\.?\d*)(e([+-]?\d+))?$/);if(!e)throw new SyntaxError("Invalid number");var n=e[1],r=e[2],i=parseFloat(e[4]||"0"),o=r.indexOf(".");i+=o!==-1?o-1:r.length-1,this.sign=n,this.coefficients=r.replace(".","").replace(/^0*/,function(t){return i-=t.length,""}).replace(/0*$/,"").split("").map(function(t){return parseInt(t)}),0===this.coefficients.length&&(this.coefficients.push(0),i++),this.exponent=i}function n(t){for(var e=[],n=0;n<t;n++)e.push(0);return e}e.prototype.toEngineering=function(t){var e=this.roundDigits(t),r=e.exponent,i=e.coefficients,o=r%3===0?r:r<0?r-3-r%3:r-r%3,a=r>=0?r:Math.abs(o);i.length-1<a&&(i=i.concat(n(a-(i.length-1))));for(var s=Math.abs(r-o),u=1,l="";--s>=0;)u++;var c=i.slice(u).join(""),f=c.match(/[1-9]/)?"."+c:"";return l=i.slice(0,u).join("")+f,
l+="e"+(r>=0?"+":"")+o.toString(),e.sign+l},e.prototype.toFixed=function(t){var e=this.roundDigits(this.exponent+1+(t||0)),r=e.coefficients,i=e.exponent+1,o=i+(t||0);return r.length<o&&(r=r.concat(n(o-r.length))),i<0&&(r=n(-i+1).concat(r),i=1),t&&r.splice(i,0,0===i?"0.":"."),this.sign+r.join("")},e.prototype.toExponential=function(t){var e=t?this.roundDigits(t):this.clone(),r=e.coefficients,i=e.exponent;r.length<t&&(r=r.concat(n(t-r.length)));var o=r.shift();return this.sign+o+(r.length>0?"."+r.join(""):"")+"e"+(i>=0?"+":"")+i},e.prototype.toPrecision=function(t,e){var r=e&&void 0!==e.lower?e.lower:.001,i=e&&void 0!==e.upper?e.upper:1e5,o=Math.abs(Math.pow(10,this.exponent));if(o<r||o>=i)return this.toExponential(t);var a=t?this.roundDigits(t):this.clone(),s=a.coefficients,u=a.exponent;s.length<t&&(s=s.concat(n(t-s.length))),s=s.concat(n(u-s.length+1+(s.length<t?t-s.length:0))),s=n(-u).concat(s);var l=u>0?u:0;return l<s.length-1&&s.splice(l+1,0,"."),this.sign+s.join("")},e.prototype.clone=function(){var t=new e("0");return t.sign=this.sign,t.coefficients=this.coefficients.slice(0),t.exponent=this.exponent,t},e.prototype.roundDigits=function(t){for(var e=this.clone(),n=e.coefficients;t<=0;)n.unshift(0),e.exponent++,t++;if(n.length>t){var r=n.splice(t,n.length-t);if(r[0]>=5){var i=t-1;for(n[i]++;10===n[i];)n.pop(),0===i&&(n.unshift(0),e.exponent++,i++),i--,n[i]++}}return e},t.exports=e}),NumberFormatter$1=interopDefault(NumberFormatter),require$$0$3=Object.freeze({default:NumberFormatter$1}),number$1=createCommonjsModule(function(t,e){var n=interopDefault(require$$0$3);e.isNumber=function(t){return"number"==typeof t},e.isInteger=function(t){return!!isFinite(t)&&t==Math.round(t)},e.sign=Math.sign||function(t){return t>0?1:t<0?-1:0},e.format=function(t,n){if("function"==typeof n)return n(t);if(t===1/0)return"Infinity";if(t===-(1/0))return"-Infinity";if(isNaN(t))return"NaN";var r="auto",i=void 0;switch(n&&(n.notation&&(r=n.notation),e.isNumber(n)?i=n:n.precision&&(i=n.precision)),r){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"engineering":return e.toEngineering(t,i);case"auto":return e.toPrecision(t,i,n&&n.exponential).replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return new n(t).toExponential(e)},e.toEngineering=function(t,e){return new n(t).toEngineering(e)},e.toFixed=function(t,e){return new n(t).toFixed(e)},e.toPrecision=function(t,e,r){return new n(t).toPrecision(e,r)},e.digits=function(t){return t.toExponential().replace(/e.*$/,"").replace(/^0\.?0*|\./,"").length},e.DBL_EPSILON=Number.EPSILON||2.220446049250313e-16,e.nearlyEqual=function(t,n,r){if(null==r)return t==n;if(t==n)return!0;if(isNaN(t)||isNaN(n))return!1;if(isFinite(t)&&isFinite(n)){var i=Math.abs(t-n);return i<e.DBL_EPSILON||i<=Math.max(Math.abs(t),Math.abs(n))*r}return!1}}),number$2=interopDefault(number$1),nearlyEqual=number$1.nearlyEqual,DBL_EPSILON=number$1.DBL_EPSILON,digits=number$1.digits,toPrecision=number$1.toPrecision,toFixed=number$1.toFixed,toEngineering=number$1.toEngineering,toExponential=number$1.toExponential,format=number$1.format,sign$1=number$1.sign,isInteger=number$1.isInteger,isNumber=number$1.isNumber,require$$0$2=Object.freeze({default:number$2,nearlyEqual:nearlyEqual,DBL_EPSILON:DBL_EPSILON,digits:digits,toPrecision:toPrecision,toFixed:toFixed,toEngineering:toEngineering,toExponential:toExponential,format:format,sign:sign$1,isInteger:isInteger,isNumber:isNumber}),typed=createCommonjsModule(function(t,e){var n=interopDefault(require$$1$1),r=interopDefault(require$$0$2).digits,i=function(){return i=n.create,n};e.create=function(t){var e=i();return e.types=[{name:"number",test:function(t){return"number"==typeof t}},{name:"Complex",test:function(t){return t&&t.isComplex}},{name:"BigNumber",test:function(t){return t&&t.isBigNumber}},{name:"Fraction",test:function(t){return t&&t.isFraction}},{name:"Unit",test:function(t){return t&&t.isUnit}},{name:"string",test:function(t){return"string"==typeof t}},{name:"Array",test:Array.isArray},{name:"Matrix",test:function(t){return t&&t.isMatrix}},{name:"DenseMatrix",test:function(t){return t&&t.isDenseMatrix}},{name:"SparseMatrix",test:function(t){return t&&t.isSparseMatrix}},{name:"ImmutableDenseMatrix",test:function(t){return t&&t.isImmutableDenseMatrix}},{name:"Range",test:function(t){return t&&t.isRange}},{name:"Index",test:function(t){return t&&t.isIndex}},{name:"boolean",test:function(t){return"boolean"==typeof t}},{name:"ResultSet",test:function(t){return t&&t.isResultSet}},{name:"Help",test:function(t){return t&&t.isHelp}},{name:"function",test:function(t){return"function"==typeof t}},{name:"Date",test:function(t){return t instanceof Date}},{name:"RegExp",test:function(t){return t instanceof RegExp}},{name:"Object",test:function(t){return"object"===("undefined"==typeof t?"undefined":babelHelpers.typeof(t))}},{name:"null",test:function(t){return null===t}},{name:"undefined",test:function(t){return void 0===t}}],e.conversions=[{from:"number",to:"BigNumber",convert:function(e){if(r(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to BigNumber (value: "+e+"). Use function bignumber(x) to convert to BigNumber.");return new t.BigNumber(e)}},{from:"number",to:"Complex",convert:function(e){return new t.Complex(e,0)}},{from:"number",to:"string",convert:function(t){return t+""}},{from:"BigNumber",to:"Complex",convert:function(e){return new t.Complex(e.toNumber(),0)}},{from:"Fraction",to:"Complex",convert:function(e){return new t.Complex(e.valueOf(),0)}},{from:"number",to:"Fraction",convert:function(e){if(r(e)>15)throw new TypeError("Cannot implicitly convert a number with >15 significant digits to Fraction (value: "+e+"). Use function fraction(x) to convert to Fraction.");return new t.Fraction(e)}},{from:"string",to:"number",convert:function(t){var e=Number(t);if(isNaN(e))throw new Error('Cannot convert "'+t+'" to a number');return e}},{from:"boolean",to:"number",convert:function(t){return+t}},{from:"boolean",to:"BigNumber",convert:function(e){return new t.BigNumber(+e)}},{from:"boolean",to:"Fraction",convert:function(e){return new t.Fraction(+e)}},{from:"boolean",to:"string",convert:function(t){return+t}},{from:"null",to:"number",convert:function(){return 0}},{from:"null",to:"string",convert:function(){return"null"}},{from:"null",to:"BigNumber",convert:function(){return new t.BigNumber(0)}},{from:"null",to:"Fraction",convert:function(){return new t.Fraction(0)}},{from:"Array",to:"Matrix",convert:function(e){return new t.DenseMatrix(e)}},{from:"Matrix",to:"Array",convert:function(t){return t.valueOf()}}],e}}),typed$1=interopDefault(typed),create$2=typed.create,require$$3=Object.freeze({default:typed$1,create:create$2}),index$4=createCommonjsModule(function(t){function e(){}e.prototype={on:function(t,e,n){var r=this.e||(this.e={});return(r[t]||(r[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){function r(){i.off(t,r),e.apply(n,arguments)}var i=this;return r._=e,this.on(t,r,n)},emit:function(t){var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),r=0,i=n.length;for(r;r<i;r++)n[r].fn.apply(n[r].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),r=n[t],i=[];if(r&&e)for(var o=0,a=r.length;o<a;o++)r[o].fn!==e&&r[o].fn._!==e&&i.push(r[o]);return i.length?n[t]=i:delete n[t],this}},t.exports=e}),index$5=interopDefault(index$4),require$$0$5=Object.freeze({default:index$5}),emitter=createCommonjsModule(function(t,e){var n=interopDefault(require$$0$5);e.mixin=function(t){var e=new n;return t.on=e.on.bind(e),t.off=e.off.bind(e),t.once=e.once.bind(e),t.emit=e.emit.bind(e),t}}),emitter$1=interopDefault(emitter),mixin=emitter.mixin,require$$0$4=Object.freeze({default:emitter$1,mixin:mixin}),ArgumentsError=createCommonjsModule(function(t){function e(t,n,r,i){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.fn=t,this.count=n,this.min=r,this.max=i,this.message="Wrong number of arguments in function "+t+" ("+n+" provided, "+r+(void 0!=i?"-"+i:"")+" expected)",this.stack=(new Error).stack}e.prototype=new Error,e.prototype.constructor=Error,e.prototype.name="ArgumentsError",e.prototype.isArgumentsError=!0,t.exports=e}),ArgumentsError$1=interopDefault(ArgumentsError),require$$0$6=Object.freeze({default:ArgumentsError$1}),_import=createCommonjsModule(function(t,e){function n(t,e,n,s,u){function l(t,e){var n=arguments.length;if(1!=n&&2!=n)throw new a("import",n,1,2);if(e||(e={}),i(t))p(t,e);else if(Array.isArray(t))t.forEach(function(t){l(t,e)});else if("object"===("undefined"==typeof t?"undefined":babelHelpers.typeof(t))){for(var r in t)if(t.hasOwnProperty(r)){var o=t[r];d(o)?c(r,o,e):i(t)?p(t,e):l(o,e)}}else if(!e.silent)throw new TypeError("Factory, Object, or Array expected")}function c(t,e,n){if(n.wrap&&"function"==typeof e&&(e=h(e)),_(u[t])&&_(e))return e=n.override?s(t,e.signatures):s(u[t],e),u[t]=e,f(t,e),void u.emit("import",t,function(){return e});if(void 0===u[t]||n.override)return u[t]=e,f(t,e),void u.emit("import",t,function(){return e});if(!n.silent)throw new Error('Cannot import "'+t+'": already exists')}function f(t,e){e&&"function"==typeof e.transform&&(u.expression.transform[t]=e.transform)}function h(t){var e=function(){for(var e=[],n=0,r=arguments.length;n<r;n++){var i=arguments[n];e[n]=i&&i.valueOf()}return t.apply(u,e)};return t.transform&&(e.transform=t.transform),e}function p(t,e){if("string"==typeof t.name){var i=t.name,a=t.path?o(u,t.path):u,l=a.hasOwnProperty(i)?a[i]:void 0,c=function(){var r=n(t);if(_(l)&&_(r))return e.override||(r=s(l,r)),r;if(void 0===l||e.override)return r;if(!e.silent)throw new Error('Cannot import "'+i+'": already exists')};t.lazy!==!1?r(a,i,c):a[i]=c(),u.emit("import",i,c,t.path)}else n(t)}function d(t){return"function"==typeof t||"number"==typeof t||"string"==typeof t||"boolean"==typeof t||null===t||t&&t.isUnit===!0||t&&t.isComplex===!0||t&&t.isBigNumber===!0||t&&t.isFraction===!0||t&&t.isMatrix===!0||t&&Array.isArray(t)===!0}function _(t){return"function"==typeof t&&"object"===babelHelpers.typeof(t.signatures)}return l}var r=interopDefault(require$$1).lazy,i=interopDefault(require$$1).isFactory,o=interopDefault(require$$1).traverse,a=(interopDefault(require$$1).extend,interopDefault(require$$0$6));e.math=!0,e.name="import",e.factory=n,e.lazy=!0}),_import$1=interopDefault(_import),lazy$1=_import.lazy,factory=_import.factory,name=_import.name,math$1=_import.math,require$$1$2=Object.freeze({default:_import$1,lazy:lazy$1,factory:factory,name:name,math:math$1}),config=createCommonjsModule(function(t,e){function n(t,e,n,r,i){function s(t){if(t){var n=a.clone(e);o(t,"matrix",u),o(t,"number",l),a.deepExtend(e,t);var r=a.clone(e);return i.emit("config",r,n),r}return a.clone(e)}var u=["Matrix","Array"],l=["number","BigNumber","Fraction"];return s.MATRIX=u,s.NUMBER=l,s}function r(t,e){return t.indexOf(e)!==-1}function i(t,e){return t.map(function(t){return t.toLowerCase()}).indexOf(e.toLowerCase())}function o(t,e,n){if(void 0!==t[e]&&!r(n,t[e])){var o=i(n,t[e]);o!==-1?(console.warn('Warning: Wrong casing for configuration option "'+e+'", should be "'+n[o]+'" instead of "'+t[e]+'".'),t[e]=n[o]):console.warn('Warning: Unknown value "'+t[e]+'" for configuration option "'+e+'". Available options: '+n.map(JSON.stringify).join(", ")+".")}}var a=interopDefault(require$$1);e.name="config",e.math=!0,e.factory=n}),config$1=interopDefault(config),factory$1=config.factory,math$2=config.math,name$1=config.name,require$$0$7=Object.freeze({default:config$1,factory:factory$1,math:math$2,name:name$1}),core$2=createCommonjsModule(function(t,e){var n=interopDefault(require$$1).isFactory,r=(interopDefault(require$$1).deepExtend,interopDefault(require$$3)),i=interopDefault(require$$0$4),o=interopDefault(require$$1$2),a=interopDefault(require$$0$7);e.create=function(t){function e(t){if(!n(t))throw new Error("Factory object with properties `type`, `name`, and `factory` expected");var r,i=s.indexOf(t);return i===-1?(r=t.math===!0?t.factory(l.type,c,e,l.typed,l):t.factory(l.type,c,e,l.typed),s.push(t),u.push(r)):r=u[i],r}if("function"!=typeof Object.create)throw new Error("ES5 not supported by this JavaScript engine. Please load the es5-shim and es5-sham library for compatibility.");var s=[],u=[],l=i.mixin({});l.type={},l.expression={transform:Object.create(l)},l.typed=r.create(l.type);var c={epsilon:1e-12,matrix:"Matrix",number:"number",precision:64,predictable:!1};return l.import=e(o),l.config=e(a),t&&l.config(t),l}}),core$3=interopDefault(core$2),create$1=core$2.create,require$$0$1=Object.freeze({default:core$3,create:create$1}),core=createCommonjsModule(function(t){t.exports=interopDefault(require$$0$1)}),core$1=interopDefault(core),formatter=createCommonjsModule(function(t,e){e.format=function(t,n){if("function"==typeof n)return n(t);if(!t.isFinite())return t.isNaN()?"NaN":t.gt(0)?"Infinity":"-Infinity";var r="auto",i=void 0;switch(void 0!==n&&(n.notation&&(r=n.notation),"number"==typeof n?i=n:n.precision&&(i=n.precision)),r){case"fixed":return e.toFixed(t,i);case"exponential":return e.toExponential(t,i);case"auto":var o=.001,a=1e5;n&&n.exponential&&(void 0!==n.exponential.lower&&(o=n.exponential.lower),void 0!==n.exponential.upper&&(a=n.exponential.upper));({toExpNeg:t.constructor.toExpNeg,toExpPos:t.constructor.toExpPos});if(t.constructor.config({toExpNeg:Math.round(Math.log(o)/Math.LN10),toExpPos:Math.round(Math.log(a)/Math.LN10)}),t.isZero())return"0";var s,u=t.abs();return s=u.gte(o)&&u.lt(a)?t.toSignificantDigits(i).toFixed():e.toExponential(t,i),s.replace(/((\.\d*?)(0+))($|e)/,function(){var t=arguments[2],e=arguments[4];return"."!==t?t+e:e});default:throw new Error('Unknown notation "'+r+'". Choose "auto", "exponential", or "fixed".')}},e.toExponential=function(t,e){return void 0!==e?t.toExponential(e-1):t.toExponential()},e.toFixed=function(t,e){return t.toFixed(e||0)}}),formatter$1=interopDefault(formatter),toFixed$1=formatter.toFixed,toExponential$1=formatter.toExponential,format$2=formatter.format,require$$0$8=Object.freeze({default:formatter$1,toFixed:toFixed$1,toExponential:toExponential$1,format:format$2}),string$2=createCommonjsModule(function(t,e){function n(t,r){if(Array.isArray(t)){for(var i="[",o=t.length,a=0;a<o;a++)0!=a&&(i+=", "),i+=n(t[a],r);return i+="]"}return e.format(t,r)}var r=interopDefault(require$$0$2).format,i=interopDefault(require$$0$8).format;e.isString=function(t){return"string"==typeof t},e.endsWith=function(t,e){var n=t.length-e.length,r=t.length;return t.substring(n,r)===e},e.format=function(t,o){if("number"==typeof t)return r(t,o);if(t&&t.isBigNumber===!0)return i(t,o);if(t&&t.isFraction===!0)return o&&"decimal"===o.fraction?t.toString():t.s*t.n+"/"+t.d;if(Array.isArray(t))return n(t,o);if(e.isString(t))return'"'+t+'"';if("function"==typeof t)return t.syntax?String(t.syntax):"function";if(t&&"object"===("undefined"==typeof t?"undefined":babelHelpers.typeof(t))){if("function"==typeof t.format)return t.format(o);if(t&&t.toString()!=={}.toString())return t.toString();var a=[];for(var s in t)t.hasOwnProperty(s)&&a.push('"'+s+'": '+e.format(t[s],o));return"{"+a.join(", ")+"}"}return String(t)}}),string$3=interopDefault(string$2),format$1=string$2.format,endsWith=string$2.endsWith,isString=string$2.isString,require$$4=Object.freeze({default:string$3,format:format$1,endsWith:endsWith,isString:isString}),types$1=createCommonjsModule(function(t,e){e.type=function(t){var e="undefined"==typeof t?"undefined":babelHelpers.typeof(t);return"object"===e?null===t?"null":t instanceof Boolean?"boolean":t instanceof Number?"number":t instanceof String?"string":Array.isArray(t)?"Array":t instanceof Date?"Date":t instanceof RegExp?"RegExp":"Object":"function"===e?"Function":e},e.isScalar=function(t){return!(t&&t.isMatrix||Array.isArray(t))}}),types$2=interopDefault(types$1),isScalar=types$1.isScalar,type=types$1.type,require$$2$1=Object.freeze({default:types$2,isScalar:isScalar,type:type}),DimensionError=createCommonjsModule(function(t){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.actual=t,this.expected=n,this.relation=r,this.message="Dimension mismatch ("+(Array.isArray(t)?"["+t.join(", ")+"]":t)+" "+(this.relation||"!=")+" "+(Array.isArray(n)?"["+n.join(", ")+"]":n)+")",this.stack=(new Error).stack}e.prototype=new RangeError,e.prototype.constructor=RangeError,e.prototype.name="DimensionError",e.prototype.isDimensionError=!0,t.exports=e}),DimensionError$1=interopDefault(DimensionError),require$$0$9=Object.freeze({default:DimensionError$1}),IndexError=createCommonjsModule(function(t){function e(t,n,r){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this.index=t,arguments.length<3?(this.min=0,this.max=n):(this.min=n,this.max=r),void 0!==this.min&&this.index<this.min?this.message="Index out of range ("+this.index+" < "+this.min+")":void 0!==this.max&&this.index>=this.max?this.message="Index out of range ("+this.index+" > "+(this.max-1)+")":this.message="Index out of range ("+this.index+")",this.stack=(new Error).stack}e.prototype=new RangeError,e.prototype.constructor=RangeError,e.prototype.name="IndexError",e.prototype.isIndexError=!0,t.exports=e}),IndexError$1=interopDefault(IndexError),require$$0$10=Object.freeze({default:IndexError$1}),array$2=createCommonjsModule(function(t,e){function n(t,e,r){var i,o=t.length;if(o!=e[r])throw new u(o,e[r]);if(r<e.length-1){var a=r+1;for(i=0;i<o;i++){var s=t[i];if(!Array.isArray(s))throw new u(e.length-1,e.length,"<");n(t[i],e,a)}}else for(i=0;i<o;i++)if(Array.isArray(t[i]))throw new u(e.length+1,e.length,">")}function r(t,n,i,o){var a,s,u=t.length,l=n[i],c=Math.min(u,l);if(t.length=l,i<n.length-1){var f=i+1;for(a=0;a<c;a++)s=t[a],Array.isArray(s)||(s=[s],t[a]=s),r(s,n,f,o);for(a=c;a<l;a++)s=[],t[a]=s,r(s,n,f,o)}else{for(a=0;a<c;a++)for(;Array.isArray(t[a]);)t[a]=t[a][0];if(o!==e.UNINITIALIZED)for(a=c;a<l;a++)t[a]=o}}function i(t,e,n){var r,o;if(n<e){var a=n+1;for(r=0,o=t.length;r<o;r++)t[r]=i(t[r],e,a)}else for(;Array.isArray(t);)t=t[0];return t}function o(t,e,n){var r,i;if(Array.isArray(t)){var a=n+1;for(r=0,i=t.length;r<i;r++)t[r]=o(t[r],e,a)}else for(var s=n;s<e;s++)t=[t];return t}var a=interopDefault(require$$0$2),s=interopDefault(require$$4),u=(interopDefault(require$$1),interopDefault(require$$2$1),interopDefault(require$$0$9)),l=interopDefault(require$$0$10);e.size=function(t){for(var e=[];Array.isArray(t);)e.push(t.length),t=t[0];return e},e.validate=function(t,e){var r=0==e.length;if(r){if(Array.isArray(t))throw new u(t.length,0)}else n(t,e,0)},e.validateIndex=function(t,e){if(!a.isNumber(t)||!a.isInteger(t))throw new TypeError("Index must be an integer (value: "+t+")");if(t<0||"number"==typeof e&&t>=e)throw new l(t,e)},e.UNINITIALIZED={},e.resize=function(t,e,n){if(!Array.isArray(t)||!Array.isArray(e))throw new TypeError("Array expected");if(0===e.length)throw new Error("Resizing to scalar is not supported");e.forEach(function(t){if(!a.isNumber(t)||!a.isInteger(t)||t<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(e)+")")});var i=void 0!==n?n:0;return r(t,e,0,i),t},e.squeeze=function(t,n){for(var r=n||e.size(t);Array.isArray(t)&&1===t.length;)t=t[0],r.shift();for(var o=r.length;1===r[o-1];)o--;return o<r.length&&(t=i(t,o,0),r.length=o),t},e.unsqueeze=function(t,n,r,i){var a=i||e.size(t);if(r)for(var s=0;s<r;s++)t=[t],a.unshift(1);for(t=o(t,n,0);a.length<n;)a.push(1);return t},e.flatten=function(t){if(!Array.isArray(t))return t;var e=[];return t.forEach(function t(n){Array.isArray(n)?n.forEach(t):e.push(n)}),e},e.isArray=Array.isArray}),array$3=interopDefault(array$2),isArray=array$2.isArray,flatten=array$2.flatten,unsqueeze=array$2.unsqueeze,squeeze=array$2.squeeze,resize=array$2.resize,UNINITIALIZED=array$2.UNINITIALIZED,validateIndex=array$2.validateIndex,validate=array$2.validate,size=array$2.size,require$$7=Object.freeze({default:array$3,isArray:isArray,flatten:flatten,unsqueeze:unsqueeze,squeeze:squeeze,resize:resize,UNINITIALIZED:UNINITIALIZED,validateIndex:validateIndex,validate:validate,size:size}),boolean$1=createCommonjsModule(function(t,e){e.isBoolean=function(t){return"boolean"==typeof t}}),boolean$2=interopDefault(boolean$1),isBoolean=boolean$1.isBoolean,require$$6=Object.freeze({default:boolean$2,isBoolean:isBoolean}),_function=createCommonjsModule(function(t,e){e.memoize=function(t,e){return function n(){"object"!==babelHelpers.typeof(n.cache)&&(n.cache={});for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=e?e(r):JSON.stringify(r);return o in n.cache?n.cache[o]:n.cache[o]=t.apply(t,r)}},e.maxArgumentCount=function(t){return Object.keys(t.signatures||{}).reduce(function(t,e){var n=(e.match(/,/g)||[]).length+1;return Math.max(t,n)},-1)}}),_function$1=interopDefault(_function),maxArgumentCount=_function.maxArgumentCount,memoize=_function.memoize,require$$5=Object.freeze({default:_function$1,maxArgumentCount:maxArgumentCount,memoize:memoize}),index$7=createCommonjsModule(function(t,e){e.array=interopDefault(require$$7),e.boolean=interopDefault(require$$6),e.function=interopDefault(require$$5),e.number=interopDefault(require$$0$2),e.object=interopDefault(require$$1),e.string=interopDefault(require$$4),e.types=interopDefault(require$$2$1),e.emitter=interopDefault(require$$0$4)}),index$8=interopDefault(index$7),emitter$2=index$7.emitter,types=index$7.types,string$1=index$7.string,object$2=index$7.object,number$3=index$7.number,array$1=index$7.array,require$$2=Object.freeze({default:index$8,emitter:emitter$2,types:types,string:string$1,object:object$2,number:number$3,array:array$1}),Matrix=createCommonjsModule(function(t,e){function n(t,e,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator")}return i.prototype.type="Matrix",i.prototype.isMatrix=!0,i.storage=function(t){if(!o(t))throw new TypeError("format must be a string value");var e=i._storage[t];if(!e)throw new SyntaxError("Unsupported matrix storage format: "+t);return e},i._storage={},i.prototype.storage=function(){throw new Error("Cannot invoke storage on a Matrix interface")},i.prototype.datatype=function(){throw new Error("Cannot invoke datatype on a Matrix interface")},i.prototype.create=function(t,e){throw new Error("Cannot invoke create on a Matrix interface")},i.prototype.subset=function(t,e,n){throw new Error("Cannot invoke subset on a Matrix interface")},i.prototype.get=function(t){throw new Error("Cannot invoke get on a Matrix interface")},i.prototype.set=function(t,e,n){throw new Error("Cannot invoke set on a Matrix interface")},i.prototype.resize=function(t,e){throw new Error("Cannot invoke resize on a Matrix interface")},i.prototype.clone=function(){throw new Error("Cannot invoke clone on a Matrix interface")},i.prototype.size=function(){throw new Error("Cannot invoke size on a Matrix interface")},i.prototype.map=function(t,e){throw new Error("Cannot invoke map on a Matrix interface")},i.prototype.forEach=function(t){throw new Error("Cannot invoke forEach on a Matrix interface")},i.prototype.toArray=function(){throw new Error("Cannot invoke toArray on a Matrix interface")},i.prototype.valueOf=function(){throw new Error("Cannot invoke valueOf on a Matrix interface")},i.prototype.format=function(t){throw new Error("Cannot invoke format on a Matrix interface")},i.prototype.toString=function(){throw new Error("Cannot invoke toString on a Matrix interface")},i}var r=interopDefault(require$$2),i=r.string,o=i.isString;e.name="Matrix",e.path="type",e.factory=n}),Matrix$1=interopDefault(Matrix),factory$2=Matrix.factory,path$1=Matrix.path,name$2=Matrix.name,require$$1$3=Object.freeze({default:Matrix$1,factory:factory$2,path:path$1,name:name$2}),DenseMatrix=createCommonjsModule(function(t,e){function n(t,e,n,u){function d(t,e){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!h(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)"DenseMatrix"===t.type?(this._data=s.clone(t._data),this._size=s.clone(t._size),this._datatype=e||t._datatype):(this._data=t.toArray(),this._size=t.size(),this._datatype=e||t._datatype);else if(t&&l(t.data)&&l(t.size))this._data=t.data,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))this._data=b(t),this._size=a.size(this._data),a.validate(this._data,this._size),this._datatype=e;else{if(t)throw new TypeError("Unsupported type of data ("+r.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e}}function _(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var n=e.isScalar();if(n)return t.get(e.min());var r=e.size();if(r.length!=t._size.length)throw new i(r.length,t._size.length);for(var o=e.min(),a=e.max(),s=0,u=t._size.length;s<u;s++)p(o[s],t._size[s]),p(a[s],t._size[s]);return new d(m(t._data,e,r.length,0),t._datatype)}function m(t,e,n,r){var i=r==n-1,o=e.dimension(r);return i?o.map(function(e){return t[e]}).valueOf():o.map(function(i){var o=t[i];return m(o,e,n,r+1)}).valueOf()}function y(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var o,u=e.size(),l=e.isScalar();if(n&&n.isMatrix===!0?(o=n.size(),n=n.valueOf()):o=a.size(n),l){if(0!==o.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(u.length<t._size.length)throw new i(u.length,t._size.length,"<");if(o.length<u.length){for(var c=0,f=0;1===u[c]&&1===o[c];)c++;for(;1===u[c];)f++,c++;n=a.unsqueeze(n,u.length,f,o)}if(!s.deepEqual(u,o))throw new i(u,o,">");var h=e.max().map(function(t){return t+1});g(t,h,r);var p=u.length,d=0;v(t._data,e,n,p,d)}return t}function v(t,e,n,r,i){var o=i==r-1,a=e.dimension(i);o?a.forEach(function(e,r){p(e),t[e]=n[r[0]]}):a.forEach(function(o,a){p(o),v(t[o],e,n[a[0]],r,i+1)})}function g(t,e,n){for(var r=t._size.slice(0),i=!1;r.length<e.length;)r.push(0),i=!0;for(var o=0,a=e.length;o<a;o++)e[o]>r[o]&&(r[o]=e[o],i=!0);i&&w(t,r,n)}function b(t){for(var e=0,n=t.length;e<n;e++){var r=t[e];l(r)?t[e]=b(r):r&&r.isMatrix===!0&&(t[e]=b(r.valueOf()))}return t}var x=n(interopDefault(require$$1$3));d.prototype=new x,d.prototype.type="DenseMatrix",d.prototype.isDenseMatrix=!0,d.prototype.storage=function(){return"dense"},d.prototype.datatype=function(){return this._datatype},d.prototype.create=function(t,e){return new d(t,e)},d.prototype.subset=function(t,e,n){switch(arguments.length){case 1:return _(this,t);case 2:case 3:return y(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}},d.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new i(t.length,this._size.length);for(var e=0;e<t.length;e++)p(t[e],this._size[e]);for(var n=this._data,r=0,o=t.length;r<o;r++){var a=t[r];p(a,n.length),n=n[a]}return n},d.prototype.set=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(t.length<this._size.length)throw new i(t.length,this._size.length,"<");var r,o,a,s=t.map(function(t){return t+1});g(this,s,n);var u=this._data;for(r=0,o=t.length-1;r<o;r++)a=t[r],p(a,u.length),u=u[a];return a=t[t.length-1],p(a,u.length),u[a]=e,this},d.prototype.resize=function(t,e,n){if(!l(t))throw new TypeError("Array expected");var r=n?this.clone():this;return w(r,t,e)};var w=function(t,e,n){if(0===e.length){for(var r=t._data;l(r);)r=r[0];return r}return t._size=e.slice(0),t._data=a.resize(t._data,t._size,n),t};return d.prototype.clone=function(){var t=new d({data:s.clone(this._data),size:s.clone(this._size),datatype:this._datatype});return t},d.prototype.size=function(){return this._size.slice(0)},d.prototype.map=function(t){var e=this,n=function n(r,i){return l(r)?r.map(function(t,e){return n(t,i.concat(e))}):t(r,i,e)};return new d({data:n(this._data,[]),size:s.clone(this._size),datatype:this._datatype})},d.prototype.forEach=function(t){var e=this,n=function n(r,i){l(r)?r.forEach(function(t,e){n(t,i.concat(e))}):t(r,i,e)};n(this._data,[])},d.prototype.toArray=function(){return s.clone(this._data)},d.prototype.valueOf=function(){return this._data},d.prototype.format=function(t){return o.format(this._data,t)},d.prototype.toString=function(){return o.format(this._data)},d.prototype.toJSON=function(){return{mathjs:"DenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},d.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!c(t)||!f(t))throw new TypeError("The parameter k must be an integer number")}else t=0;for(var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=0;s<o;s++)a[s]=this._data[s+n][s+e];return new d({data:a,size:[o],datatype:this._datatype})},d.diagonal=function(e,n,r,i,o){if(!l(e))throw new TypeError("Array expected, size parameter");if(2!==e.length)throw new Error("Only two dimensions matrix are supported");if(e=e.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!c(t)||!f(t)||t<1)throw new Error("Size values must be positive integers");return t}),r){if(r&&r.isBigNumber===!0&&(r=r.toNumber()),!c(r)||!f(r))throw new TypeError("The parameter k must be an integer number")}else r=0;i&&h(o)&&(i=u.convert(i,o));var s,p=r>0?r:0,_=r<0?-r:0,m=e[0],y=e[1],v=Math.min(m-_,y-p);if(l(n)){if(n.length!==v)throw new Error("Invalid value array length");s=function(t){return n[t]}}else if(n&&n.isMatrix===!0){var g=n.size();if(1!==g.length||g[0]!==v)throw new Error("Invalid matrix length");s=function(t){return n.get([t])}}else s=function(){return n};i||(i=s(0)&&s(0).isBigNumber===!0?new t.BigNumber(0):0);var b=[];if(e.length>0){b=a.resize(b,e,i);for(var x=0;x<v;x++)b[x+_][x+p]=s(x)}return new d({data:b,size:[m,y]})},d.fromJSON=function(t){return new d(t)},d.prototype.swapRows=function(t,e){if(!(c(t)&&f(t)&&c(e)&&f(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return p(t,this._size[0]),p(e,this._size[0]),d._swapRows(t,e,this._data),this},d._swapRows=function(t,e,n){var r=n[t];n[t]=n[e],n[e]=r},t.Matrix._storage.dense=d,t.Matrix._storage.default=d,d}var r=interopDefault(require$$2),i=interopDefault(require$$0$9),o=r.string,a=r.array,s=r.object,u=r.number,l=Array.isArray,c=u.isNumber,f=u.isInteger,h=o.isString,p=a.validateIndex;e.name="DenseMatrix",e.path="type",e.factory=n,e.lazy=!1}),DenseMatrix$1=interopDefault(DenseMatrix),lazy$2=DenseMatrix.lazy,factory$3=DenseMatrix.factory,path$2=DenseMatrix.path,name$3=DenseMatrix.name,require$$1$4=Object.freeze({default:DenseMatrix$1,lazy:lazy$2,factory:factory$3,path:path$2,name:name$3}),nearlyEqual$1=createCommonjsModule(function(t){t.exports=function(t,e,n){if(null==n)return t.eq(e);if(t.eq(e))return!0;if(t.isNaN()||e.isNaN())return!1;if(t.isFinite()&&e.isFinite()){var r=t.minus(e).abs();if(r.isZero())return!0;var i=t.constructor.max(t.abs(),e.abs());return r.lte(i.times(n))}return!1}}),nearlyEqual$2=interopDefault(nearlyEqual$1),require$$7$1=Object.freeze({default:nearlyEqual$2}),equalScalar=createCommonjsModule(function(t,e){function n(t,e,n,o){var a=o("equalScalar",{"boolean, boolean":function(t,e){return t===e},"number, number":function(t,n){return t===n||r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.eq(n)||i(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.equals(e)},"Complex, Complex":function(t,e){return t.equals(e)},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return a(t.value,e.value)},"string, string":function(t,e){return t===e}});return a}var r=interopDefault(require$$0$2).nearlyEqual,i=interopDefault(require$$7$1);e.factory=n}),equalScalar$1=interopDefault(equalScalar),factory$5=equalScalar.factory,require$$0$11=Object.freeze({default:equalScalar$1,factory:factory$5
}),SparseMatrix=createCommonjsModule(function(t,e){function n(t,e,n,d){function _(t,e){if(!(this instanceof _))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!h(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0)v(this,t,e);else if(t&&l(t.index)&&l(t.ptr)&&l(t.size))this._values=t.values,this._index=t.index,this._ptr=t.ptr,this._size=t.size,this._datatype=e||t.datatype;else if(l(t))g(this,t,e);else{if(t)throw new TypeError("Unsupported type of data ("+r.types.type(t)+")");this._values=[],this._index=[],this._ptr=[0],this._size=[0,0],this._datatype=e}}var m=n(interopDefault(require$$1$3)),y=n(interopDefault(require$$0$11)),v=function(t,e,n){"SparseMatrix"===e.type?(t._values=e._values?a.clone(e._values):void 0,t._index=a.clone(e._index),t._ptr=a.clone(e._ptr),t._size=a.clone(e._size),t._datatype=n||e._datatype):g(t,e.valueOf(),n||e._datatype)},g=function(t,e,n){t._values=[],t._index=[],t._ptr=[],t._datatype=n;var r=e.length,i=0,o=y,a=0;if(h(n)&&(o=d.find(y,[n,n])||y,a=d.convert(0,n)),r>0){var s=0;do{t._ptr.push(t._index.length);for(var u=0;u<r;u++){var c=e[u];if(l(c)){if(0===s&&i<c.length&&(i=c.length),s<c.length){var f=c[s];o(f,a)||(t._values.push(f),t._index.push(u))}}else 0===s&&i<1&&(i=1),o(c,a)||(t._values.push(c),t._index.push(u))}s++}while(s<i)}t._ptr.push(t._index.length),t._size=[r,i]};_.prototype=new m,_.prototype.type="SparseMatrix",_.prototype.isSparseMatrix=!0,_.prototype.storage=function(){return"sparse"},_.prototype.datatype=function(){return this._datatype},_.prototype.create=function(t,e){return new _(t,e)},_.prototype.density=function(){var t=this._size[0],e=this._size[1];return 0!==t&&0!==e?this._index.length/(t*e):0},_.prototype.subset=function(t,e,n){if(!this._values)throw new Error("Cannot invoke subset on a Pattern only matrix");switch(arguments.length){case 1:return b(this,t);case 2:case 3:return x(this,t,e,n);default:throw new SyntaxError("Wrong number of arguments")}};var b=function(t,e){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var n=e.isScalar();if(n)return t.get(e.min());var r=e.size();if(r.length!=t._size.length)throw new i(r.length,t._size.length);var o,a,s,u,l=e.min(),c=e.max();for(o=0,a=t._size.length;o<a;o++)p(l[o],t._size[o]),p(c[o],t._size[o]);var f=t._values,h=t._index,d=t._ptr,m=e.dimension(0),y=e.dimension(1),v=[],g=[];m.forEach(function(t,e){g[t]=e[0],v[t]=!0});var b=f?[]:void 0,x=[],w=[];return y.forEach(function(t){for(w.push(x.length),s=d[t],u=d[t+1];s<u;s++)o=h[s],v[o]===!0&&(x.push(g[o]),b&&b.push(f[s]))}),w.push(x.length),new _({values:b,index:x,ptr:w,size:r,datatype:t._datatype})},x=function(t,e,n,r){if(!e||e.isIndex!==!0)throw new TypeError("Invalid index");var s,u=e.size(),l=e.isScalar();if(n&&n.isMatrix===!0?(s=n.size(),n=n.toArray()):s=o.size(n),l){if(0!==s.length)throw new TypeError("Scalar expected");t.set(e.min(),n,r)}else{if(1!==u.length&&2!==u.length)throw new i(u.length,t._size.length,"<");if(s.length<u.length){for(var c=0,f=0;1===u[c]&&1===s[c];)c++;for(;1===u[c];)f++,c++;n=o.unsqueeze(n,u.length,f,s)}if(!a.deepEqual(u,s))throw new i(u,s,">");for(var h=e.min()[0],p=e.min()[1],d=s[0],_=s[1],m=0;m<d;m++)for(var y=0;y<_;y++){var v=n[m][y];t.set([m+h,y+p],v,r)}}return t};_.prototype.get=function(t){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new i(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke get on a Pattern only matrix");var e=t[0],n=t[1];p(e,this._size[0]),p(n,this._size[1]);var r=w(e,this._ptr[n],this._ptr[n+1],this._index);return r<this._ptr[n+1]&&this._index[r]===e?this._values[r]:0},_.prototype.set=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(t.length!=this._size.length)throw new i(t.length,this._size.length);if(!this._values)throw new Error("Cannot invoke set on a Pattern only matrix");var r=t[0],o=t[1],a=this._size[0],s=this._size[1],u=y,c=0;h(this._datatype)&&(u=d.find(y,[this._datatype,this._datatype])||y,c=d.convert(0,this._datatype)),(r>a-1||o>s-1)&&(M(this,Math.max(r+1,a),Math.max(o+1,s),n),a=this._size[0],s=this._size[1]),p(r,a),p(o,s);var f=w(r,this._ptr[o],this._ptr[o+1],this._index);return f<this._ptr[o+1]&&this._index[f]===r?u(e,c)?$(f,o,this._values,this._index,this._ptr):this._values[f]=e:E(f,r,o,e,this._values,this._index,this._ptr),this};var w=function(t,e,n,r){if(n-e===0)return n;for(var i=e;i<n;i++)if(r[i]===t)return i;return e},$=function(t,e,n,r,i){n.splice(t,1),r.splice(t,1);for(var o=e+1;o<i.length;o++)i[o]--},E=function(t,e,n,r,i,o,a){i.splice(t,0,r),o.splice(t,0,e);for(var s=n+1;s<a.length;s++)a[s]++};_.prototype.resize=function(t,e,n){if(!l(t))throw new TypeError("Array expected");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");t.forEach(function(e){if(!u.isNumber(e)||!u.isInteger(e)||e<0)throw new TypeError("Invalid size, must contain positive integers (size: "+s.format(t)+")")});var r=n?this.clone():this;return M(r,t[0],t[1],e)};var M=function(t,e,n,r){var i=r||0,o=y,a=0;h(t._datatype)&&(o=d.find(y,[t._datatype,t._datatype])||y,a=d.convert(0,t._datatype),i=d.convert(i,t._datatype));var s,u,l,c=!o(i,a),f=t._size[0],p=t._size[1];if(n>p){for(u=p;u<n;u++)if(t._ptr[u]=t._values.length,c)for(s=0;s<f;s++)t._values.push(i),t._index.push(s);t._ptr[n]=t._values.length}else n<p&&(t._ptr.splice(n+1,p-n),t._values.splice(t._ptr[n],t._values.length),t._index.splice(t._ptr[n],t._index.length));if(p=n,e>f){if(c){var _=0;for(u=0;u<p;u++){t._ptr[u]=t._ptr[u]+_,l=t._ptr[u+1]+_;var m=0;for(s=f;s<e;s++,m++)t._values.splice(l+m,0,i),t._index.splice(l+m,0,s),_++}t._ptr[p]=t._values.length}}else if(e<f){var v=0;for(u=0;u<p;u++){t._ptr[u]=t._ptr[u]-v;var g=t._ptr[u],b=t._ptr[u+1]-v;for(l=g;l<b;l++)s=t._index[l],s>e-1&&(t._values.splice(l,1),t._index.splice(l,1),v++)}t._ptr[u]=t._values.length}return t._size[0]=e,t._size[1]=n,t};_.prototype.clone=function(){var t=new _({values:this._values?a.clone(this._values):void 0,index:a.clone(this._index),ptr:a.clone(this._ptr),size:a.clone(this._size),datatype:this._datatype});return t},_.prototype.size=function(){return this._size.slice(0)},_.prototype.map=function(t,e){if(!this._values)throw new Error("Cannot invoke map on a Pattern only matrix");var n=this,r=this._size[0],i=this._size[1],o=function(e,r,i){return t(e,[r,i],n)};return A(this,0,r-1,0,i-1,o,e)};var A=function(t,e,n,r,i,o,a){var s=[],u=[],l=[],c=y,f=0;h(t._datatype)&&(c=d.find(y,[t._datatype,t._datatype])||y,f=d.convert(0,t._datatype));for(var p=function(t,e,n){t=o(t,e,n),c(t,f)||(s.push(t),u.push(e))},m=r;m<=i;m++){l.push(s.length);for(var v=t._ptr[m],g=t._ptr[m+1],b=e,x=v;x<g;x++){var w=t._index[x];if(w>=e&&w<=n){if(!a)for(var $=b;$<w;$++)p(0,$-e,m-r);p(t._values[x],w-e,m-r)}b=w+1}if(!a)for(var E=b;E<=n;E++)p(0,E-e,m-r)}return l.push(s.length),new _({values:s,index:u,ptr:l,size:[n-e+1,i-r+1]})};_.prototype.forEach=function(t,e){if(!this._values)throw new Error("Cannot invoke forEach on a Pattern only matrix");for(var n=this,r=this._size[0],i=this._size[1],o=0;o<i;o++){for(var a=this._ptr[o],s=this._ptr[o+1],u=0,l=a;l<s;l++){var c=this._index[l];if(!e)for(var f=u;f<c;f++)t(0,[f,o],n);t(this._values[l],[c,o],n),u=c+1}if(!e)for(var h=u;h<r;h++)t(0,[h,o],n)}},_.prototype.toArray=function(){return C(this._values,this._index,this._ptr,this._size,!0)},_.prototype.valueOf=function(){return C(this._values,this._index,this._ptr,this._size,!1)};var C=function(t,e,n,r,i){var o,s,u=r[0],l=r[1],c=[];for(o=0;o<u;o++)for(c[o]=[],s=0;s<l;s++)c[o][s]=0;for(s=0;s<l;s++)for(var f=n[s],h=n[s+1],p=f;p<h;p++)o=e[p],c[o][s]=t?i?a.clone(t[p]):t[p]:1;return c};return _.prototype.format=function(t){for(var e=this._size[0],n=this._size[1],r=this.density(),i="Sparse Matrix ["+s.format(e,t)+" x "+s.format(n,t)+"] density: "+s.format(r,t)+"\n",o=0;o<n;o++)for(var a=this._ptr[o],u=this._ptr[o+1],l=a;l<u;l++){var c=this._index[l];i+="\n    ("+s.format(c,t)+", "+s.format(o,t)+") ==> "+(this._values?s.format(this._values[l],t):"X")}return i},_.prototype.toString=function(){return s.format(this.toArray())},_.prototype.toJSON=function(){return{mathjs:"SparseMatrix",values:this._values,index:this._index,ptr:this._ptr,size:this._size,datatype:this._datatype}},_.prototype.diagonal=function(t){if(t){if(t.isBigNumber===!0&&(t=t.toNumber()),!c(t)||!f(t))throw new TypeError("The parameter k must be an integer number")}else t=0;var e=t>0?t:0,n=t<0?-t:0,r=this._size[0],i=this._size[1],o=Math.min(r-n,i-e),a=[],s=[],u=[];u[0]=0;for(var l=e;l<i&&a.length<o;l++)for(var h=this._ptr[l],p=this._ptr[l+1],d=h;d<p;d++){var m=this._index[d];if(m===l-e+n){a.push(this._values[d]),s[a.length-1]=m-n;break}}return u.push(a.length),new _({values:a,index:s,ptr:u,size:[o,1]})},_.fromJSON=function(t){return new _(t)},_.diagonal=function(t,e,n,r,i){if(!l(t))throw new TypeError("Array expected, size parameter");if(2!==t.length)throw new Error("Only two dimensions matrix are supported");if(t=t.map(function(t){if(t&&t.isBigNumber===!0&&(t=t.toNumber()),!c(t)||!f(t)||t<1)throw new Error("Size values must be positive integers");return t}),n){if(n.isBigNumber===!0&&(n=n.toNumber()),!c(n)||!f(n))throw new TypeError("The parameter k must be an integer number")}else n=0;var o=y,a=0;h(i)&&(o=d.find(y,[i,i])||y,a=d.convert(0,i));var s,u=n>0?n:0,p=n<0?-n:0,m=t[0],v=t[1],g=Math.min(m-p,v-u);if(l(e)){if(e.length!==g)throw new Error("Invalid value array length");s=function(t){return e[t]}}else if(e&&e.isMatrix===!0){var b=e.size();if(1!==b.length||b[0]!==g)throw new Error("Invalid matrix length");s=function(t){return e.get([t])}}else s=function(){return e};for(var x=[],w=[],$=[],E=0;E<v;E++){$.push(x.length);var M=E-u;if(M>=0&&M<g){var A=s(M);o(A,a)||(w.push(M+p),x.push(A))}}return $.push(x.length),new _({values:x,index:w,ptr:$,size:[m,v]})},_.prototype.swapRows=function(t,e){if(!(c(t)&&f(t)&&c(e)&&f(e)))throw new Error("Row index must be positive integers");if(2!==this._size.length)throw new Error("Only two dimensional matrix is supported");return p(t,this._size[0]),p(e,this._size[0]),_._swapRows(t,e,this._size[1],this._values,this._index,this._ptr),this},_._forEachRow=function(t,e,n,r,i){for(var o=r[t],a=r[t+1],s=o;s<a;s++)i(n[s],e[s])},_._swapRows=function(t,e,n,r,i,o){for(var a=0;a<n;a++){var s=o[a],u=o[a+1],l=w(t,s,u,i),c=w(e,s,u,i);if(l<u&&c<u&&i[l]===t&&i[c]===e){if(r){var f=r[l];r[l]=r[c],r[c]=f}}else if(l<u&&i[l]===t&&(c>=u||i[c]!==e)){var h=r?r[l]:void 0;i.splice(c,0,e),r&&r.splice(c,0,h),i.splice(c<=l?l+1:l,1),r&&r.splice(c<=l?l+1:l,1)}else if(c<u&&i[c]===e&&(l>=u||i[l]!==t)){var p=r?r[c]:void 0;i.splice(l,0,t),r&&r.splice(l,0,p),i.splice(l<=c?c+1:c,1),r&&r.splice(l<=c?c+1:c,1)}}},t.Matrix._storage.sparse=_,_}var r=interopDefault(require$$2),i=interopDefault(require$$0$9),o=r.array,a=r.object,s=r.string,u=r.number,l=Array.isArray,c=u.isNumber,f=u.isInteger,h=s.isString,p=o.validateIndex;e.name="SparseMatrix",e.path="type",e.factory=n,e.lazy=!1}),SparseMatrix$1=interopDefault(SparseMatrix),lazy$3=SparseMatrix.lazy,factory$4=SparseMatrix.factory,path$3=SparseMatrix.path,name$4=SparseMatrix.name,require$$8=Object.freeze({default:SparseMatrix$1,lazy:lazy$3,factory:factory$4,path:path$3,name:name$4}),matrix=createCommonjsModule(function(t,e){function n(t,e,n,r){function i(e,n,r){var i=t.Matrix.storage(n||"default");return new i(e,r)}var o=r("matrix",{"":function(){return i([])},string:function(t){return i([],t)},"string, string":function(t,e){return i([],t,e)},Array:function(t){return i(t)},Matrix:function(t){return i(t,t.storage())},"Array | Matrix, string":i,"Array | Matrix, string, string":i});return o.toTex={0:"\\begin{bmatrix}\\end{bmatrix}",1:"\\left(${args[0]}\\right)",2:"\\left(${args[0]}\\right)"},o}e.name="matrix",e.factory=n}),matrix$1=interopDefault(matrix),factory$8=matrix.factory,name$7=matrix.name,require$$6$1=Object.freeze({default:matrix$1,factory:factory$8,name:name$7}),addScalar=createCommonjsModule(function(t,e){function n(t,e,n,r){var i=r("add",{"number, number":function(t,e){return t+e},"Complex, Complex":function(t,e){return t.add(e)},"BigNumber, BigNumber":function(t,e){return t.plus(e)},"Fraction, Fraction":function(t,e){return t.add(e)},"Unit, Unit":function(t,e){if(null==t.value)throw new Error("Parameter x contains a unit with undefined value");if(null==e.value)throw new Error("Parameter y contains a unit with undefined value");if(!t.equalBase(e))throw new Error("Units do not match");var n=t.clone();return n.value=i(n.value,e.value),n.fixPrefix=!1,n}});return i}e.factory=n}),addScalar$1=interopDefault(addScalar),factory$9=addScalar.factory,require$$6$2=Object.freeze({default:addScalar$1,factory:factory$9}),latex=createCommonjsModule(function(t,e){e.symbols={Alpha:"A",alpha:"\\alpha",Beta:"B",beta:"\\beta",Gamma:"\\Gamma",gamma:"\\gamma",Delta:"\\Delta",delta:"\\delta",Epsilon:"E",epsilon:"\\epsilon",varepsilon:"\\varepsilon",Zeta:"Z",zeta:"\\zeta",Eta:"H",eta:"\\eta",Theta:"\\Theta",theta:"\\theta",vartheta:"\\vartheta",Iota:"I",iota:"\\iota",Kappa:"K",kappa:"\\kappa",varkappa:"\\varkappa",Lambda:"\\Lambda",lambda:"\\lambda",Mu:"M",mu:"\\mu",Nu:"N",nu:"\\nu",Xi:"\\Xi",xi:"\\xi",Omicron:"O",omicron:"o",Pi:"\\Pi",pi:"\\pi",varpi:"\\varpi",Rho:"P",rho:"\\rho",varrho:"\\varrho",Sigma:"\\Sigma",sigma:"\\sigma",varsigma:"\\varsigma",Tau:"T",tau:"\\tau",Upsilon:"\\Upsilon",upsilon:"\\upsilon",Phi:"\\Phi",phi:"\\phi",varphi:"\\varphi",Chi:"X",chi:"\\chi",Psi:"\\Psi",psi:"\\psi",Omega:"\\Omega",omega:"\\omega",true:"\\mathrm{True}",false:"\\mathrm{False}",i:"i",inf:"\\infty",Inf:"\\infty",infinity:"\\infty",Infinity:"\\infty",oo:"\\infty",lim:"\\lim",undefined:"\\mathbf{?}"},e.operators={transpose:"^\\top",factorial:"!",pow:"^",dotPow:".^\\wedge",unaryPlus:"+",unaryMinus:"-",bitNot:"~",not:"\\neg",multiply:"\\cdot",divide:"\\frac",dotMultiply:".\\cdot",dotDivide:".:",mod:"\\mod",add:"+",subtract:"-",to:"\\rightarrow",leftShift:"<<",rightArithShift:">>",rightLogShift:">>>",equal:"=",unequal:"\\neq",smaller:"<",larger:">",smallerEq:"\\leq",largerEq:"\\geq",bitAnd:"\\&",bitXor:"\\underline{|}",bitOr:"|",and:"\\wedge",xor:"\\veebar",or:"\\vee"},e.defaultTemplate="\\mathrm{${name}}\\left(${args}\\right)";var n={deg:"^\\circ"};e.toSymbol=function(t,r){if(r="undefined"!=typeof r&&r)return n.hasOwnProperty(t)?n[t]:"\\mathrm{"+t+"}";if(e.symbols.hasOwnProperty(t))return e.symbols[t];if(t.indexOf("_")!==-1){var i=t.indexOf("_");return e.toSymbol(t.substring(0,i))+"_{"+e.toSymbol(t.substring(i+1))+"}"}return t}}),latex$1=interopDefault(latex),toSymbol=latex.toSymbol,defaultTemplate=latex.defaultTemplate,operators=latex.operators,symbols$2=latex.symbols,require$$0$12=Object.freeze({default:latex$1,toSymbol:toSymbol,defaultTemplate:defaultTemplate,operators:operators,symbols:symbols$2}),algorithm01=createCommonjsModule(function(t,e){function n(t,e,n,i){var o=t.DenseMatrix,a=function(t,e,n,a){var s=t._data,u=t._size,l=t._datatype,c=e._values,f=e._index,h=e._ptr,p=e._size,d=e._datatype;if(u.length!==p.length)throw new r(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,m,y=u[0],v=u[1],g="string"==typeof l&&l===d?l:void 0,b=g?i.find(n,[g,g]):n,x=[];for(_=0;_<y;_++)x[_]=[];var w=[],$=[];for(m=0;m<v;m++){for(var E=m+1,M=h[m],A=h[m+1],C=M;C<A;C++)_=f[C],w[_]=a?b(c[C],s[_][m]):b(s[_][m],c[C]),$[_]=E;for(_=0;_<y;_++)$[_]===E?x[_][m]=w[_]:x[_][m]=s[_][m]}return new o({data:x,size:[y,v],datatype:g})};return a}var r=interopDefault(require$$0$9);e.name="algorithm01",e.factory=n}),algorithm01$1=interopDefault(algorithm01),factory$10=algorithm01.factory,name$8=algorithm01.name,require$$4$1=Object.freeze({default:algorithm01$1,factory:factory$10,name:name$8}),algorithm04=createCommonjsModule(function(t,e){function n(t,e,n,i){var o=n(interopDefault(require$$0$11)),a=t.SparseMatrix,s=function(t,e,n){var s=t._values,u=t._index,l=t._ptr,c=t._size,f=t._datatype,h=e._values,p=e._index,d=e._ptr,_=e._size,m=e._datatype;if(c.length!==_.length)throw new r(c.length,_.length);if(c[0]!==_[0]||c[1]!==_[1])throw new RangeError("Dimension mismatch. Matrix A ("+c+") must match Matrix B ("+_+")");var y,v=c[0],g=c[1],b=o,x=0,w=n;"string"==typeof f&&f===m&&(y=f,b=i.find(o,[y,y]),x=i.convert(0,y),w=i.find(n,[y,y]));var $,E,M,A,C,N=s&&h?[]:void 0,T=[],S=[],O=new a({values:N,index:T,ptr:S,size:[v,g],datatype:y}),D=s&&h?[]:void 0,k=s&&h?[]:void 0,z=[],j=[];for(E=0;E<g;E++){S[E]=T.length;var P=E+1;for(A=l[E],C=l[E+1],M=A;M<C;M++)$=u[M],T.push($),z[$]=P,D&&(D[$]=s[M]);for(A=d[E],C=d[E+1],M=A;M<C;M++)if($=p[M],z[$]===P){if(D){var L=w(D[$],h[M]);b(L,x)?z[$]=null:D[$]=L}}else T.push($),j[$]=P,k&&(k[$]=h[M]);if(D&&k)for(M=S[E];M<T.length;)$=T[M],z[$]===P?(N[M]=D[$],M++):j[$]===P?(N[M]=k[$],M++):T.splice(M,1)}return S[g]=T.length,O};return s}var r=interopDefault(require$$0$9);e.name="algorithm04",e.factory=n}),algorithm04$1=interopDefault(algorithm04),factory$11=algorithm04.factory,name$9=algorithm04.name,require$$3$1=Object.freeze({default:algorithm04$1,factory:factory$11,name:name$9}),algorithm10=createCommonjsModule(function(t,e){function n(t,e,n,r){var i=t.DenseMatrix,o=function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=l[0],p=l[1],d=n;"string"==typeof c&&(f=c,e=r.convert(e,f),d=r.find(n,[f,f]));for(var _=[],m=new i({data:_,size:[h,p],datatype:f}),y=[],v=[],g=0;g<p;g++){for(var b=g+1,x=u[g],w=u[g+1],$=x;$<w;$++){var E=s[$];y[E]=a[$],v[E]=b}for(var M=0;M<h;M++)0===g&&(_[M]=[]),v[M]===b?_[M][g]=o?d(e,y[M]):d(y[M],e):_[M][g]=e}return m};return o}e.name="algorithm10",e.factory=n}),algorithm10$1=interopDefault(algorithm10),factory$12=algorithm10.factory,name$10=algorithm10.name,require$$2$2=Object.freeze({default:algorithm10$1,factory:factory$12,name:name$10}),algorithm13=createCommonjsModule(function(t,e){function n(t,e,n,r){var o=t.DenseMatrix,a=function(t,e,n){var a=t._data,u=t._size,l=t._datatype,c=e._data,f=e._size,h=e._datatype,p=[];if(u.length!==f.length)throw new i(u.length,f.length);for(var d=0;d<u.length;d++){if(u[d]!==f[d])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+f+")");p[d]=u[d]}var _,m=n;"string"==typeof l&&l===h&&(_=l,e=r.convert(e,_),m=r.find(n,[_,_]));var y=p.length>0?s(m,0,p,p[0],a,c):[];return new o({data:y,size:p,datatype:_})},s=function t(e,n,r,i,o,a){var s=[];if(n===r.length-1)for(var u=0;u<i;u++)s[u]=e(o[u],a[u]);else for(var l=0;l<i;l++)s[l]=t(e,n+1,r,r[n+1],o[l],a[l]);return s};return a}var r=interopDefault(require$$2),i=interopDefault(require$$0$9),o=r.string;o.isString;e.name="algorithm13",e.factory=n}),algorithm13$1=interopDefault(algorithm13),factory$13=algorithm13.factory,name$11=algorithm13.name,require$$2$3=Object.freeze({default:algorithm13$1,factory:factory$13,name:name$11}),algorithm14=createCommonjsModule(function(t,e){function n(t,e,n,i){var o=t.DenseMatrix,a=function(t,e,n,a){var u,l=t._data,c=t._size,f=t._datatype,h=n;"string"==typeof f&&(u=f,e=i.convert(e,u),h=i.find(n,[u,u]));var p=c.length>0?s(h,0,c,c[0],l,e,a):[];return new o({data:p,size:r(c),datatype:u})},s=function t(e,n,r,i,o,a,s){var u=[];if(n===r.length-1)for(var l=0;l<i;l++)u[l]=s?e(a,o[l]):e(o[l],a);else for(var c=0;c<i;c++)u[c]=t(e,n+1,r,r[n+1],o[c],a,s);return u};return a}var r=interopDefault(require$$1).clone;e.name="algorithm14",e.factory=n}),algorithm14$1=interopDefault(algorithm14),factory$14=algorithm14.factory,name$12=algorithm14.name,require$$1$6=Object.freeze({default:algorithm14$1,factory:factory$14,name:name$12}),add=createCommonjsModule(function(t,e){function n(t,e,n,i){var o=n(interopDefault(require$$6$1)),a=n(interopDefault(require$$6$2)),s=interopDefault(require$$0$12),u=n(interopDefault(require$$4$1)),l=n(interopDefault(require$$3$1)),c=n(interopDefault(require$$2$2)),f=n(interopDefault(require$$2$3)),h=n(interopDefault(require$$1$6)),p=i("add",r({"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=l(t,e,a);break;default:n=u(e,t,a,!0)}break;default:switch(e.storage()){case"sparse":n=u(t,e,a,!1);break;default:n=f(t,e,a)}}return n},"Array, Array":function(t,e){return p(o(t),o(e)).valueOf()},"Array, Matrix":function(t,e){return p(o(t),e)},"Matrix, Array":function(t,e){return p(t,o(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=c(t,e,a,!1);break;default:n=h(t,e,a,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=c(e,t,a,!0);break;default:n=h(e,t,a,!0)}return n},"Array, any":function(t,e){return h(o(t),e,a,!1).valueOf()},"any, Array":function(t,e){return h(o(e),t,a,!0).valueOf()}},a.signatures));return p.toTex={2:"\\left(${args[0]}"+s.operators.add+"${args[1]}\\right)"},p}var r=interopDefault(require$$1).extend;e.name="add",e.factory=n}),add$1=interopDefault(add),factory$7=add.factory,name$6=add.name,require$$1$5=Object.freeze({default:add$1,factory:factory$7,name:name$6}),Spa=createCommonjsModule(function(t,e){function n(t,e,n){function r(){if(!(this instanceof r))throw new SyntaxError("Constructor must be called with the new operator");this._values=[],this._heap=new t.FibonacciHeap}var i=n(interopDefault(require$$1$5)),o=n(interopDefault(require$$0$11));return r.prototype.type="Spa",r.prototype.isSpa=!0,r.prototype.set=function(t,e){if(this._values[t])this._values[t].value=e;else{var n=this._heap.insert(t,e);this._values[t]=n}},r.prototype.get=function(t){var e=this._values[t];return e?e.value:0},r.prototype.accumulate=function(t,e){var n=this._values[t];n?n.value=i(n.value,e):(n=this._heap.insert(t,e),this._values[t]=n)},r.prototype.forEach=function(t,e,n){var r=this._heap,i=this._values,a=[],s=r.extractMinimum();for(s&&a.push(s);s&&s.key<=e;)s.key>=t&&(o(s.value,0)||n(s.key,s.value,this)),s=r.extractMinimum(),s&&a.push(s);for(var u=0;u<a.length;u++){var l=a[u];s=r.insert(l.key,l.value),i[s.key]=s}},r.prototype.swap=function(t,e){var n=this._values[t],r=this._values[e];if(!n&&r)n=this._heap.insert(t,r.value),this._heap.remove(r),this._values[t]=n,this._values[e]=void 0;else if(n&&!r)r=this._heap.insert(e,n.value),this._heap.remove(n),this._values[e]=r,this._values[t]=void 0;else if(n&&r){var i=n.value;n.value=r.value,r.value=i}},r}e.name="Spa",e.path="type",e.factory=n}),Spa$1=interopDefault(Spa),factory$6=Spa.factory,path$4=Spa.path,name$5=Spa.name,require$$7$2=Object.freeze({default:Spa$1,factory:factory$6,path:path$4,name:name$5}),algorithm03=createCommonjsModule(function(t,e){function n(t,e,n,i){var o=t.DenseMatrix,a=function(t,e,n,a){var s=t._data,u=t._size,l=t._datatype,c=e._values,f=e._index,h=e._ptr,p=e._size,d=e._datatype;if(u.length!==p.length)throw new r(u.length,p.length);if(u[0]!==p[0]||u[1]!==p[1])throw new RangeError("Dimension mismatch. Matrix A ("+u+") must match Matrix B ("+p+")");if(!c)throw new Error("Cannot perform operation on Dense Matrix and Pattern Sparse Matrix");var _,m=u[0],y=u[1],v=0,g=n;"string"==typeof l&&l===d&&(_=l,v=i.convert(0,_),g=i.find(n,[_,_]));for(var b=[],x=0;x<m;x++)b[x]=[];for(var w=[],$=[],E=0;E<y;E++){for(var M=E+1,A=h[E],C=h[E+1],N=A;N<C;N++){var T=f[N];w[T]=a?g(c[N],s[T][E]):g(s[T][E],c[N]),$[T]=M}for(var S=0;S<m;S++)$[S]===M?b[S][E]=w[S]:b[S][E]=a?g(v,s[S][E]):g(s[S][E],v)}return new o({data:b,size:[m,y],datatype:_})};return a}var r=interopDefault(require$$0$9);e.name="algorithm03",e.factory=n}),algorithm03$1=interopDefault(algorithm03),factory$17=algorithm03.factory,name$15=algorithm03.name,require$$5$1=Object.freeze({default:algorithm03$1,factory:factory$17,name:name$15}),algorithm07=createCommonjsModule(function(t,e){function n(t,e,n,i){var o=t.DenseMatrix,a=function(t,e,n){var a=t._size,u=t._datatype,l=e._size,c=e._datatype;if(a.length!==l.length)throw new r(a.length,l.length);if(a[0]!==l[0]||a[1]!==l[1])throw new RangeError("Dimension mismatch. Matrix A ("+a+") must match Matrix B ("+l+")");var f,h=a[0],p=a[1],d=0,_=n;"string"==typeof u&&u===c&&(f=u,d=i.convert(0,f),_=i.find(n,[f,f]));var m,y,v=[];for(m=0;m<h;m++)v[m]=[];var g=new o({data:v,size:[h,p],datatype:f}),b=[],x=[],w=[],$=[];for(y=0;y<p;y++){var E=y+1;for(s(t,y,w,b,E),s(e,y,$,x,E),m=0;m<h;m++){var M=w[m]===E?b[m]:d,A=$[m]===E?x[m]:d;v[m][y]=_(M,A)}}return g},s=function(t,e,n,r,i){for(var o=t._values,a=t._index,s=t._ptr,u=s[e],l=s[e+1];u<l;u++){var c=a[u];n[c]=i,r[c]=o[u]}};return a}var r=interopDefault(require$$0$9);e.name="algorithm07",e.factory=n}),algorithm07$1=interopDefault(algorithm07),factory$18=algorithm07.factory,name$16=algorithm07.name,require$$4$2=Object.freeze({default:algorithm07$1,factory:factory$18,name:name$16}),algorithm12=createCommonjsModule(function(t,e){function n(t,e,n,r){var i=t.DenseMatrix,o=function(t,e,n,o){var a=t._values,s=t._index,u=t._ptr,l=t._size,c=t._datatype;if(!a)throw new Error("Cannot perform operation on Pattern Sparse Matrix and Scalar value");var f,h=l[0],p=l[1],d=n;"string"==typeof c&&(f=c,e=r.convert(e,f),d=r.find(n,[f,f]));for(var _=[],m=new i({data:_,size:[h,p],datatype:f}),y=[],v=[],g=0;g<p;g++){for(var b=g+1,x=u[g],w=u[g+1],$=x;$<w;$++){var E=s[$];y[E]=a[$],v[E]=b}for(var M=0;M<h;M++)0===g&&(_[M]=[]),v[M]===b?_[M][g]=o?d(e,y[M]):d(y[M],e):_[M][g]=o?d(e,0):d(0,e)}return m};return o}e.name="algorithm12",e.factory=n}),algorithm12$1=interopDefault(algorithm12),factory$19=algorithm12.factory,name$17=algorithm12.name,require$$3$2=Object.freeze({default:algorithm12$1,factory:factory$19,name:name$17}),smaller=createCommonjsModule(function(t,e){function n(t,e,n,o){var a=n(interopDefault(require$$6$1)),s=n(interopDefault(require$$5$1)),u=n(interopDefault(require$$4$2)),l=n(interopDefault(require$$3$2)),c=n(interopDefault(require$$2$3)),f=n(interopDefault(require$$1$6)),h=interopDefault(require$$0$12),p=o("smaller",{"boolean, boolean":function(t,e){return t<e},"number, number":function(t,n){return t<n&&!r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.lt(n)&&!i(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return t.compare(e)===-1},"Complex, Complex":function(t,e){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return p(t.value,e.value)},"string, string":function(t,e){return t<e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,p);break;default:n=s(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,p,!1);break;default:n=c(t,e,p)}}return n},"Array, Array":function(t,e){return p(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return p(a(t),e)},"Matrix, Array":function(t,e){return p(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,p,!1);break;default:n=f(t,e,p,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,p,!0);break;default:n=f(e,t,p,!0)}return n},"Array, any":function(t,e){return f(a(t),e,p,!1).valueOf()},"any, Array":function(t,e){return f(a(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+h.operators.smaller+"${args[1]}\\right)"},p}var r=interopDefault(require$$0$2).nearlyEqual,i=interopDefault(require$$7$1);e.name="smaller",e.factory=n}),smaller$1=interopDefault(smaller),factory$16=smaller.factory,name$14=smaller.name,require$$0$13=Object.freeze({default:smaller$1,factory:factory$16,name:name$14}),larger=createCommonjsModule(function(t,e){function n(t,e,n,o){var a=n(interopDefault(require$$6$1)),s=n(interopDefault(require$$5$1)),u=n(interopDefault(require$$4$2)),l=n(interopDefault(require$$3$2)),c=n(interopDefault(require$$2$3)),f=n(interopDefault(require$$1$6)),h=interopDefault(require$$0$12),p=o("larger",{"boolean, boolean":function(t,e){return t>e},"number, number":function(t,n){return t>n&&!r(t,n,e.epsilon)},"BigNumber, BigNumber":function(t,n){return t.gt(n)&&!i(t,n,e.epsilon)},"Fraction, Fraction":function(t,e){return 1===t.compare(e)},"Complex, Complex":function(){throw new TypeError("No ordering relation is defined for complex numbers")},"Unit, Unit":function(t,e){if(!t.equalBase(e))throw new Error("Cannot compare units with different base");return p(t.value,e.value)},"string, string":function(t,e){return t>e},"Matrix, Matrix":function(t,e){var n;switch(t.storage()){case"sparse":switch(e.storage()){case"sparse":n=u(t,e,p);break;default:n=s(e,t,p,!0)}break;default:switch(e.storage()){case"sparse":n=s(t,e,p,!1);break;default:n=c(t,e,p)}}return n},"Array, Array":function(t,e){return p(a(t),a(e)).valueOf()},"Array, Matrix":function(t,e){return p(a(t),e)},"Matrix, Array":function(t,e){return p(t,a(e))},"Matrix, any":function(t,e){var n;switch(t.storage()){case"sparse":n=l(t,e,p,!1);break;default:n=f(t,e,p,!1)}return n},"any, Matrix":function(t,e){var n;switch(e.storage()){case"sparse":n=l(e,t,p,!0);break;default:n=f(e,t,p,!0)}return n},"Array, any":function(t,e){return f(a(t),e,p,!1).valueOf()},"any, Array":function(t,e){return f(a(e),t,p,!0).valueOf()}});return p.toTex={2:"\\left(${args[0]}"+h.operators.larger+"${args[1]}\\right)"},p}var r=interopDefault(require$$0$2).nearlyEqual,i=interopDefault(require$$7$1);e.name="larger",e.factory=n}),larger$1=interopDefault(larger),factory$20=larger.factory,name$18=larger.name,require$$0$14=Object.freeze({default:larger$1,factory:factory$20,name:name$18}),FibonacciHeap=createCommonjsModule(function(t,e){function n(t,e,n,r){function i(){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");this._minimum=null,this._size=0}var o=n(interopDefault(require$$0$13)),a=n(interopDefault(require$$0$14)),s=1/Math.log((1+Math.sqrt(5))/2);i.prototype.type="FibonacciHeap",i.prototype.isFibonacciHeap=!0,i.prototype.insert=function(t,e){var n={key:t,value:e,degree:0};if(this._minimum){var r=this._minimum;n.left=r,n.right=r.right,r.right=n,n.right.left=n,o(t,r.key)&&(this._minimum=n)}else n.left=n,n.right=n,this._minimum=n;return this._size++,n},i.prototype.size=function(){return this._size},i.prototype.clear=function(){this._minimum=null,this._size=0},i.prototype.isEmpty=function(){return!!this._minimum},i.prototype.extractMinimum=function(){var t=this._minimum;if(null===t)return t;for(var e=this._minimum,n=t.degree,r=t.child;n>0;){var i=r.right;r.left.right=r.right,r.right.left=r.left,r.left=e,r.right=e.right,e.right=r,r.right.left=r,r.parent=null,r=i,n--}return t.left.right=t.right,t.right.left=t.left,t==t.right?e=null:(e=t.right,e=h(e,this._size)),this._size--,this._minimum=e,t},i.prototype.remove=function(t){this._minimum=u(this._minimum,t,-1),this.extractMinimum()};var u=function(t,e,n){e.key=n;var r=e.parent;return r&&o(e.key,r.key)&&(l(t,e,r),c(t,r)),o(e.key,t.key)&&(t=e),t},l=function(t,e,n){e.left.right=e.right,e.right.left=e.left,n.degree--,n.child==e&&(n.child=e.right),0===n.degree&&(n.child=null),e.left=t,e.right=t.right,t.right=e,e.right.left=e,e.parent=null,e.mark=!1},c=function t(e,n){var r=n.parent;r&&(n.mark?(l(e,n,r),t(r)):n.mark=!0)},f=function(t,e){t.left.right=t.right,t.right.left=t.left,t.parent=e,e.child?(t.left=e.child,t.right=e.child.right,e.child.right=t,t.right.left=t):(e.child=t,t.right=t,t.left=t),e.degree++,t.mark=!1},h=function(t,e){var n=Math.floor(Math.log(e)*s)+1,r=new Array(n),i=0,u=t;if(u)for(i++,u=u.right;u!==t;)i++,u=u.right;for(var l;i>0;){for(var c=u.degree,h=u.right;;){if(l=r[c],!l)break;if(a(u.key,l.key)){var p=l;l=u,u=p}f(l,u),r[c]=null,c++}r[c]=u,u=h,i--}t=null;for(var d=0;d<n;d++)l=r[d],l&&(t?(l.left.right=l.right,l.right.left=l.left,l.left=t,l.right=t.right,t.right=l,l.right.left=l,o(l.key,t.key)&&(t=l)):t=l);return t};return i}e.name="FibonacciHeap",e.path="type",e.factory=n}),FibonacciHeap$1=interopDefault(FibonacciHeap),factory$15=FibonacciHeap.factory,path$5=FibonacciHeap.path,name$13=FibonacciHeap.name,require$$6$3=Object.freeze({default:FibonacciHeap$1,factory:factory$15,path:path$5,name:name$13
}),ImmutableDenseMatrix=createCommonjsModule(function(t,e){function n(t,e,n){function i(t,e){if(!(this instanceof i))throw new SyntaxError("Constructor must be called with the new operator");if(e&&!s(e))throw new Error("Invalid datatype: "+e);if(t&&t.isMatrix===!0||a(t)){var n=new u(t,e);this._data=n._data,this._size=n._size,this._datatype=n._datatype,this._min=null,this._max=null}else if(t&&a(t.data)&&a(t.size))this._data=t.data,this._size=t.size,this._datatype=t.datatype,this._min="undefined"!=typeof t.min?t.min:null,this._max="undefined"!=typeof t.max?t.max:null;else{if(t)throw new TypeError("Unsupported type of data ("+r.types.type(t)+")");this._data=[],this._size=[0],this._datatype=e,this._min=null,this._max=null}}var u=n(interopDefault(require$$1$4)),l=n(interopDefault(require$$0$13));return i.prototype=new u,i.prototype.type="ImmutableDenseMatrix",i.prototype.isImmutableDenseMatrix=!0,i.prototype.subset=function(t){switch(arguments.length){case 1:var e=u.prototype.subset.call(this,t);return e.isMatrix?new i({data:e._data,size:e._size,datatype:e._datatype}):e;case 2:case 3:throw new Error("Cannot invoke set subset on an Immutable Matrix instance");default:throw new SyntaxError("Wrong number of arguments")}},i.prototype.set=function(){throw new Error("Cannot invoke set on an Immutable Matrix instance")},i.prototype.resize=function(){throw new Error("Cannot invoke resize on an Immutable Matrix instance")},i.prototype.clone=function(){var t=new i({data:o.clone(this._data),size:o.clone(this._size),datatype:this._datatype});return t},i.prototype.toJSON=function(){return{mathjs:"ImmutableDenseMatrix",data:this._data,size:this._size,datatype:this._datatype}},i.fromJSON=function(t){return new i(t)},i.prototype.swapRows=function(){throw new Error("Cannot invoke swapRows on an Immutable Matrix instance")},i.prototype.min=function(){if(null===this._min){var t=null;this.forEach(function(e){(null===t||l(e,t))&&(t=e)}),this._min=null!==t?t:void 0}return this._min},i.prototype.max=function(){if(null===this._max){var t=null;this.forEach(function(e){(null===t||l(t,e))&&(t=e)}),this._max=null!==t?t:void 0}return this._max},i}var r=interopDefault(require$$2),i=r.string,o=r.object,a=Array.isArray,s=i.isString;e.name="ImmutableDenseMatrix",e.path="type",e.factory=n}),ImmutableDenseMatrix$1=interopDefault(ImmutableDenseMatrix),factory$21=ImmutableDenseMatrix.factory,path$6=ImmutableDenseMatrix.path,name$19=ImmutableDenseMatrix.name,require$$5$2=Object.freeze({default:ImmutableDenseMatrix$1,factory:factory$21,path:path$6,name:name$19}),MatrixIndex=createCommonjsModule(function(t,e){function n(t){function e(t){if(!(this instanceof e))throw new SyntaxError("Constructor must be called with the new operator");this._dimensions=[],this._isScalar=!0;for(var r=0,i=arguments.length;r<i;r++){var o=arguments[r];if(o&&o.isRange===!0)this._dimensions.push(o),this._isScalar=!1;else if(o&&(Array.isArray(o)||o.isMatrix===!0)){var a=n(o.valueOf());this._dimensions.push(a);var s=a.size();1===s.length&&1===s[0]||(this._isScalar=!1)}else if("number"==typeof o)this._dimensions.push(n([o]));else{if("string"!=typeof o)throw new TypeError("Dimension must be an Array, Matrix, number, string, or Range");this._dimensions.push(o)}}}function n(e){for(var n=0,r=e.length;n<r;n++)if("number"!=typeof e[n]||!i(e[n]))throw new TypeError("Index parameters must be positive integer numbers");return new t.ImmutableDenseMatrix(e)}return e.prototype.type="Index",e.prototype.isIndex=!0,e.prototype.clone=function(){var t=new e;return t._dimensions=r(this._dimensions),t._isScalar=this._isScalar,t},e.create=function(t){var n=new e;return e.apply(n,t),n},e.prototype.size=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?1:r.size()[0]}return t},e.prototype.max=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.max()}return t},e.prototype.min=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t[e]="string"==typeof r?r:r.min()}return t},e.prototype.forEach=function(t){for(var e=0,n=this._dimensions.length;e<n;e++)t(this._dimensions[e],e,this)},e.prototype.dimension=function(t){return this._dimensions[t]||null},e.prototype.isObjectProperty=function(){return 1===this._dimensions.length&&"string"==typeof this._dimensions[0]},e.prototype.getObjectProperty=function(){return this.isObjectProperty()?this._dimensions[0]:null},e.prototype.isScalar=function(){return this._isScalar},e.prototype.toArray=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];t.push("string"==typeof r?r:r.toArray())}return t},e.prototype.valueOf=e.prototype.toArray,e.prototype.toString=function(){for(var t=[],e=0,n=this._dimensions.length;e<n;e++){var r=this._dimensions[e];"string"==typeof r?t.push(JSON.stringify(r)):t.push(r.toString())}return"["+t.join(", ")+"]"},e.prototype.toJSON=function(){return{mathjs:"Index",dimensions:this._dimensions}},e.fromJSON=function(t){return e.create(t.dimensions)},e}var r=interopDefault(require$$1).clone,i=interopDefault(require$$0$2).isInteger;e.name="Index",e.path="type",e.factory=n}),MatrixIndex$1=interopDefault(MatrixIndex),factory$22=MatrixIndex.factory,path$7=MatrixIndex.path,name$20=MatrixIndex.name,require$$4$3=Object.freeze({default:MatrixIndex$1,factory:factory$22,path:path$7,name:name$20}),Range=createCommonjsModule(function(t,e){function n(t,e,n,i){function o(t,e,n){if(!(this instanceof o))throw new SyntaxError("Constructor must be called with the new operator");if(null!=t)if(t.isBigNumber===!0)t=t.toNumber();else if("number"!=typeof t)throw new TypeError("Parameter start must be a number");if(null!=e)if(e.isBigNumber===!0)e=e.toNumber();else if("number"!=typeof e)throw new TypeError("Parameter end must be a number");if(null!=n)if(n.isBigNumber===!0)n=n.toNumber();else if("number"!=typeof n)throw new TypeError("Parameter step must be a number");this.start=null!=t?parseFloat(t):0,this.end=null!=e?parseFloat(e):0,this.step=null!=n?parseFloat(n):1}return o.prototype.type="Range",o.prototype.isRange=!0,o.parse=function(t){if("string"!=typeof t)return null;var e=t.split(":"),n=e.map(function(t){return parseFloat(t)}),r=n.some(function(t){return isNaN(t)});if(r)return null;switch(n.length){case 2:return new o(n[0],n[1]);case 3:return new o(n[0],n[2],n[1]);default:return null}},o.prototype.clone=function(){return new o(this.start,this.end,this.step)},o.prototype.size=function(){var t=0,e=this.start,n=this.step,i=this.end,o=i-e;return r.sign(n)==r.sign(o)?t=Math.ceil(o/n):0==o&&(t=0),isNaN(t)&&(t=0),[t]},o.prototype.min=function(){var t=this.size()[0];return t>0?this.step>0?this.start:this.start+(t-1)*this.step:void 0},o.prototype.max=function(){var t=this.size()[0];return t>0?this.step>0?this.start+(t-1)*this.step:this.start:void 0},o.prototype.forEach=function(t){var e=this.start,n=this.step,r=this.end,i=0;if(n>0)for(;e<r;)t(e,[i],this),e+=n,i++;else if(n<0)for(;e>r;)t(e,[i],this),e+=n,i++},o.prototype.map=function(t){var e=[];return this.forEach(function(n,r,i){e[r[0]]=t(n,r,i)}),e},o.prototype.toArray=function(){var t=[];return this.forEach(function(e,n){t[n[0]]=e}),t},o.prototype.valueOf=function(){return this.toArray()},o.prototype.format=function(t){var e=r.format(this.start,t);return 1!=this.step&&(e+=":"+r.format(this.step,t)),e+=":"+r.format(this.end,t)},o.prototype.toString=function(){return this.format()},o.prototype.toJSON=function(){return{mathjs:"Range",start:this.start,end:this.end,step:this.step}},o.fromJSON=function(t){return new o(t.start,t.end,t.step)},o}var r=interopDefault(require$$0$2);e.name="Range",e.path="type",e.factory=n}),Range$1=interopDefault(Range),factory$23=Range.factory,path$8=Range.path,name$21=Range.name,require$$3$3=Object.freeze({default:Range$1,factory:factory$23,path:path$8,name:name$21}),index$9=createCommonjsModule(function(t,e){function n(t,e,n,r){return r("index",{"...number | string | BigNumber | Range | Array | Matrix":function(e){var n=e.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t&&(Array.isArray(t)||t.isMatrix===!0)?t.map(function(t){return t&&t.isBigNumber===!0?t.toNumber():t}):t}),r=new t.Index;return t.Index.apply(r,n),r}})}e.name="index",e.factory=n}),index$10=interopDefault(index$9),factory$24=index$9.factory,name$22=index$9.name,require$$2$4=Object.freeze({default:index$10,factory:factory$24,name:name$22}),sparse$1=createCommonjsModule(function(t,e){function n(t,e,n,r){var i=t.SparseMatrix,o=r("sparse",{"":function(){return new i([])},string:function(t){return new i([],t)},"Array | Matrix":function(t){return new i(t)},"Array | Matrix, string":function(t,e){return new i(t,e)}});return o.toTex={0:"\\begin{bsparse}\\end{bsparse}",1:"\\left(${args[0]}\\right)"},o}e.name="sparse",e.factory=n}),sparse$2=interopDefault(sparse$1),factory$25=sparse$1.factory,name$23=sparse$1.name,require$$0$15=Object.freeze({default:sparse$2,factory:factory$25,name:name$23}),index$6=createCommonjsModule(function(t){t.exports=[interopDefault(require$$1$3),interopDefault(require$$1$4),interopDefault(require$$8),interopDefault(require$$7$2),interopDefault(require$$6$3),interopDefault(require$$5$2),interopDefault(require$$4$3),interopDefault(require$$3$3),interopDefault(require$$2$4),interopDefault(require$$6$1),interopDefault(require$$0$15)]}),matrices=interopDefault(index$6),math=core$1.create();math.import(matrices);var css$2="\n// path {\n//   stroke: var(--color);\n//   // fill: var(--color);\n//   stroke-width: var(--thickness);\n//   fill:none\n// }\n// marker path {\n//   stroke: var(--color);\n//   stroke-width: 2px;\n//   fill: var(--color);\n// }\nsvg {\n  width: 100%;\n  height: 100%;\n  left:0; top:0;\n  position: fixed;\n  overflow: hidden;\n  z-index: -1;\n}\n",setupSVG=function(t){t=select(t),t.append("svg:g").attr("class","links");var e=t.append("svg:defs");e.append("svg:marker").attr("id","end-arrow").attr("viewBox","0 -5 10 10").attr("refX",10).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").classed("marker",!0).attr("d","M0,-5L10,0L0,5L0,-5"),e.append("svg:marker").attr("id","start-arrow").attr("viewBox","0 -5 10 10").attr("refX",0).attr("markerWidth",5).attr("markerHeight",5).attr("orient","auto").append("svg:path").classed("marker",!0).attr("d","M10,-5L0,0L10,5L10,-5")},_detached=Symbol(),animate$1=function t(e){e.dispatchEvent(new Event("animate")),e[_detached]||setTimeout(function(){window.requestAnimationFrame(function(){t(e)})},1e3/e.fps)},svgElement=Symbol(),edgeData$1=Symbol(),animateCallback=Symbol(),refreshEdges=Symbol();window.edgeData=edgeData$1,window.svgElement=svgElement;var graphAllEdges={props:{fps:{attribute:!0,default:120},color:{attribute:!0,default:"yellow"},thickness:{attribute:!0,default:2}},setupSVG:setupSVG,svgEdge:function(t,e,n){var r=t.source.getBoundingClientRect(),i=t.target.getBoundingClientRect(),o=nearbyEdgePoints(r,i);return line().x(function(t){return t.x}).y(function(t){return t.y})(o)},refreshAnimation:function(t){var e=select(t[svgElement]).select("g").selectAll("path").data(t[edgeData$1]);e.exit().remove(),e.enter().append("svg:path").style("fill",function(e){return e.color?e.color:t.color}).style("stroke",function(e){return e.color?e.color:t.color}).style("stroke-width",function(e){return e.weight?e.weight*t.thickness:t.thickness}).style("marker-start",function(t){return t.direction<=0?"url(#start-arrow)":""}).style("marker-end",function(t){return t.direction>=0?"url(#end-arrow)":""}),e.attr("d",this.svgEdge).style("fill",function(e){return e.color?e.color:t.color}).style("stroke",function(e){return e.color?e.color:t.color}).style("stroke-width",function(e){return e.weight?e.weight*t.thickness:t.thickness}).style("marker-start",function(t){return t.direction<=0?"url(#start-arrow)":""}).style("marker-end",function(t){return t.direction>=0?"url(#end-arrow)":""});var n=select(t[svgElement]).select("defs").selectAll("marker").select("path");n.style("stroke",t.color).style("fill",t.color)},edges:function(t){var e=selectAll(t.parentElement.children).filter(function(t,e,n){return!n[e][edgeData$1]}).nodes();if(console.log("updating edges",e),e.length<2)return[];var n=cmb.combination(e,2).toArray();return n.map(function(t){return{source:t[0],target:t[1],direction:0}})},attached:function(t){var e=this;t[animateCallback]=function(){e.refreshAnimation(t)},animate$1(t),t[edgeData$1]=[],t[svgElement]=document.createElementNS(namespaces.svg,"svg"),this.setupSVG(t[svgElement]),t[refreshEdges]=function(n){t[edgeData$1]=e.edges(t)},t.parentElement.addEventListener("graph-updated",t[refreshEdges])},detached:function(t){t[_detached]=!0,t.removeEventListener("animate",t[animateCallback])},attributeChanged:function(t){},render:function(t){return[h("div",{style:"display: none"},h("slot",{})),h("style",css$2)]},rendered:function(t){t[shadowRoot].appendChild(t[svgElement]),console.log("rendered"),t[edgeData$1]=this.edges(t),t.addEventListener("animate",t[animateCallback])}},EdgesAllPairs=define$1("edges-all-pairs",graphAllEdges),math$3=core$1.create();math$3.import(matrices),define$1("edges-adjacency-matrix",EdgesAllPairs.extend({edges:function edges(elem){console.log(elem);try{var adj=eval(elem.innerHTML)}catch(t){}var nodes=selectAll(elem.parentElement.children).filter(function(t,e,n){return!n[e][edgeData]}).nodes();if(nodes.length<2)return[];var edges=[[nodes[0],nodes[1]]];return edges=[],adj.forEach(function(t,e){t.forEach(function(t,n){1==t&&edges.push({source:nodes[e],target:nodes[n],direction:1})})}),console.log(edges),edges},render:function(t){return[h("div",{style:"display: none"},h("slot",{onSlotchange:t[refreshEdges]})),h("style",css$2)]}}));var puppyStyle="\n  div {\n    display: inline-block;\n    background-image: url(http://i.imgur.com/B2YwP9u.gif);\n    background-position: center;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 100px;\n    height: 150px;\n    border: solid deeppink 5px;\n  }\n  puppy-dog {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n  }\n  :host {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n  }\n";define$1("puppy-dog",{attached:function(t){startDragging(t)},detached:function(t){},render:function(t){return[h("div",""),h("style",puppyStyle)]},rendered:function(t){}})}();