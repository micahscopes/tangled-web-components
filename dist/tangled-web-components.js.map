{"version":3,"file":null,"sources":["../../../../../\u0000commonjsHelpers","../node_modules/skatejs-web-components/src/fix/safari.js","../node_modules/skatejs-web-components/src/native-shim.js","../../../../../\u0000babelHelpers","../node_modules/@webcomponents/custom-elements/custom-elements.min.js","../node_modules/@webcomponents/shadydom/shadydom.min.js","../node_modules/@webcomponents/shadycss/shadycss.min.js","../node_modules/skatejs-web-components/src/index.js","../node_modules/skatejs/src/util/is-type.js","../node_modules/skatejs/src/util/get-prop-names-and-symbols.js","../node_modules/skatejs/src/util/assign.js","../node_modules/skatejs/src/util/empty.js","../node_modules/skatejs/src/util/to-null-or-string.js","../node_modules/skatejs/src/util/symbols.js","../node_modules/incremental-dom/dist/incremental-dom-cjs.js","../node_modules/skatejs/src/util/prop-context.js","../node_modules/window-or-global/lib/index.js","../node_modules/skatejs/src/api/vdom.js","../node_modules/skatejs/src/util/create-symbol.js","../node_modules/skatejs/src/util/data.js","../node_modules/skatejs/src/util/native.js","../node_modules/skatejs/src/util/debounce.js","../node_modules/skatejs/src/util/deprecated.js","../node_modules/skatejs/src/util/attributes-manager.js","../node_modules/skatejs/src/util/get-own-property-descriptors.js","../node_modules/skatejs/src/util/dash-case.js","../node_modules/skatejs/src/util/error.js","../node_modules/skatejs/src/util/prop-definition.js","../node_modules/skatejs/src/util/set-ctor-native-property.js","../node_modules/skatejs/src/util/get-props-map.js","../node_modules/skatejs/src/api/props.js","../node_modules/skatejs/src/util/get-default-value.js","../node_modules/skatejs/src/util/get-initial-value.js","../node_modules/skatejs/src/util/get-prop-data.js","../node_modules/skatejs/src/lifecycle/props-init.js","../node_modules/skatejs/src/polyfills/object-is.js","../node_modules/skatejs/src/api/component.js","../node_modules/skatejs/src/util/unique-id.js","../node_modules/skatejs/src/api/define.js","../node_modules/skatejs/src/api/emit.js","../node_modules/skatejs/src/index.js","../node_modules/kefir/dist/kefir.js","../src/draggable.js","../src/handle-box.js","../src/detachable.js","../src/detached-box.js","../src/parentSelector.js","../src/graph-container.js","../node_modules/d3-selection/src/namespaces.js","../node_modules/d3-selection/src/namespace.js","../node_modules/d3-selection/src/creator.js","../node_modules/d3-selection/src/matcher.js","../node_modules/d3-selection/src/selection/on.js","../node_modules/d3-selection/src/selector.js","../node_modules/d3-selection/src/selection/select.js","../node_modules/d3-selection/src/selectorAll.js","../node_modules/d3-selection/src/selection/selectAll.js","../node_modules/d3-selection/src/selection/filter.js","../node_modules/d3-selection/src/selection/sparse.js","../node_modules/d3-selection/src/selection/enter.js","../node_modules/d3-selection/src/constant.js","../node_modules/d3-selection/src/selection/data.js","../node_modules/d3-selection/src/selection/exit.js","../node_modules/d3-selection/src/selection/merge.js","../node_modules/d3-selection/src/selection/order.js","../node_modules/d3-selection/src/selection/sort.js","../node_modules/d3-selection/src/selection/call.js","../node_modules/d3-selection/src/selection/nodes.js","../node_modules/d3-selection/src/selection/node.js","../node_modules/d3-selection/src/selection/size.js","../node_modules/d3-selection/src/selection/empty.js","../node_modules/d3-selection/src/selection/each.js","../node_modules/d3-selection/src/selection/attr.js","../node_modules/d3-selection/src/window.js","../node_modules/d3-selection/src/selection/style.js","../node_modules/d3-selection/src/selection/property.js","../node_modules/d3-selection/src/selection/classed.js","../node_modules/d3-selection/src/selection/text.js","../node_modules/d3-selection/src/selection/html.js","../node_modules/d3-selection/src/selection/raise.js","../node_modules/d3-selection/src/selection/lower.js","../node_modules/d3-selection/src/selection/append.js","../node_modules/d3-selection/src/selection/insert.js","../node_modules/d3-selection/src/selection/remove.js","../node_modules/d3-selection/src/selection/datum.js","../node_modules/d3-selection/src/selection/dispatch.js","../node_modules/d3-selection/src/selection/index.js","../node_modules/d3-selection/src/selectAll.js","../node_modules/d3-shape/src/math.js","../node_modules/d3-shape/src/symbol/triangle.js","../node_modules/d3-shape/src/noop.js","../node_modules/d3-shape/src/curve/basis.js","../node_modules/d3-shape/src/curve/bundle.js","../node_modules/d3-shape/src/curve/cardinal.js","../node_modules/d3-shape/src/curve/cardinalClosed.js","../node_modules/d3-shape/src/curve/cardinalOpen.js","../node_modules/d3-shape/src/curve/catmullRom.js","../node_modules/d3-shape/src/curve/catmullRomClosed.js","../node_modules/d3-shape/src/curve/catmullRomOpen.js","../node_modules/d3-shape/src/curve/monotone.js","../node_modules/js-combinatorics/combinatorics.js","../node_modules/victor/index.js","../src/nearbyRectEdges.js","../src/drawGraph.js","../node_modules/mathjs/lib/utils/object.js","../node_modules/typed-function/typed-function.js","../node_modules/mathjs/lib/utils/NumberFormatter.js","../node_modules/mathjs/lib/utils/number.js","../node_modules/mathjs/lib/core/typed.js","../node_modules/tiny-emitter/index.js","../node_modules/mathjs/lib/utils/emitter.js","../node_modules/mathjs/lib/error/ArgumentsError.js","../node_modules/mathjs/lib/core/function/import.js","../node_modules/mathjs/lib/core/function/config.js","../node_modules/mathjs/lib/core/core.js","../node_modules/mathjs/core.js","../node_modules/mathjs/lib/utils/bignumber/formatter.js","../node_modules/mathjs/lib/utils/string.js","../node_modules/mathjs/lib/utils/types.js","../node_modules/mathjs/lib/error/DimensionError.js","../node_modules/mathjs/lib/error/IndexError.js","../node_modules/mathjs/lib/utils/array.js","../node_modules/mathjs/lib/utils/boolean.js","../node_modules/mathjs/lib/utils/function.js","../node_modules/mathjs/lib/utils/index.js","../node_modules/mathjs/lib/type/matrix/Matrix.js","../node_modules/mathjs/lib/type/matrix/DenseMatrix.js","../node_modules/mathjs/lib/utils/bignumber/nearlyEqual.js","../node_modules/mathjs/lib/function/relational/equalScalar.js","../node_modules/mathjs/lib/type/matrix/SparseMatrix.js","../node_modules/mathjs/lib/type/matrix/function/matrix.js","../node_modules/mathjs/lib/function/arithmetic/addScalar.js","../node_modules/mathjs/lib/utils/latex.js","../node_modules/mathjs/lib/type/matrix/utils/algorithm01.js","../node_modules/mathjs/lib/type/matrix/utils/algorithm04.js","../node_modules/mathjs/lib/type/matrix/utils/algorithm10.js","../node_modules/mathjs/lib/type/matrix/utils/algorithm13.js","../node_modules/mathjs/lib/type/matrix/utils/algorithm14.js","../node_modules/mathjs/lib/function/arithmetic/add.js","../node_modules/mathjs/lib/type/matrix/Spa.js","../node_modules/mathjs/lib/type/matrix/utils/algorithm03.js","../node_modules/mathjs/lib/type/matrix/utils/algorithm07.js","../node_modules/mathjs/lib/type/matrix/utils/algorithm12.js","../node_modules/mathjs/lib/function/relational/smaller.js","../node_modules/mathjs/lib/function/relational/larger.js","../node_modules/mathjs/lib/type/matrix/FibonacciHeap.js","../node_modules/mathjs/lib/type/matrix/ImmutableDenseMatrix.js","../node_modules/mathjs/lib/type/matrix/MatrixIndex.js","../node_modules/mathjs/lib/type/matrix/Range.js","../node_modules/mathjs/lib/type/matrix/function/index.js","../node_modules/mathjs/lib/type/matrix/function/sparse.js","../node_modules/mathjs/lib/type/matrix/index.js","../src/edges-all-pairs.js","../src/edges-adjacency-matrix.js","../node_modules/d3-array/src/ascending.js","../node_modules/d3-array/src/bisector.js","../node_modules/d3-array/src/bisect.js","../node_modules/d3-color/src/define.js","../node_modules/d3-color/src/color.js","../node_modules/d3-color/src/math.js","../node_modules/d3-color/src/lab.js","../node_modules/d3-color/src/cubehelix.js","../node_modules/d3-interpolate/src/constant.js","../node_modules/d3-interpolate/src/color.js","../node_modules/d3-interpolate/src/rgb.js","../node_modules/d3-interpolate/src/cubehelix.js","../node_modules/d3-format/src/formatDecimal.js","../node_modules/d3-format/src/exponent.js","../node_modules/d3-format/src/formatGroup.js","../node_modules/d3-format/src/formatDefault.js","../node_modules/d3-format/src/formatPrefixAuto.js","../node_modules/d3-format/src/formatRounded.js","../node_modules/d3-format/src/formatTypes.js","../node_modules/d3-format/src/formatSpecifier.js","../node_modules/d3-format/src/locale.js","../node_modules/d3-format/src/defaultLocale.js","../node_modules/d3-time/src/interval.js","../node_modules/d3-time/src/millisecond.js","../node_modules/d3-time/src/duration.js","../node_modules/d3-time/src/second.js","../node_modules/d3-time/src/minute.js","../node_modules/d3-time/src/hour.js","../node_modules/d3-time/src/day.js","../node_modules/d3-time/src/week.js","../node_modules/d3-time/src/month.js","../node_modules/d3-time/src/year.js","../node_modules/d3-time/src/utcMinute.js","../node_modules/d3-time/src/utcHour.js","../node_modules/d3-time/src/utcDay.js","../node_modules/d3-time/src/utcWeek.js","../node_modules/d3-time/src/utcMonth.js","../node_modules/d3-time/src/utcYear.js","../node_modules/d3-time-format/src/locale.js","../node_modules/d3-time-format/src/defaultLocale.js","../node_modules/d3-time-format/src/isoFormat.js","../node_modules/d3-time-format/src/isoParse.js","../node_modules/d3-scale/src/colors.js","../node_modules/d3-scale/src/category10.js","../node_modules/d3-scale/src/category20b.js","../node_modules/d3-scale/src/category20c.js","../node_modules/d3-scale/src/category20.js","../node_modules/d3-scale/src/cubehelix.js","../node_modules/d3-scale/src/rainbow.js","../node_modules/d3-scale/src/viridis.js","../node_modules/floyd-warshall/src/index.js","../src/edges-modifier-hops.js","../src/puppy-dog.js","../src/basket-ball.js"],"sourcesContent":["\nexport var commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}\n\nexport function interopDefault(ex) {\n\treturn ex && typeof ex === 'object' && 'default' in ex ? ex['default'] : ex;\n}\n\nexport function createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}","const { HTMLElement, MutationObserver, navigator } = window;\nconst { userAgent } = navigator;\nconst safari = userAgent.indexOf('Safari/60') !== -1;\nconst safariVersion = safari && userAgent.match(/Version\\/([^\\s]+)/)[1];\nconst safariVersions = [0, 1].map(v => `10.0.${v}`).concat(['10.0']);\nconst patch = safari && safariVersions.indexOf(safariVersion) > -1;\n\n// Workaround for https://bugs.webkit.org/show_bug.cgi?id=160331\nfunction fixSafari () {\n  const oldAttachShadow = HTMLElement.prototype.attachShadow;\n\n  // We observe a shadow root, but only need to know if the target that was mutated is a <style>\n  // element as this is the only scenario where styles aren't recalculated.\n  const moOpts = { childList: true, subtree: true };\n  const mo = new MutationObserver((muts) => {\n    muts.forEach((mut) => {\n      const { target } = mut;\n      if (target.tagName === 'STYLE') {\n        const { nextSibling, parentNode } = target;\n\n        // We actually have to remove and subsequently re-insert rather than doing insertBefore()\n        // as it seems that doesn't trigger a recalc.\n        parentNode.removeChild(target);\n        parentNode.insertBefore(target, nextSibling);\n      }\n    });\n  });\n\n  // Our override simply calls the native (or overridden) attachShadow but it ensures that changes\n  // to it are observed so that we can take any <style> elements and re-insert them.\n  function newAttachShadow (opts) {\n    const sr = oldAttachShadow.call(this, opts);\n    mo.observe(sr, moOpts);\n    return sr;\n  }\n\n  // We have to define a property because Safari won't take the override if it is set directly.\n  Object.defineProperty(HTMLElement.prototype, 'attachShadow', {\n    // Ensure polyfills can override it (hoping they call it back).\n    configurable: true,\n    enumerable: true,\n    value: newAttachShadow,\n    writable: true\n  });\n}\n\n// We target a specific version of Safari instead of trying to but detect as it seems to involve\n// contriving a breaking case and detecting computed styles. We can remove this code when Safari\n// fixes the bug.\nif (patch) {\n  fixSafari();\n}\n\nexport default patch;\n","window.customElements && eval(`/**\n * @license\n * Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n * Code distributed by Google as part of the polymer project is also\n * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n */\n\n/**\n * This shim allows elements written in, or compiled to, ES5 to work on native\n * implementations of Custom Elements.\n *\n * ES5-style classes don't work with native Custom Elements because the\n * HTMLElement constructor uses the value of \\`new.target\\` to look up the custom\n * element definition for the currently called constructor. \\`new.target\\` is only\n * set when \\`new\\` is called and is only propagated via super() calls. super()\n * is not emulatable in ES5. The pattern of \\`SuperClass.call(this)\\`\\` only works\n * when extending other ES5-style classes, and does not propagate \\`new.target\\`.\n *\n * This shim allows the native HTMLElement constructor to work by generating and\n * registering a stand-in class instead of the users custom element class. This\n * stand-in class's constructor has an actual call to super().\n * \\`customElements.define()\\` and \\`customElements.get()\\` are both overridden to\n * hide this stand-in class from users.\n *\n * In order to create instance of the user-defined class, rather than the stand\n * in, the stand-in's constructor swizzles its instances prototype and invokes\n * the user-defined constructor. When the user-defined constructor is called\n * directly it creates an instance of the stand-in class to get a real extension\n * of HTMLElement and returns that.\n *\n * There are two important constructors: A patched HTMLElement constructor, and\n * the StandInElement constructor. They both will be called to create an element\n * but which is called first depends on whether the browser creates the element\n * or the user-defined constructor is called directly. The variables\n * \\`browserConstruction\\` and \\`userConstruction\\` control the flow between the\n * two constructors.\n *\n * This shim should be better than forcing the polyfill because:\n *   1. It's smaller\n *   2. All reaction timings are the same as native (mostly synchronous)\n *   3. All reaction triggering DOM operations are automatically supported\n *\n * There are some restrictions and requirements on ES5 constructors:\n *   1. All constructors in a inheritance hierarchy must be ES5-style, so that\n *      they can be called with Function.call(). This effectively means that the\n *      whole application must be compiled to ES5.\n *   2. Constructors must return the value of the emulated super() call. Like\n *      \\`return SuperClass.call(this)\\`\n *   3. The \\`this\\` reference should not be used before the emulated super() call\n *      just like \\`this\\` is illegal to use before super() in ES6.\n *   4. Constructors should not create other custom elements before the emulated\n *      super() call. This is the same restriction as with native custom\n *      elements.\n *\n *  Compiling valid class-based custom elements to ES5 will satisfy these\n *  requirements with the latest version of popular transpilers.\n */\n(() => {\n  'use strict';\n\n  const NativeHTMLElement = window.HTMLElement;\n  const nativeDefine = window.customElements.define;\n  const nativeGet = window.customElements.get;\n\n  /**\n   * Map of user-provided constructors to tag names.\n   *\n   * @type {Map<Function, string>}\n   */\n  const tagnameByConstructor = new Map();\n\n  /**\n   * Map of tag names to user-provided constructors.\n   *\n   * @type {Map<string, Function>}\n   */\n  const constructorByTagname = new Map();\n\n\n  /**\n   * Whether the constructors are being called by a browser process, ie parsing\n   * or createElement.\n   */\n  let browserConstruction = false;\n\n  /**\n   * Whether the constructors are being called by a user-space process, ie\n   * calling an element constructor.\n   */\n  let userConstruction = false;\n\n  window.HTMLElement = function() {\n    if (!browserConstruction) {\n      const tagname = tagnameByConstructor.get(this.constructor);\n      const fakeClass = nativeGet.call(window.customElements, tagname);\n\n      // Make sure that the fake constructor doesn't call back to this constructor\n      userConstruction = true;\n      const instance = new (fakeClass)();\n      return instance;\n    }\n    // Else do nothing. This will be reached by ES5-style classes doing\n    // HTMLElement.call() during initialization\n    browserConstruction = false;\n  };\n\n  window.HTMLElement.prototype = Object.create(NativeHTMLElement.prototype);\n  window.HTMLElement.prototype.constructor = window.HTMLElement;\n\n  window.customElements.define = (tagname, elementClass) => {\n    const elementProto = elementClass.prototype;\n    const StandInElement = class extends NativeHTMLElement {\n      constructor() {\n        // Call the native HTMLElement constructor, this gives us the\n        // under-construction instance as \\`this\\`:\n        super();\n\n        // The prototype will be wrong up because the browser used our fake\n        // class, so fix it:\n        Object.setPrototypeOf(this, elementProto);\n\n        if (!userConstruction) {\n          // Make sure that user-defined constructor bottom's out to a do-nothing\n          // HTMLElement() call\n          browserConstruction = true;\n          // Call the user-defined constructor on our instance:\n          elementClass.call(this);\n        }\n        userConstruction = false;\n      }\n    };\n    const standInProto = StandInElement.prototype;\n    StandInElement.observedAttributes = elementClass.observedAttributes;\n    standInProto.connectedCallback = elementProto.connectedCallback;\n    standInProto.disconnectedCallback = elementProto.disconnectedCallback;\n    standInProto.attributeChangedCallback = elementProto.attributeChangedCallback;\n    standInProto.adoptedCallback = elementProto.adoptedCallback;\n\n    tagnameByConstructor.set(elementClass, tagname);\n    constructorByTagname.set(tagname, elementClass);\n    nativeDefine.call(window.customElements, tagname, StandInElement);\n  };\n\n  window.customElements.get = (tagname) => constructorByTagname.get(tagname);\n\n})();`);\n","var babelHelpers = {};\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nexport var jsx = function () {\n  var REACT_ELEMENT_TYPE = typeof Symbol === \"function\" && Symbol.for && Symbol.for(\"react.element\") || 0xeac7;\n  return function createRawReactElement(type, props, key, children) {\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {};\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  };\n}();\n\nexport var asyncIterator = function (iterable) {\n  if (typeof Symbol === \"function\") {\n    if (Symbol.asyncIterator) {\n      var method = iterable[Symbol.asyncIterator];\n      if (method != null) return method.call(iterable);\n    }\n\n    if (Symbol.iterator) {\n      return iterable[Symbol.iterator]();\n    }\n  }\n\n  throw new TypeError(\"Object is not async iterable\");\n};\n\nexport var asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\nexport var asyncGeneratorDelegate = function (inner, awaitWrap) {\n  var iter = {},\n      waiting = false;\n\n  function pump(key, value) {\n    waiting = true;\n    value = new Promise(function (resolve) {\n      resolve(inner[key](value));\n    });\n    return {\n      done: false,\n      value: awaitWrap(value)\n    };\n  }\n\n  ;\n\n  if (typeof Symbol === \"function\" && Symbol.iterator) {\n    iter[Symbol.iterator] = function () {\n      return this;\n    };\n  }\n\n  iter.next = function (value) {\n    if (waiting) {\n      waiting = false;\n      return value;\n    }\n\n    return pump(\"next\", value);\n  };\n\n  if (typeof inner.throw === \"function\") {\n    iter.throw = function (value) {\n      if (waiting) {\n        waiting = false;\n        throw value;\n      }\n\n      return pump(\"throw\", value);\n    };\n  }\n\n  if (typeof inner.return === \"function\") {\n    iter.return = function (value) {\n      return pump(\"return\", value);\n    };\n  }\n\n  return iter;\n};\n\nexport var asyncToGenerator = function (fn) {\n  return function () {\n    var gen = fn.apply(this, arguments);\n    return new Promise(function (resolve, reject) {\n      function step(key, arg) {\n        try {\n          var info = gen[key](arg);\n          var value = info.value;\n        } catch (error) {\n          reject(error);\n          return;\n        }\n\n        if (info.done) {\n          resolve(value);\n        } else {\n          return Promise.resolve(value).then(function (value) {\n            step(\"next\", value);\n          }, function (err) {\n            step(\"throw\", err);\n          });\n        }\n      }\n\n      return step(\"next\");\n    });\n  };\n};\n\nexport var classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nexport var createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexport var defineEnumerableProperties = function (obj, descs) {\n  for (var key in descs) {\n    var desc = descs[key];\n    desc.configurable = desc.enumerable = true;\n    if (\"value\" in desc) desc.writable = true;\n    Object.defineProperty(obj, key, desc);\n  }\n\n  return obj;\n};\n\nexport var defaults = function (obj, defaults) {\n  var keys = Object.getOwnPropertyNames(defaults);\n\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n    if (value && value.configurable && obj[key] === undefined) {\n      Object.defineProperty(obj, key, value);\n    }\n  }\n\n  return obj;\n};\n\nexport var defineProperty = function (obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexport var get = function get(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\nexport var inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\n\nvar _instanceof = function (left, right) {\n  if (right != null && typeof Symbol !== \"undefined\" && right[Symbol.hasInstance]) {\n    return right[Symbol.hasInstance](left);\n  } else {\n    return left instanceof right;\n  }\n};\n\nexport var interopRequireDefault = function (obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n};\n\nexport var interopRequireWildcard = function (obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n};\n\nexport var newArrowCheck = function (innerThis, boundThis) {\n  if (innerThis !== boundThis) {\n    throw new TypeError(\"Cannot instantiate an arrow function\");\n  }\n};\n\nexport var objectDestructuringEmpty = function (obj) {\n  if (obj == null) throw new TypeError(\"Cannot destructure undefined\");\n};\n\nexport var objectWithoutProperties = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};\n\nexport var possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\nexport var selfGlobal = typeof global === \"undefined\" ? self : global;\n\nexport var set = function set(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      set(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n};\n\nexport var slicedToArray = function () {\n  function sliceIterator(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"]) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  return function (arr, i) {\n    if (Array.isArray(arr)) {\n      return arr;\n    } else if (Symbol.iterator in Object(arr)) {\n      return sliceIterator(arr, i);\n    } else {\n      throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n    }\n  };\n}();\n\nexport var slicedToArrayLoose = function (arr, i) {\n  if (Array.isArray(arr)) {\n    return arr;\n  } else if (Symbol.iterator in Object(arr)) {\n    var _arr = [];\n\n    for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done;) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  } else {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n  }\n};\n\nexport var taggedTemplateLiteral = function (strings, raw) {\n  return Object.freeze(Object.defineProperties(strings, {\n    raw: {\n      value: Object.freeze(raw)\n    }\n  }));\n};\n\nexport var taggedTemplateLiteralLoose = function (strings, raw) {\n  strings.raw = raw;\n  return strings;\n};\n\nexport var temporalRef = function (val, name, undef) {\n  if (val === undef) {\n    throw new ReferenceError(name + \" is not defined - temporal dead zone\");\n  } else {\n    return val;\n  }\n};\n\nexport var temporalUndefined = {};\n\nexport var toArray = function (arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n};\n\nexport var toConsumableArray = function (arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n};\n\nbabelHelpers;\n\nexport { _typeof as typeof, _extends as extends, _instanceof as instanceof }","/*\n\n Copyright (c) 2016 The Polymer Project Authors. All rights reserved.\n This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\n The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\n The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\n Code distributed by Google as part of the polymer project is also\n subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n'use strict';(function(){function c(){this.a=new Map;this.j=new Map;this.h=new Map;this.o=new Set;this.C=new MutationObserver(this.D.bind(this));this.f=null;this.F=new Set;this.enableFlush=!0;this.s=!1;this.m=null}function g(){return h.customElements}function k(a){if(!/^[a-z][.0-9_a-z]*-[\\-.0-9_a-z]*$/.test(a)||-1!==r.indexOf(a))return Error(\"The element name '\"+a+\"' is not valid.\")}function l(a,b,e,d){var c=g();a=e?m.call(a,b,e):m.call(a,b);(b=c.a.get(b.toLowerCase()))&&c.u(a,b,d);c.b(a);return a}\nfunction n(a,b,e,d){b=b.toLowerCase();var c=a.getAttribute(b);d.call(a,b,e);1==a.__$CE_upgraded&&(d=g().a.get(a.localName),e=d.A,(d=d.i)&&0<=e.indexOf(b)&&(e=a.getAttribute(b),e!==c&&d.call(a,b,c,e,null)))}var f=document,h=window;if(g()&&(g().g=function(){},!g().forcePolyfill))return;var r=\"annotation-xml color-profile font-face font-face-src font-face-uri font-face-format font-face-name missing-glyph\".split(\" \");c.prototype.L=function(a,b){function e(a){var b=f[a];if(void 0!==b&&\"function\"!==typeof b)throw Error(c+\n\" '\"+a+\"' is not a Function\");return b}if(\"function\"!==typeof b)throw new TypeError(\"constructor must be a Constructor\");var d=k(a);if(d)throw d;if(this.a.has(a))throw Error(\"An element with name '\"+a+\"' is already defined\");if(this.j.has(b))throw Error(\"Definition failed for '\"+a+\"': The constructor is already used.\");var c=a,f=b.prototype;if(\"object\"!==typeof f)throw new TypeError(\"Definition failed for '\"+a+\"': constructor.prototype must be an object\");var d=e(\"connectedCallback\"),g=e(\"disconnectedCallback\"),\nh=e(\"attributeChangedCallback\");this.a.set(c,{name:a,localName:c,constructor:b,v:d,w:g,i:h,A:h&&b.observedAttributes||[]});this.j.set(b,c);this.K();if(a=this.h.get(c))a.resolve(void 0),this.h.delete(c)};c.prototype.get=function(a){return(a=this.a.get(a))?a.constructor:void 0};c.prototype.M=function(a){var b=k(a);if(b)return Promise.reject(b);if(this.a.has(a))return Promise.resolve();if(b=this.h.get(a))return b.N;var e,d=new Promise(function(a){e=a}),b={N:d,resolve:e};this.h.set(a,b);return d};c.prototype.g=\nfunction(){this.enableFlush&&(this.l(this.m.takeRecords()),this.D(this.C.takeRecords()),this.o.forEach(function(a){this.l(a.takeRecords())},this))};c.prototype.K=function(){var a=this;if(!this.s){this.s=!0;var b=function(){a.s=!1;a.m||(a.m=a.b(f));a.c(f.childNodes)};window.HTMLImports?window.HTMLImports.whenReady(b):b()}};c.prototype.I=function(a){this.f=a};c.prototype.b=function(a){if(null!=a.__$CE_observer)return a.__$CE_observer;a.__$CE_observer=new MutationObserver(this.l.bind(this));a.__$CE_observer.observe(a,\n{childList:!0,subtree:!0});this.enableFlush&&this.o.add(a.__$CE_observer);return a.__$CE_observer};c.prototype.J=function(a){null!=a.__$CE_observer&&(a.__$CE_observer.disconnect(),this.enableFlush&&this.o.delete(a.__$CE_observer),a.__$CE_observer=null)};c.prototype.l=function(a){for(var b=0;b<a.length;b++){var e=a[b];if(\"childList\"===e.type){var d=e.removedNodes;this.c(e.addedNodes);this.H(d)}}};c.prototype.c=function(a,b){b=b||new Set;for(var e=0;e<a.length;e++){var d=a[e];if(d.nodeType===Node.ELEMENT_NODE){this.J(d);\nd=f.createTreeWalker(d,NodeFilter.SHOW_ELEMENT,null,!1);do this.G(d.currentNode,b);while(d.nextNode())}}};c.prototype.G=function(a,b){if(!b.has(a)){b.add(a);var e=this.a.get(a.localName);if(e){a.__$CE_upgraded||this.u(a,e,!0);var d;if(d=a.__$CE_upgraded&&!a.__$CE_attached)a:{d=a;do{if(d.__$CE_attached||d.nodeType===Node.DOCUMENT_NODE){d=!0;break a}d=d.parentNode||d.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&d.host}while(d);d=!1}d&&(a.__$CE_attached=!0,e.v&&e.v.call(a))}a.shadowRoot&&this.c(a.shadowRoot.childNodes,\nb);\"LINK\"===a.tagName&&a.rel&&-1!==a.rel.toLowerCase().split(\" \").indexOf(\"import\")&&this.B(a,b)}};c.prototype.B=function(a,b){var e=a.import;if(e)b.has(e)||(b.add(e),e.__$CE_observer||this.b(e),this.c(e.childNodes,b));else if(b=a.href,!this.F.has(b)){this.F.add(b);var d=this,c=function(){a.removeEventListener(\"load\",c);a.import.__$CE_observer||d.b(a.import);d.c(a.import.childNodes)};a.addEventListener(\"load\",c)}};c.prototype.H=function(a){for(var b=0;b<a.length;b++){var e=a[b];if(e.nodeType===Node.ELEMENT_NODE){this.b(e);\ne=f.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1);do{var d=e.currentNode;if(d.__$CE_upgraded&&d.__$CE_attached){d.__$CE_attached=!1;var c=this.a.get(d.localName);c&&c.w&&c.w.call(d)}}while(e.nextNode())}}};c.prototype.u=function(a,b,e){a.__proto__=b.constructor.prototype;e&&(this.I(a),new b.constructor,a.__$CE_upgraded=!0,console.assert(!this.f));e=b.A;if((b=b.i)&&0<e.length){this.C.observe(a,{attributes:!0,attributeOldValue:!0,attributeFilter:e});for(var d=0;d<e.length;d++){var c=e[d];if(a.hasAttribute(c)){var f=\na.getAttribute(c);b.call(a,c,null,f,null)}}}};c.prototype.D=function(a){for(var b=0;b<a.length;b++){var c=a[b];if(\"attributes\"===c.type){var d=c.target,f=this.a.get(d.localName),g=c.attributeName,h=c.oldValue,k=d.getAttribute(g);k!==h&&f.i.call(d,g,h,k,c.attributeNamespace)}}};window.CustomElementRegistry=c;c.prototype.define=c.prototype.L;c.prototype.get=c.prototype.get;c.prototype.whenDefined=c.prototype.M;c.prototype.flush=c.prototype.g;c.prototype.polyfilled=!0;c.prototype._observeRoot=c.prototype.b;\nc.prototype._addImport=c.prototype.B;var p=h.HTMLElement;c.prototype.nativeHTMLElement=p;h.HTMLElement=function(){var a=g();if(a.f){var b=a.f;a.f=null;return b}if(this.constructor)return a=a.j.get(this.constructor),l(f,a,void 0,!1);throw Error(\"Unknown constructor. Did you call customElements.define()?\");};h.HTMLElement.prototype=Object.create(p.prototype,{constructor:{value:h.HTMLElement,configurable:!0,writable:!0}});var m=f.createElement;f.createElement=function(a,b){return l(f,a,b,!0)};var t=\nf.createElementNS;f.createElementNS=function(a,b){return\"http://www.w3.org/1999/xhtml\"===a?f.createElement(b):t.call(f,a,b)};var q=Element.prototype.attachShadow;q&&Object.defineProperty(Element.prototype,\"attachShadow\",{value:function(a){a=q.call(this,a);g().b(a);return a}});var u=f.importNode;f.importNode=function(a,b){a=u.call(f,a,b);g().c(a.nodeType===Node.ELEMENT_NODE?[a]:a.childNodes);return a};var v=Element.prototype.setAttribute;Element.prototype.setAttribute=function(a,b){n(this,a,b,v)};\nvar w=Element.prototype.removeAttribute;Element.prototype.removeAttribute=function(a){n(this,a,null,w)};Object.defineProperty(window,\"customElements\",{value:new c,configurable:!0,enumerable:!0});window.CustomElements={takeRecords:function(){g().g&&g().g()}}})();\n\n//# sourceMappingURL=custom-elements.min.js.map\n","(function () {\n'use strict';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar settings = window.ShadyDOM || {};\n\nsettings.hasNativeShadowDOM = Boolean(Element.prototype.attachShadow && Node.prototype.getRootNode);\n\nsettings.inUse = settings.force || !settings.hasNativeShadowDOM;\n\nfunction isShadyRoot(obj) {\n  return Boolean(obj.__localName === 'ShadyRoot');\n}\n\nvar p = Element.prototype;\nvar matches = p.matches || p.matchesSelector ||\n  p.mozMatchesSelector || p.msMatchesSelector ||\n  p.oMatchesSelector || p.webkitMatchesSelector;\n\nfunction matchesSelector(element, selector) {\n  return matches.call(element, selector);\n}\n\nfunction copyOwnProperty(name, source, target) {\n  var pd = Object.getOwnPropertyDescriptor(source, name);\n  if (pd) {\n    Object.defineProperty(target, name, pd);\n  }\n}\n\nfunction extend(target, source) {\n  if (target && source) {\n    var n$ = Object.getOwnPropertyNames(source);\n    for (var i=0, n; (i<n$.length) && (n=n$[i]); i++) {\n      copyOwnProperty(n, source, target);\n    }\n  }\n  return target || source;\n}\n\nfunction extendAll(target) {\n  var sources = [], len = arguments.length - 1;\n  while ( len-- > 0 ) sources[ len ] = arguments[ len + 1 ];\n\n  for (var i=0; i < sources.length; i++) {\n    extend(target, sources[i]);\n  }\n  return target;\n}\n\nfunction mixin(target, source) {\n  for (var i in source) {\n    target[i] = source[i];\n  }\n  return target;\n}\n\nvar setPrototypeOf = Object.setPrototypeOf || function(obj, proto) {\n  obj.__proto__ = proto;\n  return obj;\n}\n\nfunction patchPrototype(obj, mixin) {\n  var proto = Object.getPrototypeOf(obj);\n  if (!proto.hasOwnProperty('__patchProto')) {\n    var patchProto = Object.create(proto);\n    patchProto.__sourceProto = proto;\n    extend(patchProto, mixin);\n    proto.__patchProto = patchProto;\n  }\n  setPrototypeOf(obj, proto.__patchProto);\n}\n\n\n\nvar common = {};\n\n// TODO(sorvell): actually rely on a real Promise polyfill...\nvar promish;\nif (window.Promise) {\n  promish = Promise.resolve();\n} else {\n  promish = {\n    then: function(cb) {\n      var twiddle = document.createTextNode('');\n      var observer = new MutationObserver(function() {\n        observer.disconnect();\n        cb();\n      });\n      observer.observe(twiddle, {characterData: true});\n    }\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction newSplice(index, removed, addedCount) {\n  return {\n    index: index,\n    removed: removed,\n    addedCount: addedCount\n  };\n}\n\nvar EDIT_LEAVE = 0;\nvar EDIT_UPDATE = 1;\nvar EDIT_ADD = 2;\nvar EDIT_DELETE = 3;\n\nvar ArraySplice = {\n\n  // Note: This function is *based* on the computation of the Levenshtein\n  // \"edit\" distance. The one change is that \"updates\" are treated as two\n  // edits - not one. With Array splices, an update is really a delete\n  // followed by an add. By retaining this, we optimize for \"keeping\" the\n  // maximum array items in the original array. For example:\n  //\n  //   'xxxx123' -> '123yyyy'\n  //\n  // With 1-edit updates, the shortest path would be just to update all seven\n  // characters. With 2-edit updates, we delete 4, leave 3, and add 4. This\n  // leaves the substring '123' intact.\n  calcEditDistances: function calcEditDistances(current, currentStart, currentEnd,\n                              old, oldStart, oldEnd) {\n    var this$1 = this;\n\n    // \"Deletion\" columns\n    var rowCount = oldEnd - oldStart + 1;\n    var columnCount = currentEnd - currentStart + 1;\n    var distances = new Array(rowCount);\n\n    // \"Addition\" rows. Initialize null column.\n    for (var i = 0; i < rowCount; i++) {\n      distances[i] = new Array(columnCount);\n      distances[i][0] = i;\n    }\n\n    // Initialize null row\n    for (var j = 0; j < columnCount; j++)\n      distances[0][j] = j;\n\n    for (var i$1 = 1; i$1 < rowCount; i$1++) {\n      for (var j$1 = 1; j$1 < columnCount; j$1++) {\n        if (this$1.equals(current[currentStart + j$1 - 1], old[oldStart + i$1 - 1]))\n          distances[i$1][j$1] = distances[i$1 - 1][j$1 - 1];\n        else {\n          var north = distances[i$1 - 1][j$1] + 1;\n          var west = distances[i$1][j$1 - 1] + 1;\n          distances[i$1][j$1] = north < west ? north : west;\n        }\n      }\n    }\n\n    return distances;\n  },\n\n  // This starts at the final weight, and walks \"backward\" by finding\n  // the minimum previous weight recursively until the origin of the weight\n  // matrix.\n  spliceOperationsFromEditDistances: function spliceOperationsFromEditDistances(distances) {\n    var i = distances.length - 1;\n    var j = distances[0].length - 1;\n    var current = distances[i][j];\n    var edits = [];\n    while (i > 0 || j > 0) {\n      if (i == 0) {\n        edits.push(EDIT_ADD);\n        j--;\n        continue;\n      }\n      if (j == 0) {\n        edits.push(EDIT_DELETE);\n        i--;\n        continue;\n      }\n      var northWest = distances[i - 1][j - 1];\n      var west = distances[i - 1][j];\n      var north = distances[i][j - 1];\n\n      var min;\n      if (west < north)\n        min = west < northWest ? west : northWest;\n      else\n        min = north < northWest ? north : northWest;\n\n      if (min == northWest) {\n        if (northWest == current) {\n          edits.push(EDIT_LEAVE);\n        } else {\n          edits.push(EDIT_UPDATE);\n          current = northWest;\n        }\n        i--;\n        j--;\n      } else if (min == west) {\n        edits.push(EDIT_DELETE);\n        i--;\n        current = west;\n      } else {\n        edits.push(EDIT_ADD);\n        j--;\n        current = north;\n      }\n    }\n\n    edits.reverse();\n    return edits;\n  },\n\n  /**\n   * Splice Projection functions:\n   *\n   * A splice map is a representation of how a previous array of items\n   * was transformed into a new array of items. Conceptually it is a list of\n   * tuples of\n   *\n   *   <index, removed, addedCount>\n   *\n   * which are kept in ascending index order of. The tuple represents that at\n   * the |index|, |removed| sequence of items were removed, and counting forward\n   * from |index|, |addedCount| items were added.\n   */\n\n  /**\n   * Lacking individual splice mutation information, the minimal set of\n   * splices can be synthesized given the previous state and final state of an\n   * array. The basic approach is to calculate the edit distance matrix and\n   * choose the shortest path through it.\n   *\n   * Complexity: O(l * p)\n   *   l: The length of the current array\n   *   p: The length of the old array\n   */\n  calcSplices: function calcSplices(current, currentStart, currentEnd,\n                        old, oldStart, oldEnd) {\n    var prefixCount = 0;\n    var suffixCount = 0;\n    var splice;\n\n    var minLength = Math.min(currentEnd - currentStart, oldEnd - oldStart);\n    if (currentStart == 0 && oldStart == 0)\n      prefixCount = this.sharedPrefix(current, old, minLength);\n\n    if (currentEnd == current.length && oldEnd == old.length)\n      suffixCount = this.sharedSuffix(current, old, minLength - prefixCount);\n\n    currentStart += prefixCount;\n    oldStart += prefixCount;\n    currentEnd -= suffixCount;\n    oldEnd -= suffixCount;\n\n    if (currentEnd - currentStart == 0 && oldEnd - oldStart == 0)\n      return [];\n\n    if (currentStart == currentEnd) {\n      splice = newSplice(currentStart, [], 0);\n      while (oldStart < oldEnd)\n        splice.removed.push(old[oldStart++]);\n\n      return [ splice ];\n    } else if (oldStart == oldEnd)\n      return [ newSplice(currentStart, [], currentEnd - currentStart) ];\n\n    var ops = this.spliceOperationsFromEditDistances(\n        this.calcEditDistances(current, currentStart, currentEnd,\n                               old, oldStart, oldEnd));\n\n    splice = undefined;\n    var splices = [];\n    var index = currentStart;\n    var oldIndex = oldStart;\n    for (var i = 0; i < ops.length; i++) {\n      switch(ops[i]) {\n        case EDIT_LEAVE:\n          if (splice) {\n            splices.push(splice);\n            splice = undefined;\n          }\n\n          index++;\n          oldIndex++;\n          break;\n        case EDIT_UPDATE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n        case EDIT_ADD:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.addedCount++;\n          index++;\n          break;\n        case EDIT_DELETE:\n          if (!splice)\n            splice = newSplice(index, [], 0);\n\n          splice.removed.push(old[oldIndex]);\n          oldIndex++;\n          break;\n      }\n    }\n\n    if (splice) {\n      splices.push(splice);\n    }\n    return splices;\n  },\n\n  sharedPrefix: function sharedPrefix(current, old, searchLength) {\n    var this$1 = this;\n\n    for (var i = 0; i < searchLength; i++)\n      if (!this$1.equals(current[i], old[i]))\n        return i;\n    return searchLength;\n  },\n\n  sharedSuffix: function sharedSuffix(current, old, searchLength) {\n    var index1 = current.length;\n    var index2 = old.length;\n    var count = 0;\n    while (count < searchLength && this.equals(current[--index1], old[--index2]))\n      count++;\n\n    return count;\n  },\n\n  calculateSplices: function calculateSplices$1(current, previous) {\n    return this.calcSplices(current, 0, current.length, previous, 0,\n                            previous.length);\n  },\n\n  equals: function equals(currentValue, previousValue) {\n    return currentValue === previousValue;\n  }\n\n};\n\nvar calculateSplices = function (current, previous) { return ArraySplice.calculateSplices(current, previous); };\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// TODO(sorvell): circular (patch loads tree and tree loads patch)\n// for now this is stuck on `utils`\n//import {patchNode} from './patch'\n// native add/remove\nvar nativeInsertBefore = Element.prototype.insertBefore;\nvar nativeAppendChild = Element.prototype.appendChild;\nvar nativeRemoveChild = Element.prototype.removeChild;\n\n/**\n * `tree` is a dom manipulation library used by ShadyDom to\n * manipulate composed and logical trees.\n */\nvar tree = {\n\n  // sad but faster than slice...\n  arrayCopyChildNodes: function arrayCopyChildNodes(parent) {\n    var copy=[], i=0;\n    for (var n=parent.firstChild; n; n=n.nextSibling) {\n      copy[i++] = n;\n    }\n    return copy;\n  },\n\n  arrayCopyChildren: function arrayCopyChildren(parent) {\n    var copy=[], i=0;\n    for (var n=parent.firstElementChild; n; n=n.nextElementSibling) {\n      copy[i++] = n;\n    }\n    return copy;\n  },\n\n  arrayCopy: function arrayCopy(a$) {\n    var l = a$.length;\n    var copy = new Array(l);\n    for (var i=0; i < l; i++) {\n      copy[i] = a$[i];\n    }\n    return copy;\n  },\n\n  saveChildNodes: function saveChildNodes(node) {\n    tree.Logical.saveChildNodes(node);\n    if (!tree.Composed.hasParentNode(node)) {\n      tree.Composed.saveComposedData(node);\n      //tree.Composed.saveParentNode(node);\n    }\n    tree.Composed.saveChildNodes(node);\n  }\n\n};\n\ntree.Logical = {\n\n  hasParentNode: function hasParentNode(node) {\n    return Boolean(node.__dom && node.__dom.parentNode);\n  },\n\n  hasChildNodes: function hasChildNodes(node) {\n    return Boolean(node.__dom && node.__dom.childNodes !== undefined);\n  },\n\n  getChildNodes: function getChildNodes(node) {\n    // note: we're distinguishing here between undefined and false-y:\n    // hasChildNodes uses undefined check to see if this element has logical\n    // children; the false-y check indicates whether or not we should rebuild\n    // the cached childNodes array.\n    return this.hasChildNodes(node) ? this._getChildNodes(node) :\n      tree.Composed.getChildNodes(node);\n  },\n\n  _getChildNodes: function _getChildNodes(node) {\n    if (!node.__dom.childNodes) {\n      node.__dom.childNodes = [];\n      for (var n=this.getFirstChild(node); n; n=this.getNextSibling(n)) {\n        node.__dom.childNodes.push(n);\n      }\n    }\n    return node.__dom.childNodes;\n  },\n\n  // NOTE: __dom can be created under 2 conditions: (1) an element has a\n  // logical tree, or (2) an element is in a logical tree. In case (1), the\n  // element will store firstChild/lastChild, and in case (2), the element\n  // will store parentNode, nextSibling, previousSibling. This means that\n  // the mere existence of __dom is not enough to know if the requested\n  // logical data is available and instead we do an explicit undefined check.\n  getParentNode: function getParentNode(node) {\n    return node.__dom && node.__dom.parentNode !== undefined ?\n      node.__dom.parentNode : tree.Composed.getParentNode(node);\n  },\n\n  getFirstChild: function getFirstChild(node) {\n    return node.__dom && node.__dom.firstChild !== undefined ?\n      node.__dom.firstChild : tree.Composed.getFirstChild(node);\n  },\n\n  getLastChild: function getLastChild(node) {\n    return node.__dom && node.__dom.lastChild  !== undefined ?\n      node.__dom.lastChild : tree.Composed.getLastChild(node);\n  },\n\n  getNextSibling: function getNextSibling(node) {\n    return node.__dom && node.__dom.nextSibling  !== undefined ?\n      node.__dom.nextSibling : tree.Composed.getNextSibling(node);\n  },\n\n  getPreviousSibling: function getPreviousSibling(node) {\n    return node.__dom && node.__dom.previousSibling  !== undefined ?\n      node.__dom.previousSibling : tree.Composed.getPreviousSibling(node);\n  },\n\n  getFirstElementChild: function getFirstElementChild(node) {\n    return node.__dom && node.__dom.firstChild !== undefined ?\n      this._getFirstElementChild(node) :\n      tree.Composed.getFirstElementChild(node);\n  },\n\n  _getFirstElementChild: function _getFirstElementChild(node) {\n    var n = node.__dom.firstChild;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = n.__dom.nextSibling;\n    }\n    return n;\n  },\n\n  getLastElementChild: function getLastElementChild(node) {\n    return node.__dom && node.__dom.lastChild !== undefined ?\n      this._getLastElementChild(node) :\n      tree.Composed.getLastElementChild(node);\n  },\n\n  _getLastElementChild: function _getLastElementChild(node) {\n    var n = node.__dom.lastChild;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = n.__dom.previousSibling;\n    }\n    return n;\n  },\n\n  getNextElementSibling: function getNextElementSibling(node) {\n    return node.__dom && node.__dom.nextSibling !== undefined ?\n      this._getNextElementSibling(node) :\n      tree.Composed.getNextElementSibling(node);\n  },\n\n  _getNextElementSibling: function _getNextElementSibling(node) {\n    var this$1 = this;\n\n    var n = node.__dom.nextSibling;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = this$1.getNextSibling(n);\n    }\n    return n;\n  },\n\n  getPreviousElementSibling: function getPreviousElementSibling(node) {\n    return node.__dom && node.__dom.previousSibling !== undefined ?\n      this._getPreviousElementSibling(node) :\n      tree.Composed.getPreviousElementSibling(node);\n  },\n\n  _getPreviousElementSibling: function _getPreviousElementSibling(node) {\n    var this$1 = this;\n\n    var n = node.__dom.previousSibling;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = this$1.getPreviousSibling(n);\n    }\n    return n;\n  },\n\n  // Capture the list of light children. It's important to do this before we\n  // start transforming the DOM into \"rendered\" state.\n  // Children may be added to this list dynamically. It will be treated as the\n  // source of truth for the light children of the element. This element's\n  // actual children will be treated as the rendered state once this function\n  // has been called.\n  saveChildNodes: function saveChildNodes$1(node) {\n    if (!this.hasChildNodes(node)) {\n      node.__dom = node.__dom || {};\n      node.__dom.firstChild = node.firstChild;\n      node.__dom.lastChild = node.lastChild;\n      var c$ = node.__dom.childNodes = tree.arrayCopyChildNodes(node);\n      for (var i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n        n.__dom = n.__dom || {};\n        n.__dom.parentNode = node;\n        n.__dom.nextSibling = c$[i+1] || null;\n        n.__dom.previousSibling = c$[i-1] || null;\n        common.patchNode(n);\n      }\n    }\n  },\n\n  // TODO(sorvell): may need to patch saveChildNodes iff the tree has\n  // already been distributed.\n  // NOTE: ensure `node` is patched...\n  recordInsertBefore: function recordInsertBefore(node, container, ref_node) {\n    var this$1 = this;\n\n    container.__dom.childNodes = null;\n    // handle document fragments\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      var c$ = tree.arrayCopyChildNodes(node);\n      for (var i=0; i < c$.length; i++) {\n        this$1._linkNode(c$[i], container, ref_node);\n      }\n      // cleanup logical dom in doc fragment.\n      node.__dom = node.__dom || {};\n      node.__dom.firstChild = node.__dom.lastChild = null;\n      node.__dom.childNodes = null;\n    } else {\n      this._linkNode(node, container, ref_node);\n    }\n  },\n\n  _linkNode: function _linkNode(node, container, ref_node) {\n    common.patchNode(node);\n    ref_node = ref_node || null;\n    node.__dom = node.__dom || {};\n    container.__dom = container.__dom || {};\n    if (ref_node) {\n      ref_node.__dom = ref_node.__dom || {};\n    }\n    // update ref_node.previousSibling <-> node\n    node.__dom.previousSibling = ref_node ? ref_node.__dom.previousSibling :\n      container.__dom.lastChild;\n    if (node.__dom.previousSibling) {\n      node.__dom.previousSibling.__dom.nextSibling = node;\n    }\n    // update node <-> ref_node\n    node.__dom.nextSibling = ref_node;\n    if (node.__dom.nextSibling) {\n      node.__dom.nextSibling.__dom.previousSibling = node;\n    }\n    // update node <-> container\n    node.__dom.parentNode = container;\n    if (ref_node) {\n      if (ref_node === container.__dom.firstChild) {\n        container.__dom.firstChild = node;\n      }\n    } else {\n      container.__dom.lastChild = node;\n      if (!container.__dom.firstChild) {\n        container.__dom.firstChild = node;\n      }\n    }\n    // remove caching of childNodes\n    container.__dom.childNodes = null;\n  },\n\n  recordRemoveChild: function recordRemoveChild(node, container) {\n    node.__dom = node.__dom || {};\n    container.__dom = container.__dom || {};\n    if (node === container.__dom.firstChild) {\n      container.__dom.firstChild = node.__dom.nextSibling;\n    }\n    if (node === container.__dom.lastChild) {\n      container.__dom.lastChild = node.__dom.previousSibling;\n    }\n    var p = node.__dom.previousSibling;\n    var n = node.__dom.nextSibling;\n    if (p) {\n      p.__dom = p.__dom || {};\n      p.__dom.nextSibling = n;\n    }\n    if (n) {\n      n.__dom = n.__dom || {};\n      n.__dom.previousSibling = p;\n    }\n    // When an element is removed, logical data is no longer tracked.\n    // Explicitly set `undefined` here to indicate this. This is disginguished\n    // from `null` which is set if info is null.\n    node.__dom.parentNode = node.__dom.previousSibling =\n      node.__dom.nextSibling = null;\n    // remove caching of childNodes\n    container.__dom.childNodes = null;\n  }\n\n}\n\n\n// TODO(sorvell): composed tree manipulation is made available\n// (1) to maninpulate the composed tree, and (2) to track changes\n// to the tree for optional patching pluggability.\ntree.Composed = {\n\n  hasParentNode: function hasParentNode$1(node) {\n    return Boolean(node.__dom && node.__dom.$parentNode !== undefined);\n  },\n\n  hasChildNodes: function hasChildNodes$1(node) {\n    return Boolean(node.__dom && node.__dom.$childNodes !== undefined);\n  },\n\n  getChildNodes: function getChildNodes$1(node) {\n    return this.hasChildNodes(node) ? this._getChildNodes(node) :\n      (!node.__patched && tree.arrayCopy(node.childNodes));\n  },\n\n  _getChildNodes: function _getChildNodes$1(node) {\n    if (!node.__dom.$childNodes) {\n      node.__dom.$childNodes = [];\n      for (var n=node.__dom.$firstChild; n; n=n.__dom.$nextSibling) {\n        node.__dom.$childNodes.push(n);\n      }\n    }\n    return node.__dom.$childNodes;\n  },\n\n  getComposedChildNodes: function getComposedChildNodes(node) {\n    return node.__dom.$childNodes;\n  },\n\n  getParentNode: function getParentNode$1(node) {\n    return this.hasParentNode(node) ? node.__dom.$parentNode :\n      (!node.__patched && node.parentNode);\n  },\n\n  getFirstChild: function getFirstChild$1(node) {\n    return node.__patched ? node.__dom.$firstChild : node.firstChild;\n  },\n\n  getLastChild: function getLastChild$1(node) {\n    return node.__patched ? node.__dom.$lastChild : node.lastChild;\n  },\n\n  getNextSibling: function getNextSibling$1(node) {\n    return node.__patched ? node.__dom.$nextSibling : node.nextSibling;\n  },\n\n  getPreviousSibling: function getPreviousSibling$1(node) {\n    return node.__patched ? node.__dom.$previousSibling : node.previousSibling;\n  },\n\n  getFirstElementChild: function getFirstElementChild$1(node) {\n    return node.__patched ? this._getFirstElementChild(node) :\n      node.firstElementChild;\n  },\n\n  _getFirstElementChild: function _getFirstElementChild$1(node) {\n    var n = node.__dom.$firstChild;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = n.__dom.$nextSibling;\n    }\n    return n;\n  },\n\n  getLastElementChild: function getLastElementChild$1(node) {\n    return node.__patched ? this._getLastElementChild(node) :\n      node.lastElementChild;\n  },\n\n  _getLastElementChild: function _getLastElementChild$1(node) {\n    var n = node.__dom.$lastChild;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = n.__dom.$previousSibling;\n    }\n    return n;\n  },\n\n  getNextElementSibling: function getNextElementSibling$1(node) {\n    return node.__patched ? this._getNextElementSibling(node) :\n      node.nextElementSibling;\n  },\n\n  _getNextElementSibling: function _getNextElementSibling$1(node) {\n    var this$1 = this;\n\n    var n = node.__dom.$nextSibling;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = this$1.getNextSibling(n);\n    }\n    return n;\n  },\n\n  getPreviousElementSibling: function getPreviousElementSibling$1(node) {\n    return node.__patched ? this._getPreviousElementSibling(node) :\n      node.previousElementSibling;\n  },\n\n  _getPreviousElementSibling: function _getPreviousElementSibling$1(node) {\n    var this$1 = this;\n\n    var n = node.__dom.$previousSibling;\n    while (n && n.nodeType !== Node.ELEMENT_NODE) {\n      n = this$1.getPreviousSibling(n);\n    }\n    return n;\n  },\n\n  saveChildNodes: function saveChildNodes$2(node) {\n    var this$1 = this;\n\n    if (!this.hasChildNodes(node)) {\n      node.__dom = node.__dom || {};\n      node.__dom.$firstChild = node.firstChild;\n      node.__dom.$lastChild = node.lastChild;\n      var c$ = node.__dom.$childNodes = tree.arrayCopyChildNodes(node);\n      for (var i=0, n; (i<c$.length) && (n=c$[i]); i++) {\n        this$1.saveComposedData(n);\n      }\n    }\n  },\n\n  saveComposedData: function saveComposedData(node) {\n    node.__dom = node.__dom || {};\n    if (node.__dom.$parentNode === undefined) {\n      node.__dom.$parentNode = node.parentNode;\n    }\n    if (node.__dom.$nextSibling === undefined) {\n      node.__dom.$nextSibling = node.nextSibling;\n    }\n    if (node.__dom.$previousSibling === undefined) {\n      node.__dom.$previousSibling = node.previousSibling;\n    }\n  },\n\n  recordInsertBefore: function recordInsertBefore$1(node, container, ref_node) {\n    var this$1 = this;\n\n    container.__dom.$childNodes = null;\n    // handle document fragments\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n      // TODO(sorvell): remember this for patching:\n      // the act of setting this info can affect patched nodes\n      // getters; therefore capture childNodes before patching.\n      for (var n=this.getFirstChild(node); n; n=this.getNextSibling(n)) {\n        this$1._linkNode(n, container, ref_node);\n      }\n    } else {\n      this._linkNode(node, container, ref_node);\n    }\n  },\n\n  _linkNode: function _linkNode$1(node, container, ref_node) {\n    node.__dom = node.__dom || {};\n    container.__dom = container.__dom || {};\n    if (ref_node) {\n      ref_node.__dom = ref_node.__dom || {};\n    }\n    // update ref_node.previousSibling <-> node\n    node.__dom.$previousSibling = ref_node ? ref_node.__dom.$previousSibling :\n      container.__dom.$lastChild;\n    if (node.__dom.$previousSibling) {\n      node.__dom.$previousSibling.__dom.$nextSibling = node;\n    }\n    // update node <-> ref_node\n    node.__dom.$nextSibling = ref_node;\n    if (node.__dom.$nextSibling) {\n      node.__dom.$nextSibling.__dom.$previousSibling = node;\n    }\n    // update node <-> container\n    node.__dom.$parentNode = container;\n    if (ref_node) {\n      if (ref_node === container.__dom.$firstChild) {\n        container.__dom.$firstChild = node;\n      }\n    } else {\n      container.__dom.$lastChild = node;\n      if (!container.__dom.$firstChild) {\n        container.__dom.$firstChild = node;\n      }\n    }\n    // remove caching of childNodes\n    container.__dom.$childNodes = null;\n  },\n\n  recordRemoveChild: function recordRemoveChild$1(node, container) {\n    node.__dom = node.__dom || {};\n    container.__dom = container.__dom || {};\n    if (node === container.__dom.$firstChild) {\n      container.__dom.$firstChild = node.__dom.$nextSibling;\n    }\n    if (node === container.__dom.$lastChild) {\n      container.__dom.$lastChild = node.__dom.$previousSibling;\n    }\n    var p = node.__dom.$previousSibling;\n    var n = node.__dom.$nextSibling;\n    if (p) {\n      p.__dom = p.__dom || {};\n      p.__dom.$nextSibling = n;\n    }\n    if (n) {\n      n.__dom = n.__dom || {};\n      n.__dom.$previousSibling = p;\n    }\n    node.__dom.$parentNode = node.__dom.$previousSibling =\n      node.__dom.$nextSibling = null;\n    // remove caching of childNodes\n    container.__dom.$childNodes = null;\n  },\n\n  clearChildNodes: function clearChildNodes(node) {\n    var this$1 = this;\n\n    var c$ = this.getChildNodes(node);\n    for (var i=0, c; i < c$.length; i++) {\n      c = c$[i];\n      this$1.recordRemoveChild(c, node);\n      nativeRemoveChild.call(node, c)\n    }\n  },\n\n  saveParentNode: function saveParentNode(node) {\n    node.__dom = node.__dom || {};\n    node.__dom.$parentNode = node.parentNode;\n  },\n\n  insertBefore: function insertBefore(parentNode, newChild, refChild) {\n    this.saveChildNodes(parentNode);\n    // remove from current location.\n    this._addChild(parentNode, newChild, refChild);\n    return nativeInsertBefore.call(parentNode, newChild, refChild || null);\n  },\n\n  appendChild: function appendChild(parentNode, newChild) {\n    this.saveChildNodes(parentNode);\n    this._addChild(parentNode, newChild);\n    return nativeAppendChild.call(parentNode, newChild);\n  },\n\n  removeChild: function removeChild(parentNode, node) {\n    var currentParent = this.getParentNode(node);\n    this.saveChildNodes(parentNode);\n    this._removeChild(parentNode, node);\n    if (currentParent === parentNode) {\n      return nativeRemoveChild.call(parentNode, node);\n    }\n  },\n\n  _addChild: function _addChild(parentNode, newChild, refChild) {\n    var this$1 = this;\n\n    var isFrag = (newChild.nodeType === Node.DOCUMENT_FRAGMENT_NODE);\n    var oldParent = this.getParentNode(newChild);\n    if (oldParent) {\n      this._removeChild(oldParent, newChild);\n    }\n    if (isFrag) {\n      var c$ = this.getChildNodes(newChild);\n      for (var i=0; i < c$.length; i++) {\n        var c = c$[i];\n        // unlink document fragment children\n        this$1._removeChild(newChild, c);\n        this$1.recordInsertBefore(c, parentNode, refChild);\n      }\n    } else {\n      this.recordInsertBefore(newChild, parentNode, refChild);\n    }\n  },\n\n  _removeChild: function _removeChild(parentNode, node) {\n    this.recordRemoveChild(node, parentNode);\n  }\n\n};\n\n// for testing...\nvar descriptors = {};\nfunction getNativeProperty(element, property) {\n  if (!descriptors[property]) {\n    descriptors[property] = Object.getOwnPropertyDescriptor(\n      HTMLElement.prototype, property) ||\n    Object.getOwnPropertyDescriptor(\n      Element.prototype, property) ||\n    Object.getOwnPropertyDescriptor(\n      Node.prototype, property);\n  }\n  return descriptors[property].get.call(element);\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// NOTE: normalize event contruction where necessary (IE11)\nvar NormalizedEvent = typeof Event === 'function' ? Event :\n  function(inType, params) {\n    params = params || {};\n    var e = document.createEvent('Event');\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n    return e;\n  };\n\nvar Distributor = (function () {\n  function anonymous(root) {\n    this.root = root;\n    this.insertionPointTag = 'slot';\n  }\n\n  anonymous.prototype.getInsertionPoints = function getInsertionPoints () {\n    return this.root.querySelectorAll(this.insertionPointTag);\n  };\n\n  anonymous.prototype.hasInsertionPoint = function hasInsertionPoint () {\n    return Boolean(this.root._insertionPoints &&\n      this.root._insertionPoints.length);\n  };\n\n  anonymous.prototype.isInsertionPoint = function isInsertionPoint (node) {\n    return node.localName && node.localName == this.insertionPointTag;\n  };\n\n  anonymous.prototype.distribute = function distribute () {\n    if (this.hasInsertionPoint()) {\n      return this.distributePool(this.root, this.collectPool());\n    }\n    return [];\n  };\n\n  // Gather the pool of nodes that should be distributed. We will combine\n  // these with the \"content root\" to arrive at the composed tree.\n  anonymous.prototype.collectPool = function collectPool () {\n    return tree.arrayCopy(\n      tree.Logical.getChildNodes(this.root.host));\n  };\n\n  // perform \"logical\" distribution; note, no actual dom is moved here,\n  // instead elements are distributed into storage\n  // array where applicable.\n  anonymous.prototype.distributePool = function distributePool (node, pool) {\n    var this$1 = this;\n\n    var dirtyRoots = [];\n    var p$ = this.root._insertionPoints;\n    for (var i=0, l=p$.length, p; (i<l) && (p=p$[i]); i++) {\n      this$1.distributeInsertionPoint(p, pool);\n      // provoke redistribution on insertion point parents\n      // must do this on all candidate hosts since distribution in this\n      // scope invalidates their distribution.\n      // only get logical parent.\n      var parent = tree.Logical.getParentNode(p);\n      if (parent && parent.shadyRoot &&\n          this$1.hasInsertionPoint(parent.shadyRoot)) {\n        dirtyRoots.push(parent.shadyRoot);\n      }\n    }\n    for (var i$1=0; i$1 < pool.length; i$1++) {\n      var p$1 = pool[i$1];\n      if (p$1) {\n        p$1._assignedSlot = undefined;\n        // remove undistributed elements from physical dom.\n        var parent$1 = tree.Composed.getParentNode(p$1);\n        if (parent$1) {\n          tree.Composed.removeChild(parent$1, p$1);\n        }\n      }\n    }\n    return dirtyRoots;\n  };\n\n  anonymous.prototype.distributeInsertionPoint = function distributeInsertionPoint (insertionPoint, pool) {\n    var this$1 = this;\n\n    var prevAssignedNodes = insertionPoint._assignedNodes;\n    if (prevAssignedNodes) {\n      this.clearAssignedSlots(insertionPoint, true);\n    }\n    insertionPoint._assignedNodes = [];\n    var needsSlotChange = false;\n    // distribute nodes from the pool that this selector matches\n    var anyDistributed = false;\n    for (var i=0, l=pool.length, node; i < l; i++) {\n      node=pool[i];\n      // skip nodes that were already used\n      if (!node) {\n        continue;\n      }\n      // distribute this node if it matches\n      if (this$1.matchesInsertionPoint(node, insertionPoint)) {\n        if (node.__prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this$1.distributeNodeInto(node, insertionPoint)\n        // remove this node from the pool\n        pool[i] = undefined;\n        // since at least one node matched, we won't need fallback content\n        anyDistributed = true;\n      }\n    }\n    // Fallback content if nothing was distributed here\n    if (!anyDistributed) {\n      var children = tree.Logical.getChildNodes(insertionPoint);\n      for (var j = 0, node$1; j < children.length; j++) {\n        node$1 = children[j];\n        if (node$1.__prevAssignedSlot != insertionPoint) {\n          needsSlotChange = true;\n        }\n        this$1.distributeNodeInto(node$1, insertionPoint);\n      }\n    }\n    // we're already dirty if a node was newly added to the slot\n    // and we're also dirty if the assigned count decreased.\n    if (prevAssignedNodes) {\n      // TODO(sorvell): the tracking of previously assigned slots\n      // could instead by done with a Set and then we could\n      // avoid needing to iterate here to clear the info.\n      for (var i$1=0; i$1 < prevAssignedNodes.length; i$1++) {\n        prevAssignedNodes[i$1].__prevAssignedSlot = null;\n      }\n      if (insertionPoint._assignedNodes.length < prevAssignedNodes.length) {\n        needsSlotChange = true;\n      }\n    }\n    this.setDistributedNodesOnInsertionPoint(insertionPoint);\n    if (needsSlotChange) {\n      this._fireSlotChange(insertionPoint);\n    }\n  };\n\n  anonymous.prototype.clearAssignedSlots = function clearAssignedSlots (slot, savePrevious) {\n    var n$ = slot._assignedNodes;\n    if (n$) {\n      for (var i=0; i < n$.length; i++) {\n        var n = n$[i];\n        if (savePrevious) {\n          n.__prevAssignedSlot = n._assignedSlot;\n        }\n        // only clear if it was previously set to this slot;\n        // this helps ensure that if the node has otherwise been distributed\n        // ignore it.\n        if (n._assignedSlot === slot) {\n          n._assignedSlot = null;\n        }\n      }\n    }\n  };\n\n  anonymous.prototype.matchesInsertionPoint = function matchesInsertionPoint (node, insertionPoint) {\n    var slotName = insertionPoint.getAttribute('name');\n    slotName = slotName ? slotName.trim() : '';\n    var slot = node.getAttribute && node.getAttribute('slot');\n    slot = slot ? slot.trim() : '';\n    return (slot == slotName);\n  };\n\n  anonymous.prototype.distributeNodeInto = function distributeNodeInto (child, insertionPoint) {\n    insertionPoint._assignedNodes.push(child);\n    child._assignedSlot = insertionPoint;\n  };\n\n  anonymous.prototype.setDistributedNodesOnInsertionPoint = function setDistributedNodesOnInsertionPoint (insertionPoint) {\n    var this$1 = this;\n\n    var n$ = insertionPoint._assignedNodes;\n    insertionPoint._distributedNodes = [];\n    for (var i=0, n; (i<n$.length) && (n=n$[i]) ; i++) {\n      if (this$1.isInsertionPoint(n)) {\n        var d$ = n._distributedNodes;\n        if (d$) {\n          for (var j=0; j < d$.length; j++) {\n            insertionPoint._distributedNodes.push(d$[j]);\n          }\n        }\n      } else {\n        insertionPoint._distributedNodes.push(n$[i]);\n      }\n    }\n  };\n\n  anonymous.prototype._fireSlotChange = function _fireSlotChange (insertionPoint) {\n    // NOTE: cannot bubble correctly here so not setting bubbles: true\n    // Safari tech preview does not bubble but chrome does\n    // Spec says it bubbles (https://dom.spec.whatwg.org/#mutation-observers)\n    insertionPoint.dispatchEvent(new NormalizedEvent('slotchange'));\n    if (insertionPoint._assignedSlot) {\n      this._fireSlotChange(insertionPoint._assignedSlot);\n    }\n  };\n\n  anonymous.prototype.isFinalDestination = function isFinalDestination (insertionPoint) {\n    return !(insertionPoint._assignedSlot);\n  };\n\n  return anonymous;\n}())\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n  Implements a pared down version of ShadowDOM's scoping, which is easy to\n  polyfill across browsers.\n*/\nvar ShadyRoot = function ShadyRoot(host) {\n  if (!host) {\n    throw 'Must provide a host';\n  }\n  // NOTE: this strange construction is necessary because\n  // DocumentFragment cannot be subclassed on older browsers.\n  var frag = document.createDocumentFragment();\n  frag.__proto__ = ShadyFragmentMixin;\n  frag._init(host);\n  return frag;\n};\n\nvar ShadyMixin = {\n\n  _init: function _init(host) {\n    // NOTE: set a fake local name so this element can be\n    // distinguished from a DocumentFragment when patching.\n    // FF doesn't allow this to be `localName`\n    this.__localName = 'ShadyRoot';\n    // root <=> host\n    host.shadyRoot = this;\n    this.host = host;\n    // logical dom setup\n    tree.Logical.saveChildNodes(host);\n    tree.Logical.saveChildNodes(this);\n    // state flags\n    this._clean = true;\n    this._hasRendered = false;\n    this._distributor = new Distributor(this);\n    this.update();\n  },\n\n  // async render the \"top\" distributor (this is all that is needed to\n  // distribute this host).\n  update: function update() {\n    // TODO(sorvell): instead the root should always be enqueued to helps record that it is dirty.\n    // Then, in `render`, the top most (in the distribution tree) \"dirty\" root should be rendered.\n    var distributionRoot = this._findDistributionRoot(this.host);\n    //console.log('update from', this.host, 'root', distributionRoot.host, distributionRoot._clean);\n    if (distributionRoot._clean) {\n      distributionRoot._clean = false;\n      enqueue(function() {\n        distributionRoot.render();\n      });\n    }\n  },\n\n  // TODO(sorvell): this may not return a shadowRoot (for example if the element is in a docFragment)\n  // this should only return a shadowRoot.\n  // returns the host that's the top of this host's distribution tree\n  _findDistributionRoot: function _findDistributionRoot(element) {\n    var root = element.shadyRoot;\n    while (element && this._elementNeedsDistribution(element)) {\n      root = element.getRootNode();\n      element = root && root.host;\n    }\n    return root;\n  },\n\n  // Return true if a host's children includes\n  // an insertion point that selects selectively\n  _elementNeedsDistribution: function _elementNeedsDistribution(element) {\n    var this$1 = this;\n\n    var c$ = tree.Logical.getChildNodes(element);\n    for (var i=0, c; i < c$.length; i++) {\n      c = c$[i];\n      if (this$1._distributor.isInsertionPoint(c)) {\n        return element.getRootNode();\n      }\n    }\n  },\n\n  render: function render() {\n    if (!this._clean) {\n      this._clean = true;\n      if (!this._skipUpdateInsertionPoints) {\n        this.updateInsertionPoints();\n      } else if (!this._hasRendered) {\n        this._insertionPoints = [];\n      }\n      this._skipUpdateInsertionPoints = false;\n      // TODO(sorvell): previous ShadyDom had a fast path here\n      // that would avoid distribution for initial render if\n      // no insertion points exist. We cannot currently do this because\n      // it relies on elements being in the physical shadowRoot element\n      // so that native methods will be used. The current append code\n      // simply provokes distribution in this case and does not put the\n      // nodes in the shadowRoot. This could be done but we'll need to\n      // consider if the special processing is worth the perf gain.\n      // if (!this._hasRendered && !this._insertionPoints.length) {\n      //   tree.Composed.clearChildNodes(this.host);\n      //   tree.Composed.appendChild(this.host, this);\n      // } else {\n      // logical\n      this.distribute();\n      // physical\n      this.compose();\n      this._hasRendered = true;\n    }\n  },\n\n  forceRender: function forceRender() {\n    this._clean = false;\n    this.render();\n  },\n\n  distribute: function distribute() {\n    var dirtyRoots = this._distributor.distribute();\n    for (var i=0; i<dirtyRoots.length; i++) {\n      dirtyRoots[i].forceRender();\n    }\n  },\n\n  updateInsertionPoints: function updateInsertionPoints() {\n    var this$1 = this;\n\n    var i$ = this.__insertionPoints;\n    // if any insertion points have been removed, clear their distribution info\n    if (i$) {\n      for (var i=0, c; i < i$.length; i++) {\n        c = i$[i];\n        if (c.getRootNode() !== this$1) {\n          this$1._distributor.clearAssignedSlots(c);\n        }\n      }\n    }\n    i$ = this._insertionPoints = this._distributor.getInsertionPoints();\n    // ensure insertionPoints's and their parents have logical dom info.\n    // save logical tree info\n    // a. for shadyRoot\n    // b. for insertion points (fallback)\n    // c. for parents of insertion points\n    for (var i$1=0, c$1; i$1 < i$.length; i$1++) {\n      c$1 = i$[i$1];\n      tree.Logical.saveChildNodes(c$1);\n      tree.Logical.saveChildNodes(tree.Logical.getParentNode(c$1));\n    }\n  },\n\n  get _insertionPoints() {\n    if (!this.__insertionPoints) {\n      this.updateInsertionPoints();\n    }\n    return this.__insertionPoints || (this.__insertionPoints = []);\n  },\n\n  set _insertionPoints(insertionPoints) {\n    this.__insertionPoints = insertionPoints;\n  },\n\n  hasInsertionPoint: function hasInsertionPoint() {\n    return this._distributor.hasInsertionPoint();\n  },\n\n  compose: function compose() {\n    // compose self\n    // note: it's important to mark this clean before distribution\n    // so that attachment that provokes additional distribution (e.g.\n    // adding something to your parentNode) works\n    this._composeTree();\n    // TODO(sorvell): See fast paths here in Polymer v1\n    // (these seem unnecessary)\n  },\n\n  // Reify dom such that it is at its correct rendering position\n  // based on logical distribution.\n  _composeTree: function _composeTree() {\n    var this$1 = this;\n\n    this._updateChildNodes(this.host, this._composeNode(this.host));\n    var p$ = this._insertionPoints || [];\n    for (var i=0, l=p$.length, p, parent; (i<l) && (p=p$[i]); i++) {\n      parent = tree.Logical.getParentNode(p);\n      if ((parent !== this$1.host) && (parent !== this$1)) {\n        this$1._updateChildNodes(parent, this$1._composeNode(parent));\n      }\n    }\n  },\n\n  // Returns the list of nodes which should be rendered inside `node`.\n  _composeNode: function _composeNode(node) {\n    var this$1 = this;\n\n    var children = [];\n    var c$ = tree.Logical.getChildNodes(node.shadyRoot || node);\n    for (var i = 0; i < c$.length; i++) {\n      var child = c$[i];\n      if (this$1._distributor.isInsertionPoint(child)) {\n        var distributedNodes = child._distributedNodes ||\n          (child._distributedNodes = []);\n        for (var j = 0; j < distributedNodes.length; j++) {\n          var distributedNode = distributedNodes[j];\n          if (this$1.isFinalDestination(child, distributedNode)) {\n            children.push(distributedNode);\n          }\n        }\n      } else {\n        children.push(child);\n      }\n    }\n    return children;\n  },\n\n  isFinalDestination: function isFinalDestination(insertionPoint, node) {\n    return this._distributor.isFinalDestination(\n      insertionPoint, node);\n  },\n\n  // Ensures that the rendered node list inside `container` is `children`.\n  _updateChildNodes: function _updateChildNodes(container, children) {\n    var composed = tree.Composed.getChildNodes(container);\n    var splices = calculateSplices(children, composed);\n    // process removals\n    for (var i=0, d=0, s; (i<splices.length) && (s=splices[i]); i++) {\n      for (var j=0, n; (j < s.removed.length) && (n=s.removed[j]); j++) {\n        // check if the node is still where we expect it is before trying\n        // to remove it; this can happen if we move a node and\n        // then schedule its previous host for distribution resulting in\n        // the node being removed here.\n        if (tree.Composed.getParentNode(n) === container) {\n          tree.Composed.removeChild(container, n);\n        }\n        composed.splice(s.index + d, 1);\n      }\n      d -= s.addedCount;\n    }\n    // process adds\n    for (var i$1=0, s$1, next; (i$1<splices.length) && (s$1=splices[i$1]); i$1++) { //eslint-disable-line no-redeclare\n      next = composed[s$1.index];\n      for (var j$1=s$1.index, n$1; j$1 < s$1.index + s$1.addedCount; j$1++) {\n        n$1 = children[j$1];\n        tree.Composed.insertBefore(container, n$1, next);\n        // TODO(sorvell): is this splice strictly needed?\n        composed.splice(j$1, 0, n$1);\n      }\n    }\n  },\n\n  getInsertionPointTag: function getInsertionPointTag() {\n    return this._distributor.insertionPointTag;\n  }\n\n}\n\nvar ShadyFragmentMixin = Object.create(DocumentFragment.prototype);\nextend(ShadyFragmentMixin, ShadyMixin);\n\n// let needsUpgrade = window.CustomElements && !CustomElements.useNative;\n\n// function upgradeLogicalChildren(children) {\n//   if (needsUpgrade && children) {\n//     for (let i=0; i < children.length; i++) {\n//       CustomElements.upgrade(children[i]);\n//     }\n//   }\n// }\n\n// render enqueuer/flusher\nvar customElements = window.customElements;\nvar flushList = [];\nvar scheduled;\nvar flushCount = 0;\nvar flushMax = 100;\nfunction enqueue(callback) {\n  if (!scheduled) {\n    scheduled = true;\n    promish.then(flush$1);\n  }\n  flushList.push(callback);\n}\n\nfunction flush$1() {\n  scheduled = false;\n  flushCount++;\n  while (flushList.length) {\n    flushList.shift()();\n  }\n  if (customElements && customElements.flush) {\n    customElements.flush();\n  }\n  // continue flushing after elements are upgraded...\n  var isFlushedMaxed = (flushCount > flushMax);\n  if (flushList.length && !isFlushedMaxed) {\n      flush$1();\n  }\n  flushCount = 0;\n  if (isFlushedMaxed) {\n    throw new Error('Loop detected in ShadyDOM distribution, aborting.')\n  }\n}\n\nflush$1.list = flushList;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// Cribbed from ShadowDOM polyfill\n// https://github.com/webcomponents/webcomponentsjs/blob/master/src/ShadowDOM/wrappers/HTMLElement.js#L28\n/////////////////////////////////////////////////////////////////////////////\n// innerHTML and outerHTML\n\n// http://www.whatwg.org/specs/web-apps/current-work/multipage/the-end.html#escapingString\nvar escapeAttrRegExp = /[&\\u00A0\"]/g;\nvar escapeDataRegExp = /[&\\u00A0<>]/g;\n\nfunction escapeReplace(c) {\n  switch (c) {\n    case '&':\n      return '&amp;';\n    case '<':\n      return '&lt;';\n    case '>':\n      return '&gt;';\n    case '\"':\n      return '&quot;';\n    case '\\u00A0':\n      return '&nbsp;';\n  }\n}\n\nfunction escapeAttr(s) {\n  return s.replace(escapeAttrRegExp, escapeReplace);\n}\n\nfunction escapeData(s) {\n  return s.replace(escapeDataRegExp, escapeReplace);\n}\n\nfunction makeSet(arr) {\n  var set = {};\n  for (var i = 0; i < arr.length; i++) {\n    set[arr[i]] = true;\n  }\n  return set;\n}\n\n// http://www.whatwg.org/specs/web-apps/current-work/#void-elements\nvar voidElements = makeSet([\n  'area',\n  'base',\n  'br',\n  'col',\n  'command',\n  'embed',\n  'hr',\n  'img',\n  'input',\n  'keygen',\n  'link',\n  'meta',\n  'param',\n  'source',\n  'track',\n  'wbr'\n]);\n\nvar plaintextParents = makeSet([\n  'style',\n  'script',\n  'xmp',\n  'iframe',\n  'noembed',\n  'noframes',\n  'plaintext',\n  'noscript'\n]);\n\nfunction getOuterHTML(node, parentNode, composed) {\n  switch (node.nodeType) {\n    case Node.ELEMENT_NODE: {\n      var tagName = node.localName;\n      var s = '<' + tagName;\n      var attrs = node.attributes;\n      for (var i = 0, attr; (attr = attrs[i]); i++) {\n        s += ' ' + attr.name + '=\"' + escapeAttr(attr.value) + '\"';\n      }\n      s += '>';\n      if (voidElements[tagName]) {\n        return s;\n      }\n      return s + getInnerHTML(node, composed) + '</' + tagName + '>';\n    }\n    case Node.TEXT_NODE: {\n      var data = node.data;\n      if (parentNode && plaintextParents[parentNode.localName]) {\n        return data;\n      }\n      return escapeData(data);\n    }\n    case Node.COMMENT_NODE: {\n      return '<!--' + node.data + '-->';\n    }\n    default: {\n      window.console.error(node);\n      throw new Error('not implemented');\n    }\n  }\n}\n\nfunction getInnerHTML(node, composed) {\n  if (node.localName === 'template') {\n    node = node.content;\n  }\n  var s = '';\n  var c$ = composed ? composed(node) : node.childNodes;\n  for (var i=0, l=c$.length, child; (i<l) && (child=c$[i]); i++) {\n    s += getOuterHTML(child, node, composed);\n  }\n  return s;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar mixinImpl = {\n\n  // Try to add node. Record logical info, track insertion points, perform\n  // distribution iff needed. Return true if the add is handled.\n  addNode: function addNode(container, node, ref_node) {\n    var ownerRoot = this.ownerShadyRootForNode(container);\n    if (ownerRoot) {\n      // optimization: special insertion point tracking\n      if (node.__noInsertionPoint && ownerRoot._clean) {\n        ownerRoot._skipUpdateInsertionPoints = true;\n      }\n      // note: we always need to see if an insertion point is added\n      // since this saves logical tree info; however, invalidation state\n      // needs\n      var ipAdded = this._maybeAddInsertionPoint(node, container, ownerRoot);\n      // invalidate insertion points IFF not already invalid!\n      if (ipAdded) {\n        ownerRoot._skipUpdateInsertionPoints = false;\n      }\n    }\n    if (tree.Logical.hasChildNodes(container)) {\n      tree.Logical.recordInsertBefore(node, container, ref_node);\n    }\n    // if not distributing and not adding to host, do a fast path addition\n    var handled = this._maybeDistribute(node, container, ownerRoot) ||\n      container.shadyRoot;\n    return handled;\n  },\n\n  // Try to remove node: update logical info and perform distribution iff\n  // needed. Return true if the removal has been handled.\n  // note that it's possible for both the node's host and its parent\n  // to require distribution... both cases are handled here.\n  removeNode: function removeNode(node) {\n    // important that we want to do this only if the node has a logical parent\n    var logicalParent = tree.Logical.hasParentNode(node) &&\n      tree.Logical.getParentNode(node);\n    var distributed;\n    var ownerRoot = this.ownerShadyRootForNode(node);\n    if (logicalParent) {\n      // distribute node's parent iff needed\n      distributed = this.maybeDistributeParent(node);\n      tree.Logical.recordRemoveChild(node, logicalParent);\n      // remove node from root and distribute it iff needed\n      if (ownerRoot && (this._removeDistributedChildren(ownerRoot, node) ||\n        logicalParent.localName === ownerRoot.getInsertionPointTag())) {\n        ownerRoot._skipUpdateInsertionPoints = false;\n        ownerRoot.update();\n      }\n    }\n    this._removeOwnerShadyRoot(node);\n    return distributed;\n  },\n\n\n  _scheduleObserver: function _scheduleObserver(node, addedNode, removedNode) {\n    var observer = node.__dom && node.__dom.observer;\n    if (observer) {\n      if (addedNode) {\n        observer.addedNodes.push(addedNode);\n      }\n      if (removedNode) {\n        observer.removedNodes.push(removedNode);\n      }\n      observer.schedule();\n    }\n  },\n\n  removeNodeFromParent: function removeNodeFromParent(node, parent) {\n    if (parent) {\n      this._scheduleObserver(parent, null, node);\n      this.removeNode(node);\n    } else {\n      this._removeOwnerShadyRoot(node);\n    }\n  },\n\n  _hasCachedOwnerRoot: function _hasCachedOwnerRoot(node) {\n    return Boolean(node.__ownerShadyRoot !== undefined);\n  },\n\n  getRootNode: function getRootNode$1(node) {\n    if (!node || !node.nodeType) {\n      return;\n    }\n    var root = node.__ownerShadyRoot;\n    if (root === undefined) {\n      if (isShadyRoot(node)) {\n        root = node;\n      } else {\n        var parent = tree.Logical.getParentNode(node);\n        root = parent ? this.getRootNode(parent) : node;\n      }\n      // memo-ize result for performance but only memo-ize\n      // result if node is in the document. This avoids a problem where a root\n      // can be cached while an element is inside a fragment.\n      // If this happens and we cache the result, the value can become stale\n      // because for perf we avoid processing the subtree of added fragments.\n      if (document.documentElement.contains(node)) {\n        node.__ownerShadyRoot = root;\n      }\n    }\n    return root;\n  },\n\n  ownerShadyRootForNode: function ownerShadyRootForNode(node) {\n    var root = this.getRootNode(node);\n    if (isShadyRoot(root)) {\n      return root;\n    }\n  },\n\n  _maybeDistribute: function _maybeDistribute(node, container, ownerRoot) {\n    // TODO(sorvell): technically we should check non-fragment nodes for\n    // <content> children but since this case is assumed to be exceedingly\n    // rare, we avoid the cost and will address with some specific api\n    // when the need arises.  For now, the user must call\n    // distributeContent(true), which updates insertion points manually\n    // and forces distribution.\n    var insertionPointTag = ownerRoot && ownerRoot.getInsertionPointTag() || '';\n    var fragContent = (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE) &&\n      !node.__noInsertionPoint &&\n      insertionPointTag && node.querySelector(insertionPointTag);\n    var wrappedContent = fragContent &&\n      (tree.Logical.getParentNode(fragContent).nodeType !==\n      Node.DOCUMENT_FRAGMENT_NODE);\n    var hasContent = fragContent || (node.localName === insertionPointTag);\n    // There are 3 possible cases where a distribution may need to occur:\n    // 1. <content> being inserted (the host of the shady root where\n    //    content is inserted needs distribution)\n    // 2. children being inserted into parent with a shady root (parent\n    //    needs distribution)\n    // 3. container is an insertionPoint\n    if (hasContent || (container.localName === insertionPointTag)) {\n      if (ownerRoot) {\n        // note, insertion point list update is handled after node\n        // mutations are complete\n        ownerRoot.update();\n      }\n    }\n    var needsDist = this._nodeNeedsDistribution(container);\n    if (needsDist) {\n      container.shadyRoot.update();\n    }\n    // Return true when distribution will fully handle the composition\n    // Note that if a content was being inserted that was wrapped by a node,\n    // and the parent does not need distribution, return false to allow\n    // the nodes to be added directly, after which children may be\n    // distributed and composed into the wrapping node(s)\n    return needsDist || (hasContent && !wrappedContent);\n  },\n\n  /* note: parent argument is required since node may have an out\n  of date parent at this point; returns true if a <content> is being added */\n  _maybeAddInsertionPoint: function _maybeAddInsertionPoint(node, parent, root) {\n    var this$1 = this;\n\n    var added;\n    var insertionPointTag = root.getInsertionPointTag();\n    if (node.nodeType === Node.DOCUMENT_FRAGMENT_NODE &&\n      !node.__noInsertionPoint) {\n      var c$ = node.querySelectorAll(insertionPointTag);\n      for (var i=0, n, np, na; (i<c$.length) && (n=c$[i]); i++) {\n        np = tree.Logical.getParentNode(n);\n        // don't allow node's parent to be fragment itself\n        if (np === node) {\n          np = parent;\n        }\n        na = this$1._maybeAddInsertionPoint(n, np, root);\n        added = added || na;\n      }\n    } else if (node.localName === insertionPointTag) {\n      tree.Logical.saveChildNodes(parent);\n      tree.Logical.saveChildNodes(node);\n      added = true;\n    }\n    return added;\n  },\n\n  _nodeNeedsDistribution: function _nodeNeedsDistribution(node) {\n    return node && node.shadyRoot &&\n      node.shadyRoot.hasInsertionPoint();\n  },\n\n  _removeDistributedChildren: function _removeDistributedChildren(root, container) {\n    var this$1 = this;\n\n    var hostNeedsDist;\n    var ip$ = root._insertionPoints;\n    for (var i=0; i<ip$.length; i++) {\n      var insertionPoint = ip$[i];\n      if (this$1._contains(container, insertionPoint)) {\n        var dc$ = insertionPoint.assignedNodes({flatten: true});\n        for (var j=0; j<dc$.length; j++) {\n          hostNeedsDist = true;\n          var node = dc$[j];\n          var parent = tree.Composed.getParentNode(node);\n          if (parent) {\n            tree.Composed.removeChild(parent, node);\n          }\n        }\n      }\n    }\n    return hostNeedsDist;\n  },\n\n  _contains: function _contains(container, node) {\n    while (node) {\n      if (node == container) {\n        return true;\n      }\n      node = tree.Logical.getParentNode(node);\n    }\n  },\n\n  _removeOwnerShadyRoot: function _removeOwnerShadyRoot(node) {\n    var this$1 = this;\n\n    // optimization: only reset the tree if node is actually in a root\n    if (this._hasCachedOwnerRoot(node)) {\n      var c$ = tree.Logical.getChildNodes(node);\n      for (var i=0, l=c$.length, n; (i<l) && (n=c$[i]); i++) {\n        this$1._removeOwnerShadyRoot(n);\n      }\n    }\n    node.__ownerShadyRoot = undefined;\n  },\n\n  // TODO(sorvell): This will fail if distribution that affects this\n  // question is pending; this is expected to be exceedingly rare, but if\n  // the issue comes up, we can force a flush in this case.\n  firstComposedNode: function firstComposedNode(insertionPoint) {\n    var n$ = insertionPoint.assignedNodes({flatten: true});\n    var root = this.getRootNode(insertionPoint);\n    for (var i=0, l=n$.length, n; (i<l) && (n=n$[i]); i++) {\n      // means that we're composed to this spot.\n      if (root.isFinalDestination(insertionPoint, n)) {\n        return n;\n      }\n    }\n  },\n\n  clearNode: function clearNode(node) {\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);\n    }\n  },\n\n  maybeDistributeParent: function maybeDistributeParent(node) {\n    var parent = tree.Logical.getParentNode(node);\n    if (this._nodeNeedsDistribution(parent)) {\n      parent.shadyRoot.update();\n      return true;\n    }\n  },\n\n  maybeDistributeAttributeChange: function maybeDistributeAttributeChange(node, name) {\n    if (name === 'slot') {\n      this.maybeDistributeParent(node);\n    } else if (node.localName === 'slot' && name === 'name') {\n      var root = this.ownerShadyRootForNode(node);\n      if (root) {\n        root.update();\n      }\n    }\n  },\n\n  // NOTE: `query` is used primarily for ShadyDOM's querySelector impl,\n  // but it's also generally useful to recurse through the element tree\n  // and is used by Polymer's styling system.\n  query: function query(node, matcher, halter) {\n    var list = [];\n    this._queryElements(tree.Logical.getChildNodes(node), matcher,\n      halter, list);\n    return list;\n  },\n\n  _queryElements: function _queryElements(elements, matcher, halter, list) {\n    var this$1 = this;\n\n    for (var i=0, l=elements.length, c; (i<l) && (c=elements[i]); i++) {\n      if (c.nodeType === Node.ELEMENT_NODE &&\n          this$1._queryElement(c, matcher, halter, list)) {\n        return true;\n      }\n    }\n  },\n\n  _queryElement: function _queryElement(node, matcher, halter, list) {\n    var result = matcher(node);\n    if (result) {\n      list.push(node);\n    }\n    if (halter && halter(result)) {\n      return result;\n    }\n    this._queryElements(tree.Logical.getChildNodes(node), matcher,\n      halter, list);\n  },\n\n  activeElementForNode: function activeElementForNode(node) {\n    var this$1 = this;\n\n    var active = document.activeElement;\n    if (!active) {\n      return null;\n    }\n    var isShadyRoot$$1 = !!(isShadyRoot(node));\n    if (node !== document) {\n      // If this node isn't a document or shady root, then it doesn't have\n      // an active element.\n      if (!isShadyRoot$$1) {\n        return null;\n      }\n      // If this shady root's host is the active element or the active\n      // element is not a descendant of the host (in the composed tree),\n      // then it doesn't have an active element.\n      if (node.host === active ||\n          !node.host.contains(active)) {\n        return null;\n      }\n    }\n    // This node is either the document or a shady root of which the active\n    // element is a (composed) descendant of its host; iterate upwards to\n    // find the active element's most shallow host within it.\n    var activeRoot = this.ownerShadyRootForNode(active);\n    while (activeRoot && activeRoot !== node) {\n      active = activeRoot.host;\n      activeRoot = this$1.ownerShadyRootForNode(active);\n    }\n    if (node === document) {\n      // This node is the document, so activeRoot should be null.\n      return activeRoot ? null : active;\n    } else {\n      // This node is a non-document shady root, and it should be\n      // activeRoot.\n      return activeRoot === node ? active : null;\n    }\n  }\n\n};\n\nvar nativeCloneNode = Element.prototype.cloneNode;\nvar nativeImportNode = Document.prototype.importNode;\nvar nativeSetAttribute$1 = Element.prototype.setAttribute;\nvar nativeRemoveAttribute = Element.prototype.removeAttribute;\n\nvar setAttribute = function(attr, value) {\n  // avoid scoping elements in non-main document to avoid template documents\n  if (window.ShadyCSS && attr === 'class' && this.ownerDocument === document) {\n    window.ShadyCSS.setElementClass(this, value);\n  } else {\n    nativeSetAttribute$1.call(this, attr, value);\n  }\n}\n\nvar NodeMixin = {};\n\nObject.defineProperties(NodeMixin, {\n\n  parentElement: {\n    get: function get() {\n      return tree.Logical.getParentNode(this);\n    },\n    configurable: true\n  },\n\n  parentNode: {\n    get: function get$1() {\n      return tree.Logical.getParentNode(this);\n    },\n    configurable: true\n  },\n\n  nextSibling: {\n    get: function get$2() {\n      return tree.Logical.getNextSibling(this);\n    },\n    configurable: true\n  },\n\n  previousSibling: {\n    get: function get$3() {\n      return tree.Logical.getPreviousSibling(this);\n    },\n    configurable: true\n  },\n\n  nextElementSibling: {\n    get: function get$4() {\n      return tree.Logical.getNextElementSibling(this);\n    },\n    configurable: true\n  },\n\n  previousElementSibling: {\n    get: function get$5() {\n      return tree.Logical.getPreviousElementSibling(this);\n    },\n    configurable: true\n  },\n\n  assignedSlot: {\n    get: function get$6() {\n      return this._assignedSlot;\n    },\n    configurable: true\n  }\n});\n\nvar FragmentMixin = {\n\n  appendChild: function appendChild(node) {\n    return this.insertBefore(node);\n  },\n\n  // cases in which we may not be able to just do standard native call\n  // 1. container has a shadyRoot (needsDistribution IFF the shadyRoot\n  // has an insertion point)\n  // 2. container is a shadyRoot (don't distribute, instead set\n  // container to container.host.\n  // 3. node is <content> (host of container needs distribution)\n  insertBefore: function insertBefore(node, ref_node) {\n    if (ref_node && tree.Logical.getParentNode(ref_node) !== this) {\n      throw Error('The ref_node to be inserted before is not a child ' +\n        'of this node');\n    }\n    // remove node from its current position iff it's in a tree.\n    if (node.nodeType !== Node.DOCUMENT_FRAGMENT_NODE) {\n      var parent = tree.Logical.getParentNode(node);\n      mixinImpl.removeNodeFromParent(node, parent);\n    }\n    if (!mixinImpl.addNode(this, node, ref_node)) {\n      if (ref_node) {\n        // if ref_node is an insertion point replace with first distributed node\n        var root = mixinImpl.ownerShadyRootForNode(ref_node);\n        if (root) {\n          ref_node = ref_node.localName === root.getInsertionPointTag() ?\n            mixinImpl.firstComposedNode(ref_node) : ref_node;\n        }\n      }\n      // if adding to a shadyRoot, add to host instead\n      var container = isShadyRoot(this) ?\n        this.host : this;\n      if (ref_node) {\n        tree.Composed.insertBefore(container, node, ref_node);\n      } else {\n        tree.Composed.appendChild(container, node);\n      }\n    }\n    mixinImpl._scheduleObserver(this, node);\n    return node;\n  },\n\n  /**\n    Removes the given `node` from the element's `lightChildren`.\n    This method also performs dom composition.\n  */\n  removeChild: function removeChild(node) {\n    if (tree.Logical.getParentNode(node) !== this) {\n      throw Error('The node to be removed is not a child of this node: ' +\n        node);\n    }\n    if (!mixinImpl.removeNode(node)) {\n      // if removing from a shadyRoot, remove form host instead\n      var container = isShadyRoot(this) ?\n        this.host :\n        this;\n      // not guaranteed to physically be in container; e.g.\n      // undistributed nodes.\n      var parent = tree.Composed.getParentNode(node);\n      if (container === parent) {\n        tree.Composed.removeChild(container, node);\n      }\n    }\n    mixinImpl._scheduleObserver(this, null, node);\n    return node;\n  },\n\n  replaceChild: function replaceChild(node, ref_node) {\n    this.insertBefore(node, ref_node);\n    this.removeChild(ref_node);\n    return node;\n  },\n\n  // TODO(sorvell): consider doing native QSA and filtering results.\n  querySelector: function querySelector(selector) {\n    // match selector and halt on first result.\n    var result = mixinImpl.query(this, function(n) {\n      return matchesSelector(n, selector);\n    }, function(n) {\n      return Boolean(n);\n    })[0];\n    return result || null;\n  },\n\n  querySelectorAll: function querySelectorAll(selector) {\n    return mixinImpl.query(this, function(n) {\n      return matchesSelector(n, selector);\n    });\n  },\n\n  cloneNode: function cloneNode(deep) {\n    if (this.localName == 'template') {\n      return nativeCloneNode.call(this, deep);\n    } else {\n      var n = nativeCloneNode.call(this, false);\n      if (deep) {\n        var c$ = this.childNodes;\n        for (var i=0, nc; i < c$.length; i++) {\n          nc = c$[i].cloneNode(true);\n          n.appendChild(nc);\n        }\n      }\n      return n;\n    }\n  },\n\n  importNode: function importNode(externalNode, deep) {\n    // for convenience use this node's ownerDoc if the node isn't a document\n    var doc = this instanceof Document ? this :\n      this.ownerDocument;\n    var n = nativeImportNode.call(doc, externalNode, false);\n    if (deep) {\n      var c$ = tree.Logical.getChildNodes(externalNode);\n      common.patchNode(n);\n      for (var i=0, nc; i < c$.length; i++) {\n        nc = doc.importNode(c$[i], true);\n        n.appendChild(nc);\n      }\n    }\n    return n;\n  }\n};\n\nObject.defineProperties(FragmentMixin, {\n\n  childNodes: {\n    get: function get$7() {\n      var c$ = tree.Logical.getChildNodes(this);\n      return Array.isArray(c$) ? c$ : tree.arrayCopyChildNodes(this);\n    },\n    configurable: true\n  },\n\n  children: {\n    get: function get$8() {\n      if (tree.Logical.hasChildNodes(this)) {\n        return Array.prototype.filter.call(this.childNodes, function(n) {\n          return (n.nodeType === Node.ELEMENT_NODE);\n        });\n      } else {\n        return tree.arrayCopyChildren(this);\n      }\n    },\n    configurable: true\n  },\n\n  firstChild: {\n    get: function get$9() {\n      return tree.Logical.getFirstChild(this);\n    },\n    configurable: true\n  },\n\n  lastChild: {\n    get: function get$10() {\n      return tree.Logical.getLastChild(this);\n    },\n    configurable: true\n  },\n\n  firstElementChild: {\n    get: function get$11() {\n      return tree.Logical.getFirstElementChild(this);\n    },\n    configurable: true\n  },\n\n  lastElementChild: {\n    get: function get$12() {\n      return tree.Logical.getLastElementChild(this);\n    },\n    configurable: true\n  },\n\n  // TODO(srovell): strictly speaking fragments do not have textContent\n  // or innerHTML but ShadowRoots do and are not easily distinguishable.\n  // textContent / innerHTML\n  textContent: {\n    get: function get$13() {\n      if (this.childNodes) {\n        var tc = [];\n        for (var i = 0, cn = this.childNodes, c; (c = cn[i]); i++) {\n          if (c.nodeType !== Node.COMMENT_NODE) {\n            tc.push(c.textContent);\n          }\n        }\n        return tc.join('');\n      }\n      return '';\n    },\n    set: function set(text) {\n      mixinImpl.clearNode(this);\n      if (text) {\n        this.appendChild(document.createTextNode(text));\n      }\n    },\n    configurable: true\n  },\n\n  innerHTML: {\n    get: function get$14() {\n      return getInnerHTML(this);\n    },\n    set: function set$1(text) {\n      var this$1 = this;\n\n      mixinImpl.clearNode(this);\n      var d = document.createElement('div');\n      d.innerHTML = text;\n      // here, appendChild may move nodes async so we cannot rely\n      // on node position when copying\n      var c$ = tree.arrayCopyChildNodes(d);\n      for (var i=0; i < c$.length; i++) {\n        this$1.appendChild(c$[i]);\n      }\n    },\n    configurable: true\n  }\n\n});\n\nvar ElementMixin = {\n\n  // TODO(sorvell): should only exist on <slot>\n  assignedNodes: function assignedNodes(options) {\n    return (options && options.flatten ? this._distributedNodes :\n      this._assignedNodes) || [];\n  },\n\n\n  setAttribute: function setAttribute$1(name, value) {\n    setAttribute.call(this, name, value);\n    mixinImpl.maybeDistributeAttributeChange(this, name);\n  },\n\n  removeAttribute: function removeAttribute(name) {\n    nativeRemoveAttribute.call(this, name);\n    mixinImpl.maybeDistributeAttributeChange(this, name);\n  }\n\n};\n\nObject.defineProperties(ElementMixin, {\n\n  shadowRoot: {\n    get: function get$15() {\n      return this.shadyRoot;\n    }\n  },\n\n  slot: {\n    get: function get$16() {\n      return this.getAttribute('slot');\n    },\n    set: function set$2(value) {\n      this.setAttribute('slot', value);\n    }\n  }\n\n});\n\nvar activeElementDescriptor = {\n  get: function get$17() {\n    return mixinImpl.activeElementForNode(this);\n  }\n}\n\nvar ActiveElementMixin = {};\nObject.defineProperties(ActiveElementMixin, {\n  activeElement: activeElementDescriptor\n});\n\nvar UnderActiveElementMixin = {};\nObject.defineProperties(UnderActiveElementMixin, {\n  _activeElement: activeElementDescriptor\n});\n\nvar Mixins = {\n\n  Node: extendAll({__patched: 'Node'}, NodeMixin),\n\n  Fragment: extendAll({__patched: 'Fragment'},\n    NodeMixin, FragmentMixin, ActiveElementMixin),\n\n  Element: extendAll({__patched: 'Element'},\n    NodeMixin, FragmentMixin, ElementMixin, ActiveElementMixin),\n\n  // Note: activeElement cannot be patched on document!\n  Document: extendAll({__patched: 'Document'},\n    NodeMixin, FragmentMixin, ElementMixin, UnderActiveElementMixin)\n\n};\n\nvar getRootNode = function(node) {\n  return mixinImpl.getRootNode(node);\n}\n\nfunction filterMutations(mutations, target) {\n  var targetRootNode = getRootNode(target);\n  return mutations.map(function(mutation) {\n    var mutationInScope = (targetRootNode === getRootNode(mutation.target));\n    if (mutationInScope && mutation.addedNodes) {\n      var nodes = Array.from(mutation.addedNodes).filter(function(n) {\n        return (targetRootNode === getRootNode(n));\n      });\n      if (nodes.length) {\n        mutation = Object.create(mutation);\n        Object.defineProperty(mutation, 'addedNodes', {\n          value: nodes,\n          configurable: true\n        });\n        return mutation;\n      }\n    } else if (mutationInScope) {\n      return mutation;\n    }\n  }).filter(function(m) { return m});\n}\n\n// const promise = Promise.resolve();\n\nvar AsyncObserver = function AsyncObserver() {\n  this._scheduled = false;\n  this.addedNodes = [];\n  this.removedNodes = [];\n  this.callbacks = new Set();\n};\n\nAsyncObserver.prototype.schedule = function schedule () {\n    var this$1 = this;\n\n  if (!this._scheduled) {\n    this._scheduled = true;\n    promish.then(function () {\n      this$1.flush();\n    });\n  }\n};\n\nAsyncObserver.prototype.flush = function flush () {\n  if (this._scheduled) {\n    this._scheduled = false;\n    var mutations = this.takeRecords();\n    if (mutations.length) {\n      this.callbacks.forEach(function(cb) {\n        cb(mutations);\n      });\n    }\n  }\n};\n\nAsyncObserver.prototype.takeRecords = function takeRecords () {\n  if (this.addedNodes.length || this.removedNodes.length) {\n    var mutations = [{\n      addedNodes: this.addedNodes,\n      removedNodes: this.removedNodes\n    }];\n    this.addedNodes = [];\n    this.removedNodes = [];\n    return mutations;\n  }\n  return [];\n};\n\nvar getComposedInnerHTML = function(node) {\n  if (common.isNodePatched(node)) {\n    return getInnerHTML(node, function(n) {\n      return tree.Composed.getChildNodes(n);\n    })\n  } else {\n    return node.innerHTML;\n  }\n}\n\nvar getComposedChildNodes$1 = function(node) {\n  return common.isNodePatched(node) ?\n    tree.Composed.getChildNodes(node) :\n    node.childNodes;\n}\n\n// TODO(sorvell): consider instead polyfilling MutationObserver\n// directly so that users do not have to fork their code.\n// Supporting the entire api may be challenging: e.g. filtering out\n// removed nodes in the wrong scope and seeing non-distributing\n// subtree child mutations.\nvar observeChildren = function(node, callback) {\n  common.patchNode(node);\n  if (!node.__dom.observer) {\n    node.__dom.observer = new AsyncObserver();\n  }\n  node.__dom.observer.callbacks.add(callback);\n  var observer = node.__dom.observer;\n  return {\n    _callback: callback,\n    _observer: observer,\n    _node: node,\n    takeRecords: function takeRecords() {\n      return observer.takeRecords()\n    }\n  };\n}\n\nvar unobserveChildren = function(handle) {\n  var observer = handle && handle._observer;\n  if (observer) {\n    observer.callbacks.delete(handle._callback);\n    if (!observer.callbacks.size) {\n      handle._node.__dom.observer = null;\n    }\n  }\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Patches elements that interacts with ShadyDOM\n * such that tree traversal and mutation apis act like they would under\n * ShadowDOM.\n *\n * This import enables seemless interaction with ShadyDOM powered\n * custom elements, enabling better interoperation with 3rd party code,\n * libraries, and frameworks that use DOM tree manipulation apis.\n */\n\nvar patchedCount = 0;\n\nvar log = false;\n\nvar patchImpl = {\n\n  canPatchNode: function(node) {\n    switch (node) {\n      case document.head:\n      case document.documentElement:\n        return false;\n      default:\n        return true;\n    }\n  },\n\n  hasPrototypeDescriptors: Boolean(Object.getOwnPropertyDescriptor(\n    window.Node.prototype, 'textContent')),\n\n  patch: function(node) {\n    patchedCount++;\n    log && window.console.warn('patch node', node);\n    if (this.hasPrototypeDescriptors) {\n      patchPrototype(node, this.mixinForObject(node));\n    } else {\n      window.console.warn('Patching instance rather than prototype', node);\n      extend(node, this.mixinForObject(node));\n    }\n  },\n\n  mixinForObject: function(obj) {\n    switch (obj.nodeType) {\n      case Node.ELEMENT_NODE:\n        return Mixins.Element;\n      case Node.DOCUMENT_FRAGMENT_NODE:\n        return Mixins.Fragment;\n      case Node.DOCUMENT_NODE:\n        return Mixins.Document;\n      case Node.TEXT_NODE:\n      case Node.COMMENT_NODE:\n        return Mixins.Node;\n    }\n  },\n\n  unpatch: function(obj) {\n    if (obj.__sourceProto) {\n      obj.__proto__ = obj.__sourceProto;\n\n    }\n    // TODO(sorvell): implement unpatching for non-proto patchable browsers\n  }\n\n};\n\nfunction patchNode(node) {\n  if (!settings.inUse) {\n    return;\n  }\n  if (!isNodePatched(node) && patchImpl.canPatchNode(node)) {\n    tree.saveChildNodes(node);\n    patchImpl.patch(node);\n  }\n}\n\nfunction canUnpatchNode() {\n  return Boolean(patchImpl.hasPrototypeDescriptors);\n}\n\nfunction unpatchNode(node) {\n  patchImpl.unpatch(node);\n}\n\nfunction isNodePatched(node) {\n  return Boolean(node.__patched);\n}\n\n// TODO(sorvell): fake export\ncommon.patchNode = patchNode;\ncommon.canUnpatchNode = canUnpatchNode;\ncommon.isNodePatched = isNodePatched;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar origAddEventListener = Element.prototype.addEventListener;\nvar origRemoveEventListener = Element.prototype.removeEventListener;\n\n// https://github.com/w3c/webcomponents/issues/513#issuecomment-224183937\nvar alwaysComposed = {\n  blur: true,\n  focus: true,\n  focusin: true,\n  focusout: true,\n  click: true,\n  dblclick: true,\n  mousedown: true,\n  mouseenter: true,\n  mouseleave: true,\n  mousemove: true,\n  mouseout: true,\n  mouseover: true,\n  mouseup: true,\n  wheel: true,\n  beforeinput: true,\n  input: true,\n  keydown: true,\n  keyup: true,\n  compositionstart: true,\n  compositionupdate: true,\n  compositionend: true,\n  touchstart: true,\n  touchend: true,\n  touchmove: true,\n  touchcancel: true,\n  pointerover: true,\n  pointerenter: true,\n  pointerdown: true,\n  pointermove: true,\n  pointerup: true,\n  pointercancel: true,\n  pointerout: true,\n  pointerleave: true,\n  gotpointercapture: true,\n  lostpointercapture: true,\n  dragstart: true,\n  drag: true,\n  dragenter: true,\n  dragleave: true,\n  dragover: true,\n  drop: true,\n  dragend: true,\n  DOMActivate: true,\n  DOMFocusIn: true,\n  DOMFocusOut: true,\n  keypress: true\n};\n\nfunction pathComposer(startNode, composed) {\n  var composedPath = [];\n  var current = startNode;\n  var startRoot = startNode === window ? window : startNode.getRootNode();\n  while (current) {\n    composedPath.push(current);\n    if (current.assignedSlot) {\n      current = current.assignedSlot;\n    } else if (current.nodeType === Node.DOCUMENT_FRAGMENT_NODE && current.host && (composed || current !== startRoot)) {\n      current = current.host;\n    } else {\n      current = current.parentNode;\n    }\n  }\n  // event composedPath includes window when startNode's ownerRoot is document\n  if (composedPath[composedPath.length - 1] === document) {\n    composedPath.push(window);\n  }\n  return composedPath;\n}\n\nfunction retarget(refNode, path) {\n  if (!isShadyRoot) {\n    return refNode;\n  }\n  // If ANCESTOR's root is not a shadow root or ANCESTOR's root is BASE's\n  // shadow-including inclusive ancestor, return ANCESTOR.\n  var refNodePath = pathComposer(refNode, true);\n  var p$ = path;\n  for (var i=0, ancestor, lastRoot, root, rootIdx; i < p$.length; i++) {\n    ancestor = p$[i];\n    root = ancestor === window ? window : ancestor.getRootNode();\n    if (root !== lastRoot) {\n      rootIdx = refNodePath.indexOf(root);\n      lastRoot = root;\n    }\n    if (!isShadyRoot(root) || rootIdx > -1) {\n      return ancestor;\n    }\n  }\n}\n\nvar EventMixin = {\n\n  __patched: 'Event',\n\n  get composed() {\n    if (this.isTrusted && this.__composed === undefined) {\n      this.__composed = alwaysComposed[this.type];\n    }\n    return this.__composed || false;\n  },\n\n  composedPath: function composedPath() {\n    if (!this.__composedPath) {\n      this.__composedPath = pathComposer(this.__target, this.composed);\n    }\n    return this.__composedPath;\n  },\n\n  get target() {\n    return retarget(this.currentTarget, this.composedPath());\n  },\n\n  // http://w3c.github.io/webcomponents/spec/shadow/#event-relatedtarget-retargeting\n  get relatedTarget() {\n    if (!this.__relatedTarget) {\n      return null;\n    }\n    if (!this.__relatedTargetComposedPath) {\n      this.__relatedTargetComposedPath = pathComposer(this.__relatedTarget, true);\n    }\n    // find the deepest node in relatedTarget composed path that is in the same root with the currentTarget\n    return retarget(this.currentTarget, this.__relatedTargetComposedPath);\n  },\n  stopPropagation: function stopPropagation() {\n    Event.prototype.stopPropagation.call(this);\n    this.__propagationStopped = true;\n  },\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    Event.prototype.stopImmediatePropagation.call(this);\n    this.__immediatePropagationStopped = true;\n    this.__propagationStopped = true;\n  }\n\n};\n\nfunction mixinComposedFlag(Base) {\n  // NOTE: avoiding use of `class` here so that transpiled output does not\n  // try to do `Base.call` with a dom construtor.\n  var klazz = function(type, options) {\n    var event = new Base(type, options);\n    event.__composed = options && Boolean(options.composed);\n    return event;\n  }\n  // put constructor properties on subclass\n  mixin(klazz, Base);\n  klazz.prototype = Base.prototype;\n  return klazz;\n}\n\nvar nonBubblingEventsToRetarget = {\n  focus: true,\n  blur: true\n};\n\nfunction fireHandlers(event, node, phase) {\n  var hs = node.__handlers && node.__handlers[event.type] &&\n    node.__handlers[event.type][phase];\n  if (hs) {\n    for (var i = 0, fn; (fn = hs[i]); i++) {\n      fn.call(node, event);\n      if (event.__immediatePropagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction retargetNonBubblingEvent(e) {\n  var path = e.composedPath();\n  var node;\n  // override `currentTarget` to let patched `target` calculate correctly\n  Object.defineProperty(e, 'currentTarget', {\n    get: function() {\n      return node;\n    },\n    configurable: true\n  });\n  for (var i = path.length - 1; i >= 0; i--) {\n    node = path[i];\n    // capture phase fires all capture handlers\n    fireHandlers(e, node, 'capture');\n    if (e.__propagationStopped) {\n      return;\n    }\n  }\n\n  // set the event phase to `AT_TARGET` as in spec\n  Object.defineProperty(e, 'eventPhase', {value: Event.AT_TARGET});\n\n  // the event only needs to be fired when owner roots change when iterating the event path\n  // keep track of the last seen owner root\n  var lastFiredRoot;\n  for (var i$1 = 0; i$1 < path.length; i$1++) {\n    node = path[i$1];\n    if (i$1 === 0 || (node.shadowRoot && node.shadowRoot === lastFiredRoot)) {\n      fireHandlers(e, node, 'bubble');\n      // don't bother with window, it doesn't have `getRootNode` and will be last in the path anyway\n      if (node !== window) {\n        lastFiredRoot = node.getRootNode();\n      }\n      if (e.__propagationStopped) {\n        return;\n      }\n    }\n  }\n}\n\nfunction addEventListener(type, fn, optionsOrCapture) {\n  var this$1 = this;\n\n  if (!fn) {\n    return;\n  }\n\n  // The callback `fn` might be used for multiple nodes/events. Since we generate\n  // a wrapper function, we need to keep track of it when we remove the listener.\n  // It's more efficient to store the node/type/options information as Array in\n  // `fn` itself rather than the node (we assume that the same callback is used\n  // for few nodes at most, whereas a node will likely have many event listeners).\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  var capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  if (fn.__eventWrappers) {\n    // Stop if the wrapper function has already been created.\n    for (var i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this$1 &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        return;\n      }\n    }\n  } else {\n    fn.__eventWrappers = [];\n  }\n\n  var wrapperFn = function(e) {\n    // Support `once` option.\n    if (once) {\n      this.removeEventListener(type, fn, optionsOrCapture);\n    }\n    if (!e.__target) {\n      e.__target = e.target;\n      e.__relatedTarget = e.relatedTarget;\n      patchPrototype(e, EventMixin);\n    }\n    // There are two critera that should stop events from firing on this node\n    // 1. the event is not composed and the current node is not in the same root as the target\n    // 2. when bubbling, if after retargeting, relatedTarget and target point to the same node\n    if (e.composed || e.composedPath().indexOf(this) > -1) {\n      if (e.eventPhase === Event.BUBBLING_PHASE) {\n        if (e.target === e.relatedTarget) {\n          e.stopImmediatePropagation();\n          return;\n        }\n      }\n      return fn(e);\n    }\n  };\n  // Store the wrapper information.\n  fn.__eventWrappers.push({\n    node: this,\n    type: type,\n    capture: capture,\n    once: once,\n    passive: passive,\n    wrapperFn: wrapperFn\n  });\n\n  if (nonBubblingEventsToRetarget[type]) {\n    this.__handlers = this.__handlers || {};\n    this.__handlers[type] = this.__handlers[type] || {capture: [], bubble: []};\n    this.__handlers[type][capture ? 'capture' : 'bubble'].push(wrapperFn);\n  } else {\n    origAddEventListener.call(this, type, wrapperFn, optionsOrCapture);\n  }\n}\n\nfunction removeEventListener(type, fn, optionsOrCapture) {\n  var this$1 = this;\n\n  if (!fn) {\n    return;\n  }\n\n  // NOTE(valdrin) invoking external functions is costly, inline has better perf.\n  var capture, once, passive;\n  if (typeof optionsOrCapture === 'object') {\n    capture = Boolean(optionsOrCapture.capture);\n    once = Boolean(optionsOrCapture.once);\n    passive = Boolean(optionsOrCapture.passive);\n  } else {\n    capture = Boolean(optionsOrCapture);\n    once = false;\n    passive = false;\n  }\n  // Search the wrapped function.\n  var wrapperFn = undefined;\n  if (fn.__eventWrappers) {\n    for (var i = 0; i < fn.__eventWrappers.length; i++) {\n      if (fn.__eventWrappers[i].node === this$1 &&\n          fn.__eventWrappers[i].type === type &&\n          fn.__eventWrappers[i].capture === capture &&\n          fn.__eventWrappers[i].once === once &&\n          fn.__eventWrappers[i].passive === passive) {\n        wrapperFn = fn.__eventWrappers.splice(i, 1)[0].wrapperFn;\n        // Cleanup.\n        if (!fn.__eventWrappers.length) {\n          fn.__eventWrappers = undefined;\n        }\n        break;\n      }\n    }\n  }\n\n  origRemoveEventListener.call(this, type, wrapperFn || fn, optionsOrCapture);\n  if (wrapperFn && nonBubblingEventsToRetarget[type] &&\n      this.__handlers && this.__handlers[type]) {\n    var arr = this.__handlers[type][capture ? 'capture' : 'bubble'];\n    var idx = arr.indexOf(wrapperFn);\n    if (idx > -1) {\n      arr.splice(idx, 1);\n    }\n  }\n}\n\nfunction activateFocusEventOverrides() {\n  for (var ev in nonBubblingEventsToRetarget) {\n    window.addEventListener(ev, function(e) {\n      if (!e.__target) {\n        e.__target = e.target;\n        e.__relatedTarget = e.relatedTarget;\n        patchPrototype(e, EventMixin);\n        retargetNonBubblingEvent(e);\n        e.stopImmediatePropagation();\n      }\n    }, true);\n  }\n}\n\n\nvar PatchedEvent = mixinComposedFlag(Event);\nvar PatchedCustomEvent = mixinComposedFlag(CustomEvent);\nvar PatchedMouseEvent = mixinComposedFlag(MouseEvent);\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/**\n * Patches elements that interacts with ShadyDOM\n * such that tree traversal and mutation apis act like they would under\n * ShadowDOM.\n *\n * This import enables seemless interaction with ShadyDOM powered\n * custom elements, enabling better interoperation with 3rd party code,\n * libraries, and frameworks that use DOM tree manipulation apis.\n */\n\nif (settings.inUse) {\n\n  window.ShadyDOM = {\n    tree: tree,\n    getNativeProperty: getNativeProperty,\n    patch: patchNode,\n    isPatched: isNodePatched,\n    getComposedInnerHTML: getComposedInnerHTML,\n    getComposedChildNodes: getComposedChildNodes$1,\n    unpatch: unpatchNode,\n    canUnpatch: canUnpatchNode,\n    isShadyRoot: isShadyRoot,\n    enqueue: enqueue,\n    flush: flush$1,\n    inUse: settings.inUse,\n    filterMutations: filterMutations,\n    observeChildren: observeChildren,\n    unobserveChildren: unobserveChildren\n  };\n\n  var createRootAndEnsurePatched = function(node) {\n    // TODO(sorvell): need to ensure ancestors are patched but this introduces\n    // a timing problem with gathering composed children.\n    // (1) currently the child list is crawled and patched when patching occurs\n    // (this needs to change)\n    // (2) we can only patch when an element has received its parsed children\n    // because we cannot detect them when inserted by parser.\n    // let ancestor = node;\n    // while (ancestor) {\n    //   patchNode(ancestor);\n    //   ancestor = ancestor.parentNode || ancestor.host;\n    // }\n    patchNode(node);\n    var root = new ShadyRoot(node);\n    patchNode(root);\n    return root;\n  }\n\n  Element.prototype.attachShadow = function() {\n    return createRootAndEnsurePatched(this);\n  }\n\n  Node.prototype.addEventListener = addEventListener;\n  Node.prototype.removeEventListener = removeEventListener;\n  Event = PatchedEvent;\n  CustomEvent = PatchedCustomEvent;\n  MouseEvent = PatchedMouseEvent;\n  activateFocusEventOverrides();\n\n  Object.defineProperty(Node.prototype, 'isConnected', {\n    get: function get() {\n      return document.documentElement.contains(this);\n    },\n    configurable: true\n  });\n\n  Node.prototype.getRootNode = function(options) {\n    return getRootNode(this, options);\n  }\n\n  Object.defineProperty(Element.prototype, 'slot', {\n    get: function get$1() {\n      return this.getAttribute('slot');\n    },\n    set: function set(value) {\n      this.setAttribute('slot', value);\n    },\n    configurable: true\n  });\n\n  Object.defineProperty(Node.prototype, 'assignedSlot', {\n    get: function get$2() {\n      return this._assignedSlot || null;\n    },\n    configurable: true\n  });\n\n  var nativeSetAttribute = Element.prototype.setAttribute;\n  Element.prototype.setAttribute = setAttribute;\n  // NOTE: expose native setAttribute to allow hooking native method\n  // (e.g. this is done in ShadyCSS)\n  Element.prototype.__nativeSetAttribute = nativeSetAttribute;\n\n  var classNameDescriptor = {\n    get: function get$3() {\n      return this.getAttribute('class');\n    },\n    set: function set$1(value) {\n      this.setAttribute('class', value);\n    },\n    configurable: true\n  };\n\n  // Safari 9 `className` is not configurable\n  var cn = Object.getOwnPropertyDescriptor(Element.prototype, 'className');\n  if (cn && cn.configurable) {\n    Object.defineProperty(Element.prototype, 'className', classNameDescriptor);\n  } else {\n    // on IE `className` is on Element\n    var h = window.customElements && window.customElements.nativeHTMLElement ||\n      HTMLElement;\n    cn = Object.getOwnPropertyDescriptor(h.prototype, 'className');\n    if (cn && cn.configurable) {\n      Object.defineProperty(h.prototype, 'className', classNameDescriptor);\n    }\n  }\n}\n\n}());\n\n//# sourceMappingURL=shadydom.min.js.map\n","(function () {\n'use strict';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/*\nExtremely simple css parser. Intended to be not more than what we need\nand definitely not necessarily correct =).\n*/\n\n// given a string of css, return a simple rule tree\n\nfunction parse(text) {\n  text = clean(text);\n  return parseCss(lex(text), text);\n}\n\n// remove stuff we don't care about that may hinder parsing\nfunction clean(cssText) {\n  return cssText.replace(RX.comments, '').replace(RX.port, '');\n}\n\n// super simple {...} lexer that returns a node tree\nfunction lex(text) {\n  var root = {\n    start: 0,\n    end: text.length\n  };\n  var n = root;\n  for (var i = 0, l = text.length; i < l; i++) {\n    if (text[i] === OPEN_BRACE) {\n      if (!n.rules) {\n        n.rules = [];\n      }\n      var p = n;\n      var previous = p.rules[p.rules.length - 1];\n      n = {\n        start: i + 1,\n        parent: p,\n        previous: previous\n      };\n      p.rules.push(n);\n    } else if (text[i] === CLOSE_BRACE) {\n      n.end = i + 1;\n      n = n.parent || root;\n    }\n  }\n  return root;\n}\n\n// add selectors/cssText to node tree\nfunction parseCss(node, text) {\n  var t = text.substring(node.start, node.end - 1);\n  node.parsedCssText = node.cssText = t.trim();\n  if (node.parent) {\n    var ss = node.previous ? node.previous.end : node.parent.start;\n    t = text.substring(ss, node.start - 1);\n    t = _expandUnicodeEscapes(t);\n    t = t.replace(RX.multipleSpaces, ' ');\n    // TODO(sorvell): ad hoc; make selector include only after last ;\n    // helps with mixin syntax\n    t = t.substring(t.lastIndexOf(';') + 1);\n    var s = node.parsedSelector = node.selector = t.trim();\n    node.atRule = s.indexOf(AT_START) === 0;\n    // note, support a subset of rule types...\n    if (node.atRule) {\n      if (s.indexOf(MEDIA_START) === 0) {\n        node.type = types.MEDIA_RULE;\n      } else if (s.match(RX.keyframesRule)) {\n        node.type = types.KEYFRAMES_RULE;\n        node.keyframesName = node.selector.split(RX.multipleSpaces).pop();\n      }\n    } else {\n      if (s.indexOf(VAR_START) === 0) {\n        node.type = types.MIXIN_RULE;\n      } else {\n        node.type = types.STYLE_RULE;\n      }\n    }\n  }\n  var r$ = node.rules;\n  if (r$) {\n    for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) {\n      parseCss(r, text);\n    }\n  }\n  return node;\n}\n\n// conversion of sort unicode escapes with spaces like `\\33 ` (and longer) into\n// expanded form that doesn't require trailing space `\\000033`\nfunction _expandUnicodeEscapes(s) {\n  return s.replace(/\\\\([0-9a-f]{1,6})\\s/gi, function () {\n    var code = arguments[1],\n        repeat = 6 - code.length;\n    while (repeat--) {\n      code = '0' + code;\n    }\n    return '\\\\' + code;\n  });\n}\n\n// stringify parsed css.\nfunction stringify(node, preserveProperties, text) {\n  text = text || '';\n  // calc rule cssText\n  var cssText = '';\n  if (node.cssText || node.rules) {\n    var r$ = node.rules;\n    if (r$ && !_hasMixinRules(r$)) {\n      for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) {\n        cssText = stringify(r, preserveProperties, cssText);\n      }\n    } else {\n      cssText = preserveProperties ? node.cssText : removeCustomProps(node.cssText);\n      cssText = cssText.trim();\n      if (cssText) {\n        cssText = '  ' + cssText + '\\n';\n      }\n    }\n  }\n  // emit rule if there is cssText\n  if (cssText) {\n    if (node.selector) {\n      text += node.selector + ' ' + OPEN_BRACE + '\\n';\n    }\n    text += cssText;\n    if (node.selector) {\n      text += CLOSE_BRACE + '\\n\\n';\n    }\n  }\n  return text;\n}\n\nfunction _hasMixinRules(rules) {\n  return rules[0].selector.indexOf(VAR_START) === 0;\n}\n\nfunction removeCustomProps(cssText) {\n  cssText = removeCustomPropAssignment(cssText);\n  return removeCustomPropApply(cssText);\n}\n\nfunction removeCustomPropAssignment(cssText) {\n  return cssText.replace(RX.customProp, '').replace(RX.mixinProp, '');\n}\n\nfunction removeCustomPropApply(cssText) {\n  return cssText.replace(RX.mixinApply, '').replace(RX.varApply, '');\n}\n\nvar types = {\n  STYLE_RULE: 1,\n  KEYFRAMES_RULE: 7,\n  MEDIA_RULE: 4,\n  MIXIN_RULE: 1000\n};\n\nvar OPEN_BRACE = '{';\nvar CLOSE_BRACE = '}';\n\n// helper regexp's\nvar RX = {\n  comments: /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//gim,\n  port: /@import[^;]*;/gim,\n  customProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?(?:[;\\n]|$)/gim,\n  mixinProp: /(?:^[^;\\-\\s}]+)?--[^;{}]*?:[^{};]*?{[^}]*?}(?:[;\\n]|$)?/gim,\n  mixinApply: /@apply\\s*\\(?[^);]*\\)?\\s*(?:[;\\n]|$)?/gim,\n  varApply: /[^;:]*?:[^;]*?var\\([^;]*\\)(?:[;\\n]|$)?/gim,\n  keyframesRule: /^@[^\\s]*keyframes/,\n  multipleSpaces: /\\s+/g\n};\n\nvar VAR_START = '--';\nvar MEDIA_START = '@media';\nvar AT_START = '@';\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar nativeShadow = !(window.ShadyDOM && window.ShadyDOM.inUse);\n// chrome 49 has semi-working css vars, check if box-shadow works\n// safari 9.1 has a recalc bug: https://bugs.webkit.org/show_bug.cgi?id=155782\nvar nativeCssVariables = !navigator.userAgent.match('AppleWebKit/601') && window.CSS && CSS.supports && CSS.supports('box-shadow', '0 0 0 var(--foo)');\n\n// experimental support for native @apply\nfunction detectNativeApply() {\n  var style = document.createElement('style');\n  style.textContent = '.foo { @apply --foo }';\n  document.head.appendChild(style);\n  var nativeCssApply = style.sheet.cssRules[0].cssText.indexOf('apply') >= 0;\n  document.head.removeChild(style);\n  return nativeCssApply;\n}\n\nvar nativeCssApply = false && detectNativeApply();\n\nfunction parseSettings(settings) {\n  if (settings) {\n    nativeCssVariables = nativeCssVariables && !settings.shimcssproperties;\n    nativeShadow = nativeShadow && !settings.shimshadow;\n  }\n}\n\nif (window.ShadyCSS) {\n  parseSettings(window.ShadyCSS);\n} else if (window.WebComponents) {\n  parseSettings(window.WebComponents.flags);\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nfunction toCssText(rules, callback) {\n  if (typeof rules === 'string') {\n    rules = parse(rules);\n  }\n  if (callback) {\n    forEachRule(rules, callback);\n  }\n  return stringify(rules, nativeCssVariables);\n}\n\nfunction rulesForStyle(style) {\n  if (!style.__cssRules && style.textContent) {\n    style.__cssRules = parse(style.textContent);\n  }\n  return style.__cssRules;\n}\n\n// Tests if a rule is a keyframes selector, which looks almost exactly\n// like a normal selector but is not (it has nothing to do with scoping\n// for example).\nfunction isKeyframesSelector(rule) {\n  return rule.parent && rule.parent.type === types.KEYFRAMES_RULE;\n}\n\nfunction forEachRule(node, styleRuleCallback, keyframesRuleCallback, onlyActiveRules) {\n  if (!node) {\n    return;\n  }\n  var skipRules = false;\n  if (onlyActiveRules) {\n    if (node.type === types.MEDIA_RULE) {\n      var matchMedia = node.selector.match(rx.MEDIA_MATCH);\n      if (matchMedia) {\n        // if rule is a non matching @media rule, skip subrules\n        if (!window.matchMedia(matchMedia[1]).matches) {\n          skipRules = true;\n        }\n      }\n    }\n  }\n  if (node.type === types.STYLE_RULE) {\n    styleRuleCallback(node);\n  } else if (keyframesRuleCallback && node.type === types.KEYFRAMES_RULE) {\n    keyframesRuleCallback(node);\n  } else if (node.type === types.MIXIN_RULE) {\n    skipRules = true;\n  }\n  var r$ = node.rules;\n  if (r$ && !skipRules) {\n    for (var i = 0, l = r$.length, r; i < l && (r = r$[i]); i++) {\n      forEachRule(r, styleRuleCallback, keyframesRuleCallback, onlyActiveRules);\n    }\n  }\n}\n\n// add a string of cssText to the document.\nfunction applyCss(cssText, moniker, target, contextNode) {\n  var style = createScopeStyle(cssText, moniker);\n  return applyStyle$1(style, target, contextNode);\n}\n\nfunction applyStyle$1(style, target, contextNode) {\n  target = target || document.head;\n  var after = contextNode && contextNode.nextSibling || target.firstChild;\n  lastHeadApplyNode = style;\n  return target.insertBefore(style, after);\n}\n\nfunction createScopeStyle(cssText, moniker) {\n  var style = document.createElement('style');\n  if (moniker) {\n    style.setAttribute('scope', moniker);\n  }\n  style.textContent = cssText;\n  return style;\n}\n\nvar lastHeadApplyNode = null;\n\n// insert a comment node as a styling position placeholder.\nfunction applyStylePlaceHolder(moniker) {\n  var placeHolder = document.createComment(' Shady DOM styles for ' + moniker + ' ');\n  var after = lastHeadApplyNode ? lastHeadApplyNode.nextSibling : null;\n  var scope = document.head;\n  scope.insertBefore(placeHolder, after || scope.firstChild);\n  lastHeadApplyNode = placeHolder;\n  return placeHolder;\n}\n\n\n\n// cssBuildTypeForModule: function (module) {\n//   let dm = Polymer.DomModule.import(module);\n//   if (dm) {\n//     return getCssBuildType(dm);\n//   }\n// },\n//\n\n\n// Walk from text[start] matching parens\n// returns position of the outer end paren\nfunction findMatchingParen(text, start) {\n  var level = 0;\n  for (var i = start, l = text.length; i < l; i++) {\n    if (text[i] === '(') {\n      level++;\n    } else if (text[i] === ')') {\n      if (--level === 0) {\n        return i;\n      }\n    }\n  }\n  return -1;\n}\n\nfunction processVariableAndFallback(str, callback) {\n  // find 'var('\n  var start = str.indexOf('var(');\n  if (start === -1) {\n    // no var?, everything is prefix\n    return callback(str, '', '', '');\n  }\n  //${prefix}var(${inner})${suffix}\n  var end = findMatchingParen(str, start + 3);\n  var inner = str.substring(start + 4, end);\n  var prefix = str.substring(0, start);\n  // suffix may have other variables\n  var suffix = processVariableAndFallback(str.substring(end + 1), callback);\n  var comma = inner.indexOf(',');\n  // value and fallback args should be trimmed to match in property lookup\n  if (comma === -1) {\n    // variable, no fallback\n    return callback(prefix, inner.trim(), '', suffix);\n  }\n  // var(${value},${fallback})\n  var value = inner.substring(0, comma).trim();\n  var fallback = inner.substring(comma + 1).trim();\n  return callback(prefix, value, fallback, suffix);\n}\n\nfunction setElementClassRaw(element, value) {\n  // use native setAttribute provided by ShadyDOM when setAttribute is patched\n  if (element.__nativeSetAttribute) {\n    element.__nativeSetAttribute('class', value);\n  } else {\n    element.setAttribute('class', value);\n  }\n}\n\nvar rx = {\n  VAR_ASSIGN: /(?:^|[;\\s{]\\s*)(--[\\w-]*?)\\s*:\\s*(?:([^;{]*)|{([^}]*)})(?:(?=[;\\s}])|$)/gi,\n  MIXIN_MATCH: /(?:^|\\W+)@apply\\s*\\(?([^);\\n]*)\\)?/gi,\n  VAR_CONSUMED: /(--[\\w-]+)\\s*([:,;)]|$)/gi,\n  ANIMATION_MATCH: /(animation\\s*:)|(animation-name\\s*:)/,\n  MEDIA_MATCH: /@media[^(]*(\\([^)]*\\))/,\n  IS_VAR: /^--/,\n  BRACKETED: /\\{[^}]*\\}/g,\n  HOST_PREFIX: '(?:^|[^.#[:])',\n  HOST_SUFFIX: '($|[.:[\\\\s>+~])'\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/* Transforms ShadowDOM styling into ShadyDOM styling\n\n* scoping:\n\n  * elements in scope get scoping selector class=\"x-foo-scope\"\n  * selectors re-written as follows:\n\n    div button -> div.x-foo-scope button.x-foo-scope\n\n* :host -> scopeName\n\n* :host(...) -> scopeName...\n\n* ::slotted(...) -> scopeName > ...\n\n* ...:dir(ltr|rtl) -> [dir=\"ltr|rtl\"] ..., ...[dir=\"ltr|rtl\"]\n\n* :host(:dir[rtl]) -> scopeName:dir(rtl) -> [dir=\"rtl\"] scopeName, scopeName[dir=\"rtl\"]\n\n*/\nvar SCOPE_NAME = 'style-scope';\n\nvar StyleTransformer = {\n\n  // Given a node and scope name, add a scoping class to each node\n  // in the tree. This facilitates transforming css into scoped rules.\n  dom: function dom(node, scope, shouldRemoveScope) {\n    // one time optimization to skip scoping...\n    if (node.__styleScoped) {\n      node.__styleScoped = null;\n    } else {\n      this._transformDom(node, scope || '', shouldRemoveScope);\n    }\n  },\n\n  _transformDom: function _transformDom(node, selector, shouldRemoveScope) {\n    if (node.nodeType === Node.ELEMENT_NODE) {\n      this.element(node, selector, shouldRemoveScope);\n    }\n    var c$ = node.localName === 'template' ? (node.content || node._content).childNodes : node.children || node.childNodes;\n    if (c$) {\n      for (var i = 0; i < c$.length; i++) {\n        this._transformDom(c$[i], selector, shouldRemoveScope);\n      }\n    }\n  },\n\n  element: function element(_element, scope, shouldRemoveScope) {\n    // note: if using classes, we add both the general 'style-scope' class\n    // as well as the specific scope. This enables easy filtering of all\n    // `style-scope` elements\n    if (scope) {\n      // note: svg on IE does not have classList so fallback to class\n      if (_element.classList) {\n        if (shouldRemoveScope) {\n          _element.classList.remove(SCOPE_NAME);\n          _element.classList.remove(scope);\n        } else {\n          _element.classList.add(SCOPE_NAME);\n          _element.classList.add(scope);\n        }\n      } else if (_element.getAttribute) {\n        var c = _element.getAttribute(CLASS);\n        if (shouldRemoveScope) {\n          if (c) {\n            var newValue = c.replace(SCOPE_NAME, '').replace(scope, '');\n            setElementClassRaw(_element, newValue);\n          }\n        } else {\n          var _newValue = (c ? c + ' ' : '') + SCOPE_NAME + ' ' + scope;\n          setElementClassRaw(_element, _newValue);\n        }\n      }\n    }\n  },\n\n  elementStyles: function elementStyles(element, styleRules, callback) {\n    var cssBuildType = element.__cssBuild;\n    // no need to shim selectors if settings.useNativeShadow, also\n    // a shady css build will already have transformed selectors\n    // NOTE: This method may be called as part of static or property shimming.\n    // When there is a targeted build it will not be called for static shimming,\n    // but when the property shim is used it is called and should opt out of\n    // static shimming work when a proper build exists.\n    var cssText = nativeShadow || cssBuildType === 'shady' ? toCssText(styleRules, callback) : this.css(styleRules, element.is, element.extends, callback) + '\\n\\n';\n    return cssText.trim();\n  },\n\n  // Given a string of cssText and a scoping string (scope), returns\n  // a string of scoped css where each selector is transformed to include\n  // a class created from the scope. ShadowDOM selectors are also transformed\n  // (e.g. :host) to use the scoping selector.\n  css: function css(rules, scope, ext, callback) {\n    var hostScope = this._calcHostScope(scope, ext);\n    scope = this._calcElementScope(scope);\n    var self = this;\n    return toCssText(rules, function (rule) {\n      if (!rule.isScoped) {\n        self.rule(rule, scope, hostScope);\n        rule.isScoped = true;\n      }\n      if (callback) {\n        callback(rule, scope, hostScope);\n      }\n    });\n  },\n\n  _calcElementScope: function _calcElementScope(scope) {\n    if (scope) {\n      return CSS_CLASS_PREFIX + scope;\n    } else {\n      return '';\n    }\n  },\n\n  _calcHostScope: function _calcHostScope(scope, ext) {\n    return ext ? '[is=' + scope + ']' : scope;\n  },\n\n  rule: function rule(_rule, scope, hostScope) {\n    this._transformRule(_rule, this._transformComplexSelector, scope, hostScope);\n  },\n\n  // transforms a css rule to a scoped rule.\n  _transformRule: function _transformRule(rule, transformer, scope, hostScope) {\n    // NOTE: save transformedSelector for subsequent matching of elements\n    // against selectors (e.g. when calculating style properties)\n    rule.selector = rule.transformedSelector = this._transformRuleCss(rule, transformer, scope, hostScope);\n  },\n\n  _transformRuleCss: function _transformRuleCss(rule, transformer, scope, hostScope) {\n    var p$ = rule.selector.split(COMPLEX_SELECTOR_SEP);\n    // we want to skip transformation of rules that appear in keyframes,\n    // because they are keyframe selectors, not element selectors.\n    if (!isKeyframesSelector(rule)) {\n      for (var i = 0, l = p$.length, p; i < l && (p = p$[i]); i++) {\n        p$[i] = transformer.call(this, p, scope, hostScope);\n      }\n    }\n    return p$.join(COMPLEX_SELECTOR_SEP);\n  },\n\n  _transformComplexSelector: function _transformComplexSelector(selector, scope, hostScope) {\n    var _this = this;\n\n    var stop = false;\n    selector = selector.trim();\n    // Remove spaces inside of selectors like `:nth-of-type` because it confuses SIMPLE_SELECTOR_SEP\n    selector = selector.replace(NTH, function (m, type, inner) {\n      return ':' + type + '(' + inner.replace(/\\s/g, '') + ')';\n    });\n    selector = selector.replace(SLOTTED_START, HOST + ' $1');\n    selector = selector.replace(SIMPLE_SELECTOR_SEP, function (m, c, s) {\n      if (!stop) {\n        var info = _this._transformCompoundSelector(s, c, scope, hostScope);\n        stop = stop || info.stop;\n        c = info.combinator;\n        s = info.value;\n      }\n      return c + s;\n    });\n    return selector;\n  },\n\n  _transformCompoundSelector: function _transformCompoundSelector(selector, combinator, scope, hostScope) {\n    // replace :host with host scoping class\n    var slottedIndex = selector.indexOf(SLOTTED);\n    if (selector.indexOf(HOST) >= 0) {\n      selector = this._transformHostSelector(selector, hostScope);\n      // replace other selectors with scoping class\n    } else if (slottedIndex !== 0) {\n      selector = scope ? this._transformSimpleSelector(selector, scope) : selector;\n    }\n    // mark ::slotted() scope jump to replace with descendant selector + arg\n    // also ignore left-side combinator\n    var slotted = false;\n    if (slottedIndex >= 0) {\n      combinator = '';\n      slotted = true;\n    }\n    // process scope jumping selectors up to the scope jump and then stop\n    var stop = void 0;\n    if (slotted) {\n      stop = true;\n      if (slotted) {\n        // .zonk ::slotted(.foo) -> .zonk.scope > .foo\n        selector = selector.replace(SLOTTED_PAREN, function (m, paren) {\n          return ' > ' + paren;\n        });\n      }\n    }\n    selector = selector.replace(DIR_PAREN, function (m, before, dir) {\n      return '[dir=\"' + dir + '\"] ' + before + ', ' + before + '[dir=\"' + dir + '\"]';\n    });\n    return { value: selector, combinator: combinator, stop: stop };\n  },\n\n  _transformSimpleSelector: function _transformSimpleSelector(selector, scope) {\n    var p$ = selector.split(PSEUDO_PREFIX);\n    p$[0] += scope;\n    return p$.join(PSEUDO_PREFIX);\n  },\n\n  // :host(...) -> scopeName...\n  _transformHostSelector: function _transformHostSelector(selector, hostScope) {\n    var m = selector.match(HOST_PAREN);\n    var paren = m && m[2].trim() || '';\n    if (paren) {\n      if (!paren[0].match(SIMPLE_SELECTOR_PREFIX)) {\n        // paren starts with a type selector\n        var typeSelector = paren.split(SIMPLE_SELECTOR_PREFIX)[0];\n        // if the type selector is our hostScope then avoid pre-pending it\n        if (typeSelector === hostScope) {\n          return paren;\n          // otherwise, this selector should not match in this scope so\n          // output a bogus selector.\n        } else {\n          return SELECTOR_NO_MATCH;\n        }\n      } else {\n        // make sure to do a replace here to catch selectors like:\n        // `:host(.foo)::before`\n        return selector.replace(HOST_PAREN, function (m, host, paren) {\n          return hostScope + paren;\n        });\n      }\n      // if no paren, do a straight :host replacement.\n      // TODO(sorvell): this should not strictly be necessary but\n      // it's needed to maintain support for `:host[foo]` type selectors\n      // which have been improperly used under Shady DOM. This should be\n      // deprecated.\n    } else {\n      return selector.replace(HOST, hostScope);\n    }\n  },\n\n  documentRule: function documentRule(rule) {\n    // reset selector in case this is redone.\n    rule.selector = rule.parsedSelector;\n    this.normalizeRootSelector(rule);\n    this._transformRule(rule, this._transformDocumentSelector);\n  },\n\n  normalizeRootSelector: function normalizeRootSelector(rule) {\n    if (rule.selector === ROOT) {\n      rule.selector = 'html';\n    }\n  },\n\n  _transformDocumentSelector: function _transformDocumentSelector(selector) {\n    return selector.match(SLOTTED) ? this._transformComplexSelector(selector, SCOPE_DOC_SELECTOR) : this._transformSimpleSelector(selector.trim(), SCOPE_DOC_SELECTOR);\n  },\n  SCOPE_NAME: SCOPE_NAME\n};\n\nvar NTH = /:(nth[-\\w]+)\\(([^)]+)\\)/;\nvar SCOPE_DOC_SELECTOR = ':not(.' + SCOPE_NAME + ')';\nvar COMPLEX_SELECTOR_SEP = ',';\nvar SIMPLE_SELECTOR_SEP = /(^|[\\s>+~]+)((?:\\[.+?\\]|[^\\s>+~=\\[])+)/g;\nvar SIMPLE_SELECTOR_PREFIX = /[[.:#*]/;\nvar HOST = ':host';\nvar ROOT = ':root';\nvar SLOTTED = '::slotted';\nvar SLOTTED_START = new RegExp('^(' + SLOTTED + ')');\n// NOTE: this supports 1 nested () pair for things like\n// :host(:not([selected]), more general support requires\n// parsing which seems like overkill\nvar HOST_PAREN = /(:host)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/;\n// similar to HOST_PAREN\nvar SLOTTED_PAREN = /(?:::slotted)(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))/;\nvar DIR_PAREN = /(.*):dir\\((?:(ltr|rtl))\\)/;\nvar CSS_CLASS_PREFIX = '.';\nvar PSEUDO_PREFIX = ':';\nvar CLASS = 'class';\nvar SELECTOR_NO_MATCH = 'should_not_match';\n\nvar asyncGenerator = function () {\n  function AwaitValue(value) {\n    this.value = value;\n  }\n\n  function AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function (resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n\n        if (value instanceof AwaitValue) {\n          Promise.resolve(value.value).then(function (arg) {\n            resume(\"next\", arg);\n          }, function (arg) {\n            resume(\"throw\", arg);\n          });\n        } else {\n          settle(result.done ? \"return\" : \"normal\", result.value);\n        }\n      } catch (err) {\n        settle(\"throw\", err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case \"return\":\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case \"throw\":\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== \"function\") {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === \"function\" && Symbol.asyncIterator) {\n    AsyncGenerator.prototype[Symbol.asyncIterator] = function () {\n      return this;\n    };\n  }\n\n  AsyncGenerator.prototype.next = function (arg) {\n    return this._invoke(\"next\", arg);\n  };\n\n  AsyncGenerator.prototype.throw = function (arg) {\n    return this._invoke(\"throw\", arg);\n  };\n\n  AsyncGenerator.prototype.return = function (arg) {\n    return this._invoke(\"return\", arg);\n  };\n\n  return {\n    wrap: function (fn) {\n      return function () {\n        return new AsyncGenerator(fn.apply(this, arguments));\n      };\n    },\n    await: function (value) {\n      return new AwaitValue(value);\n    }\n  };\n}();\n\n\n\n\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\n\n\n\n\n\n\nvar get$1 = function get$1(object, property, receiver) {\n  if (object === null) object = Function.prototype;\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent === null) {\n      return undefined;\n    } else {\n      return get$1(parent, property, receiver);\n    }\n  } else if (\"value\" in desc) {\n    return desc.value;\n  } else {\n    var getter = desc.get;\n\n    if (getter === undefined) {\n      return undefined;\n    }\n\n    return getter.call(receiver);\n  }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar set$1 = function set$1(object, property, value, receiver) {\n  var desc = Object.getOwnPropertyDescriptor(object, property);\n\n  if (desc === undefined) {\n    var parent = Object.getPrototypeOf(object);\n\n    if (parent !== null) {\n      set$1(parent, property, value, receiver);\n    }\n  } else if (\"value\" in desc && desc.writable) {\n    desc.value = value;\n  } else {\n    var setter = desc.set;\n\n    if (setter !== undefined) {\n      setter.call(receiver, value);\n    }\n  }\n\n  return value;\n};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar StyleInfo = function () {\n  createClass(StyleInfo, null, [{\n    key: 'get',\n    value: function get(node) {\n      return node.__styleInfo;\n    }\n  }, {\n    key: 'set',\n    value: function set(node, styleInfo) {\n      node.__styleInfo = styleInfo;\n      return styleInfo;\n    }\n  }]);\n\n  function StyleInfo(ast, placeholder, ownStylePropertyNames, elementName, typeExtension, cssBuild) {\n    classCallCheck(this, StyleInfo);\n\n    this.styleRules = ast || null;\n    this.placeholder = placeholder || null;\n    this.ownStylePropertyNames = ownStylePropertyNames || [];\n    this.overrideStyleProperties = null;\n    this.elementName = elementName || '';\n    this.cssBuild = cssBuild || '';\n    this.typeExtension = typeExtension || '';\n    this.styleProperties = null;\n    this.scopeSelector = null;\n    this.customStyle = null;\n  }\n\n  return StyleInfo;\n}();\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// TODO: dedupe with shady\nvar p = window.Element.prototype;\nvar matchesSelector = p.matches || p.matchesSelector || p.mozMatchesSelector || p.msMatchesSelector || p.oMatchesSelector || p.webkitMatchesSelector;\n\nvar IS_IE = navigator.userAgent.match('Trident');\n\nvar StyleProperties = {\n\n  // decorates styles with rule info and returns an array of used style\n  // property names\n  decorateStyles: function decorateStyles(rules) {\n    var self = this,\n        props = {},\n        keyframes = [],\n        ruleIndex = 0;\n    forEachRule(rules, function (rule) {\n      self.decorateRule(rule);\n      // mark in-order position of ast rule in styles block, used for cache key\n      rule.index = ruleIndex++;\n      self.collectPropertiesInCssText(rule.propertyInfo.cssText, props);\n    }, function onKeyframesRule(rule) {\n      keyframes.push(rule);\n    });\n    // Cache all found keyframes rules for later reference:\n    rules._keyframes = keyframes;\n    // return this list of property names *consumes* in these styles.\n    var names = [];\n    for (var i in props) {\n      names.push(i);\n    }\n    return names;\n  },\n\n  // decorate a single rule with property info\n  decorateRule: function decorateRule(rule) {\n    if (rule.propertyInfo) {\n      return rule.propertyInfo;\n    }\n    var info = {},\n        properties = {};\n    var hasProperties = this.collectProperties(rule, properties);\n    if (hasProperties) {\n      info.properties = properties;\n      // TODO(sorvell): workaround parser seeing mixins as additional rules\n      rule.rules = null;\n    }\n    info.cssText = this.collectCssText(rule);\n    rule.propertyInfo = info;\n    return info;\n  },\n\n  // collects the custom properties from a rule's cssText\n  collectProperties: function collectProperties(rule, properties) {\n    var info = rule.propertyInfo;\n    if (info) {\n      if (info.properties) {\n        Object.assign(properties, info.properties);\n        return true;\n      }\n    } else {\n      var m = void 0,\n          rx$$1 = this.rx.VAR_ASSIGN;\n      var cssText = rule.parsedCssText;\n      var value = void 0;\n      var any = void 0;\n      while (m = rx$$1.exec(cssText)) {\n        // note: group 2 is var, 3 is mixin\n        value = (m[2] || m[3]).trim();\n        // value of 'inherit' or 'unset' is equivalent to not setting the property here\n        if (value !== 'inherit' || value !== 'unset') {\n          properties[m[1].trim()] = value;\n        }\n        any = true;\n      }\n      return any;\n    }\n  },\n\n  // returns cssText of properties that consume variables/mixins\n  collectCssText: function collectCssText(rule) {\n    return this.collectConsumingCssText(rule.parsedCssText);\n  },\n\n  // NOTE: we support consumption inside mixin assignment\n  // but not production, so strip out {...}\n  collectConsumingCssText: function collectConsumingCssText(cssText) {\n    return cssText.replace(this.rx.BRACKETED, '').replace(this.rx.VAR_ASSIGN, '');\n  },\n\n  collectPropertiesInCssText: function collectPropertiesInCssText(cssText, props) {\n    var m = void 0;\n    while (m = this.rx.VAR_CONSUMED.exec(cssText)) {\n      var name = m[1];\n      // This regex catches all variable names, and following non-whitespace char\n      // If next char is not ':', then variable is a consumer\n      if (m[2] !== ':') {\n        props[name] = true;\n      }\n    }\n  },\n\n  // turns custom properties into realized values.\n  reify: function reify(props) {\n    // big perf optimization here: reify only *own* properties\n    // since this object has __proto__ of the element's scope properties\n    var names = Object.getOwnPropertyNames(props);\n    for (var i = 0, n; i < names.length; i++) {\n      n = names[i];\n      props[n] = this.valueForProperty(props[n], props);\n    }\n  },\n\n  // given a property value, returns the reified value\n  // a property value may be:\n  // (1) a literal value like: red or 5px;\n  // (2) a variable value like: var(--a), var(--a, red), or var(--a, --b) or\n  // var(--a, var(--b));\n  // (3) a literal mixin value like { properties }. Each of these properties\n  // can have values that are: (a) literal, (b) variables, (c) @apply mixins.\n  valueForProperty: function valueForProperty(property, props) {\n    var _this = this;\n\n    // case (1) default\n    // case (3) defines a mixin and we have to reify the internals\n    if (property) {\n      if (property.indexOf(';') >= 0) {\n        property = this.valueForProperties(property, props);\n      } else {\n        (function () {\n          // case (2) variable\n          var self = _this;\n          var fn = function fn(prefix, value, fallback, suffix) {\n            if (!value) {\n              return prefix + suffix;\n            }\n            var propertyValue = self.valueForProperty(props[value], props);\n            // if value is \"initial\", then the variable should be treated as unset\n            if (!propertyValue || propertyValue === 'initial') {\n              // fallback may be --a or var(--a) or literal\n              propertyValue = self.valueForProperty(props[fallback] || fallback, props) || fallback;\n            } else if (propertyValue === 'apply-shim-inherit') {\n              // CSS build will replace `inherit` with `apply-shim-inherit`\n              // for use with native css variables.\n              // Since we have full control, we can use `inherit` directly.\n              propertyValue = 'inherit';\n            }\n            return prefix + (propertyValue || '') + suffix;\n          };\n          property = processVariableAndFallback(property, fn);\n        })();\n      }\n    }\n    return property && property.trim() || '';\n  },\n\n  // note: we do not yet support mixin within mixin\n  valueForProperties: function valueForProperties(property, props) {\n    var parts = property.split(';');\n    for (var i = 0, _p, m; i < parts.length; i++) {\n      if (_p = parts[i]) {\n        this.rx.MIXIN_MATCH.lastIndex = 0;\n        m = this.rx.MIXIN_MATCH.exec(_p);\n        if (m) {\n          _p = this.valueForProperty(props[m[1]], props);\n        } else {\n          var colon = _p.indexOf(':');\n          if (colon !== -1) {\n            var pp = _p.substring(colon);\n            pp = pp.trim();\n            pp = this.valueForProperty(pp, props) || pp;\n            _p = _p.substring(0, colon) + pp;\n          }\n        }\n        parts[i] = _p && _p.lastIndexOf(';') === _p.length - 1 ?\n        // strip trailing ;\n        _p.slice(0, -1) : _p || '';\n      }\n    }\n    return parts.join(';');\n  },\n\n  applyProperties: function applyProperties(rule, props) {\n    var output = '';\n    // dynamically added sheets may not be decorated so ensure they are.\n    if (!rule.propertyInfo) {\n      this.decorateRule(rule);\n    }\n    if (rule.propertyInfo.cssText) {\n      output = this.valueForProperties(rule.propertyInfo.cssText, props);\n    }\n    rule.cssText = output;\n  },\n\n  // Apply keyframe transformations to the cssText of a given rule. The\n  // keyframeTransforms object is a map of keyframe names to transformer\n  // functions which take in cssText and spit out transformed cssText.\n  applyKeyframeTransforms: function applyKeyframeTransforms(rule, keyframeTransforms) {\n    var input = rule.cssText;\n    var output = rule.cssText;\n    if (rule.hasAnimations == null) {\n      // Cache whether or not the rule has any animations to begin with:\n      rule.hasAnimations = this.rx.ANIMATION_MATCH.test(input);\n    }\n    // If there are no animations referenced, we can skip transforms:\n    if (rule.hasAnimations) {\n      var transform = void 0;\n      // If we haven't transformed this rule before, we iterate over all\n      // transforms:\n      if (rule.keyframeNamesToTransform == null) {\n        rule.keyframeNamesToTransform = [];\n        for (var keyframe in keyframeTransforms) {\n          transform = keyframeTransforms[keyframe];\n          output = transform(input);\n          // If the transform actually changed the CSS text, we cache the\n          // transform name for future use:\n          if (input !== output) {\n            input = output;\n            rule.keyframeNamesToTransform.push(keyframe);\n          }\n        }\n      } else {\n        // If we already have a list of keyframe names that apply to this\n        // rule, we apply only those keyframe name transforms:\n        for (var i = 0; i < rule.keyframeNamesToTransform.length; ++i) {\n          transform = keyframeTransforms[rule.keyframeNamesToTransform[i]];\n          input = transform(input);\n        }\n        output = input;\n      }\n    }\n    rule.cssText = output;\n  },\n\n  // Test if the rules in these styles matches the given `element` and if so,\n  // collect any custom properties into `props`.\n  propertyDataFromStyles: function propertyDataFromStyles(rules, element) {\n    var props = {},\n        self = this;\n    // generates a unique key for these matches\n    var o = [];\n    // note: active rules excludes non-matching @media rules\n    forEachRule(rules, function (rule) {\n      // TODO(sorvell): we could trim the set of rules at declaration\n      // time to only include ones that have properties\n      if (!rule.propertyInfo) {\n        self.decorateRule(rule);\n      }\n      // match element against transformedSelector: selector may contain\n      // unwanted uniquification and parsedSelector does not directly match\n      // for :host selectors.\n      var selectorToMatch = rule.transformedSelector || rule.parsedSelector;\n      if (element && rule.propertyInfo.properties && selectorToMatch) {\n        if (matchesSelector.call(element, selectorToMatch)) {\n          self.collectProperties(rule, props);\n          // produce numeric key for these matches for lookup\n          addToBitMask(rule.index, o);\n        }\n      }\n    }, null, true);\n    return { properties: props, key: o };\n  },\n\n  whenHostOrRootRule: function whenHostOrRootRule(scope, rule, cssBuild, callback) {\n    if (!rule.propertyInfo) {\n      this.decorateRule(rule);\n    }\n    if (!rule.propertyInfo.properties) {\n      return;\n    }\n    var hostScope = scope.is ? StyleTransformer._calcHostScope(scope.is, scope.extends) : 'html';\n    var parsedSelector = rule.parsedSelector;\n    var isRoot = parsedSelector === ':host > *' || parsedSelector === 'html';\n    var isHost = parsedSelector.indexOf(':host') === 0 && !isRoot;\n    // build info is either in scope (when scope is an element) or in the style\n    // when scope is the default scope; note: this allows default scope to have\n    // mixed mode built and unbuilt styles.\n    if (cssBuild === 'shady') {\n      // :root -> x-foo > *.x-foo for elements and html for custom-style\n      isRoot = parsedSelector === hostScope + ' > *.' + hostScope || parsedSelector.indexOf('html') !== -1;\n      // :host -> x-foo for elements, but sub-rules have .x-foo in them\n      isHost = !isRoot && parsedSelector.indexOf(hostScope) === 0;\n    }\n    if (cssBuild === 'shadow') {\n      isRoot = parsedSelector === ':host > *' || parsedSelector === 'html';\n      isHost = isHost && !isRoot;\n    }\n    if (!isRoot && !isHost) {\n      return;\n    }\n    var selectorToMatch = hostScope;\n    if (isHost) {\n      // need to transform :host under ShadowDOM because `:host` does not work with `matches`\n      if (nativeShadow && !rule.transformedSelector) {\n        // transform :host into a matchable selector\n        rule.transformedSelector = StyleTransformer._transformRuleCss(rule, StyleTransformer._transformComplexSelector, StyleTransformer._calcElementScope(scope.is), hostScope);\n      }\n      selectorToMatch = rule.transformedSelector || hostScope;\n    }\n    callback({\n      selector: selectorToMatch,\n      isHost: isHost,\n      isRoot: isRoot\n    });\n  },\n\n  hostAndRootPropertiesForScope: function hostAndRootPropertiesForScope(scope, rules) {\n    var hostProps = {},\n        rootProps = {},\n        self = this;\n    // note: active rules excludes non-matching @media rules\n    var cssBuild = rules && rules.__cssBuild;\n    forEachRule(rules, function (rule) {\n      // if scope is StyleDefaults, use _element for matchesSelector\n      self.whenHostOrRootRule(scope, rule, cssBuild, function (info) {\n        var element = scope._element || scope;\n        if (matchesSelector.call(element, info.selector)) {\n          if (info.isHost) {\n            self.collectProperties(rule, hostProps);\n          } else {\n            self.collectProperties(rule, rootProps);\n          }\n        }\n      });\n    }, null, true);\n    return { rootProps: rootProps, hostProps: hostProps };\n  },\n\n  transformStyles: function transformStyles(element, properties, scopeSelector) {\n    var self = this;\n    var hostSelector = StyleTransformer._calcHostScope(element.is, element.extends);\n    var rxHostSelector = element.extends ? '\\\\' + hostSelector.slice(0, -1) + '\\\\]' : hostSelector;\n    var hostRx = new RegExp(this.rx.HOST_PREFIX + rxHostSelector + this.rx.HOST_SUFFIX);\n    var rules = StyleInfo.get(element).styleRules;\n    var keyframeTransforms = this._elementKeyframeTransforms(element, rules, scopeSelector);\n    return StyleTransformer.elementStyles(element, rules, function (rule) {\n      self.applyProperties(rule, properties);\n      if (!nativeShadow && !isKeyframesSelector(rule) && rule.cssText) {\n        // NOTE: keyframe transforms only scope munge animation names, so it\n        // is not necessary to apply them in ShadowDOM.\n        self.applyKeyframeTransforms(rule, keyframeTransforms);\n        self._scopeSelector(rule, hostRx, hostSelector, scopeSelector);\n      }\n    });\n  },\n\n  _elementKeyframeTransforms: function _elementKeyframeTransforms(element, rules, scopeSelector) {\n    var keyframesRules = rules._keyframes;\n    var keyframeTransforms = {};\n    if (!nativeShadow && keyframesRules) {\n      // For non-ShadowDOM, we transform all known keyframes rules in\n      // advance for the current scope. This allows us to catch keyframes\n      // rules that appear anywhere in the stylesheet:\n      for (var i = 0, keyframesRule = keyframesRules[i]; i < keyframesRules.length; keyframesRule = keyframesRules[++i]) {\n        this._scopeKeyframes(keyframesRule, scopeSelector);\n        keyframeTransforms[keyframesRule.keyframesName] = this._keyframesRuleTransformer(keyframesRule);\n      }\n    }\n    return keyframeTransforms;\n  },\n\n  // Generate a factory for transforming a chunk of CSS text to handle a\n  // particular scoped keyframes rule.\n  _keyframesRuleTransformer: function _keyframesRuleTransformer(keyframesRule) {\n    return function (cssText) {\n      return cssText.replace(keyframesRule.keyframesNameRx, keyframesRule.transformedKeyframesName);\n    };\n  },\n\n  // Transforms `@keyframes` names to be unique for the current host.\n  // Example: @keyframes foo-anim -> @keyframes foo-anim-x-foo-0\n  _scopeKeyframes: function _scopeKeyframes(rule, scopeId) {\n    rule.keyframesNameRx = new RegExp(rule.keyframesName, 'g');\n    rule.transformedKeyframesName = rule.keyframesName + '-' + scopeId;\n    rule.transformedSelector = rule.transformedSelector || rule.selector;\n    rule.selector = rule.transformedSelector.replace(rule.keyframesName, rule.transformedKeyframesName);\n  },\n\n  // Strategy: x scope shim a selector e.g. to scope `.x-foo-42` (via classes):\n  // non-host selector: .a.x-foo -> .x-foo-42 .a.x-foo\n  // host selector: x-foo.wide -> .x-foo-42.wide\n  // note: we use only the scope class (.x-foo-42) and not the hostSelector\n  // (x-foo) to scope :host rules; this helps make property host rules\n  // have low specificity. They are overrideable by class selectors but,\n  // unfortunately, not by type selectors (e.g. overriding via\n  // `.special` is ok, but not by `x-foo`).\n  _scopeSelector: function _scopeSelector(rule, hostRx, hostSelector, scopeId) {\n    rule.transformedSelector = rule.transformedSelector || rule.selector;\n    var selector = rule.transformedSelector;\n    var scope = '.' + scopeId;\n    var parts = selector.split(',');\n    for (var i = 0, l = parts.length, _p2; i < l && (_p2 = parts[i]); i++) {\n      parts[i] = _p2.match(hostRx) ? _p2.replace(hostSelector, scope) : scope + ' ' + _p2;\n    }\n    rule.selector = parts.join(',');\n  },\n\n  applyElementScopeSelector: function applyElementScopeSelector(element, selector, old) {\n    var c = element.getAttribute('class') || '';\n    var v = c;\n    if (old) {\n      v = c.replace(new RegExp('\\\\s*' + this.XSCOPE_NAME + '\\\\s*' + old + '\\\\s*', 'g'), ' ');\n    }\n    v += (v ? ' ' : '') + this.XSCOPE_NAME + ' ' + selector;\n    if (c !== v) {\n      // hook from ShadyDOM\n      if (element.__nativeSetAttribute) {\n        element.__nativeSetAttribute('class', v);\n      } else {\n        element.setAttribute('class', v);\n      }\n    }\n  },\n\n  applyElementStyle: function applyElementStyle(element, properties, selector, style) {\n    // calculate cssText to apply\n    var cssText = style ? style.textContent || '' : this.transformStyles(element, properties, selector);\n    // if shady and we have a cached style that is not style, decrement\n    var styleInfo = StyleInfo.get(element);\n    var s = styleInfo.customStyle;\n    if (s && !nativeShadow && s !== style) {\n      s._useCount--;\n      if (s._useCount <= 0 && s.parentNode) {\n        s.parentNode.removeChild(s);\n      }\n    }\n    // apply styling always under native or if we generated style\n    // or the cached style is not in document(!)\n    if (nativeShadow) {\n      // update existing style only under native\n      if (styleInfo.customStyle) {\n        styleInfo.customStyle.textContent = cssText;\n        style = styleInfo.customStyle;\n        // otherwise, if we have css to apply, do so\n      } else if (cssText) {\n        // apply css after the scope style of the element to help with\n        // style precedence rules.\n        style = applyCss(cssText, selector, element.shadowRoot, styleInfo.placeholder);\n      }\n    } else {\n      // shady and no cache hit\n      if (!style) {\n        // apply css after the scope style of the element to help with\n        // style precedence rules.\n        if (cssText) {\n          style = applyCss(cssText, selector, null, styleInfo.placeholder);\n        }\n        // shady and cache hit but not in document\n      } else if (!style.parentNode) {\n        applyStyle$1(style, null, styleInfo.placeholder);\n      }\n    }\n    // ensure this style is our custom style and increment its use count.\n    if (style) {\n      style._useCount = style._useCount || 0;\n      // increment use count if we changed styles\n      if (styleInfo.customStyle != style) {\n        style._useCount++;\n      }\n      styleInfo.customStyle = style;\n    }\n    // @media rules may be stale in IE 10 and 11\n    if (IS_IE) {\n      style.textContent = style.textContent;\n    }\n    return style;\n  },\n\n  applyCustomStyle: function applyCustomStyle(style, properties) {\n    var rules = rulesForStyle(style);\n    var self = this;\n    style.textContent = toCssText(rules, function (rule) {\n      var css = rule.cssText = rule.parsedCssText;\n      if (rule.propertyInfo && rule.propertyInfo.cssText) {\n        // remove property assignments\n        // so next function isn't confused\n        // NOTE: we have 3 categories of css:\n        // (1) normal properties,\n        // (2) custom property assignments (--foo: red;),\n        // (3) custom property usage: border: var(--foo); @apply(--foo);\n        // In elements, 1 and 3 are separated for efficiency; here they\n        // are not and this makes this case unique.\n        css = removeCustomPropAssignment(css);\n        // replace with reified properties, scenario is same as mixin\n        rule.cssText = self.valueForProperties(css, properties);\n      }\n    });\n  },\n\n  rx: rx,\n  XSCOPE_NAME: 'x-scope'\n};\n\nfunction addToBitMask(n, bits) {\n  var o = parseInt(n / 32);\n  var v = 1 << n % 32;\n  bits[o] = (bits[o] || 0) | v;\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar templateMap = {};\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar placeholderMap = {};\n\nvar ce = window.customElements;\nif (ce && !nativeShadow) {\n  (function () {\n    var origDefine = ce.define;\n    ce.define = function (name, clazz, options) {\n      placeholderMap[name] = applyStylePlaceHolder(name);\n      return origDefine.call(ce, name, clazz, options);\n    };\n  })();\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\nvar StyleCache = function () {\n  function StyleCache() {\n    var typeMax = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 100;\n    classCallCheck(this, StyleCache);\n\n    // map element name -> [{properties, styleElement, scopeSelector}]\n    this.cache = {};\n    this.typeMax = typeMax;\n  }\n\n  createClass(StyleCache, [{\n    key: '_validate',\n    value: function _validate(cacheEntry, properties, ownPropertyNames) {\n      for (var idx = 0; idx < ownPropertyNames.length; idx++) {\n        var pn = ownPropertyNames[idx];\n        if (cacheEntry.properties[pn] !== properties[pn]) {\n          return false;\n        }\n      }\n      return true;\n    }\n  }, {\n    key: 'store',\n    value: function store(tagname, properties, styleElement, scopeSelector) {\n      var list = this.cache[tagname] || [];\n      list.push({ properties: properties, styleElement: styleElement, scopeSelector: scopeSelector });\n      if (list.length > this.typeMax) {\n        list.shift();\n      }\n      this.cache[tagname] = list;\n    }\n  }, {\n    key: 'fetch',\n    value: function fetch(tagname, properties, ownPropertyNames) {\n      var list = this.cache[tagname];\n      if (!list) {\n        return;\n      }\n      // reverse list for most-recent lookups\n      for (var idx = list.length - 1; idx >= 0; idx--) {\n        var entry = list[idx];\n        if (this._validate(entry, properties, ownPropertyNames)) {\n          return entry;\n        }\n      }\n    }\n  }]);\n  return StyleCache;\n}();\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/**\n * The apply shim simulates the behavior of `@apply` proposed at\n * https://tabatkins.github.io/specs/css-apply-rule/.\n * The approach is to convert a property like this:\n *\n *    --foo: {color: red; background: blue;}\n *\n * to this:\n *\n *    --foo_-_color: red;\n *    --foo_-_background: blue;\n *\n * Then where `@apply --foo` is used, that is converted to:\n *\n *    color: var(--foo_-_color);\n *    background: var(--foo_-_background);\n *\n * This approach generally works but there are some issues and limitations.\n * Consider, for example, that somewhere *between* where `--foo` is set and used,\n * another element sets it to:\n *\n *    --foo: { border: 2px solid red; }\n *\n * We must now ensure that the color and background from the previous setting\n * do not apply. This is accomplished by changing the property set to this:\n *\n *    --foo_-_border: 2px solid red;\n *    --foo_-_color: initial;\n *    --foo_-_background: initial;\n *\n * This works but introduces one new issue.\n * Consider this setup at the point where the `@apply` is used:\n *\n *    background: orange;\n *    @apply --foo;\n *\n * In this case the background will be unset (initial) rather than the desired\n * `orange`. We address this by altering the property set to use a fallback\n * value like this:\n *\n *    color: var(--foo_-_color);\n *    background: var(--foo_-_background, orange);\n *    border: var(--foo_-_border);\n *\n * Note that the default is retained in the property set and the `background` is\n * the desired `orange`. This leads us to a limitation.\n *\n * Limitation 1:\n\n * Only properties in the rule where the `@apply`\n * is used are considered as default values.\n * If another rule matches the element and sets `background` with\n * less specificity than the rule in which `@apply` appears,\n * the `background` will not be set.\n *\n * Limitation 2:\n *\n * When using Polymer's `updateStyles` api, new properties may not be set for\n * `@apply` properties.\n\n*/\n\nvar MIXIN_MATCH = rx.MIXIN_MATCH;\nvar VAR_ASSIGN = rx.VAR_ASSIGN;\n\nvar APPLY_NAME_CLEAN = /;\\s*/m;\nvar INITIAL_INHERIT = /^\\s*(initial)|(inherit)\\s*$/;\n\n// separator used between mixin-name and mixin-property-name when producing properties\n// NOTE: plain '-' may cause collisions in user styles\nvar MIXIN_VAR_SEP = '_-_';\n\n// map of mixin to property names\n// --foo: {border: 2px} -> {properties: {(--foo, ['border'])}, dependants: {'element-name': proto}}\n\nvar MixinMap = function () {\n  function MixinMap() {\n    classCallCheck(this, MixinMap);\n\n    this._map = {};\n  }\n\n  createClass(MixinMap, [{\n    key: 'set',\n    value: function set(name, props) {\n      name = name.trim();\n      this._map[name] = {\n        properties: props,\n        dependants: {}\n      };\n    }\n  }, {\n    key: 'get',\n    value: function get(name) {\n      name = name.trim();\n      return this._map[name];\n    }\n  }]);\n  return MixinMap;\n}();\n\nvar ApplyShim = function () {\n  function ApplyShim() {\n    var _this = this;\n\n    classCallCheck(this, ApplyShim);\n\n    this._currentTemplate = null;\n    this._measureElement = null;\n    this._map = new MixinMap();\n    this._separator = MIXIN_VAR_SEP;\n    this._boundProduceCssProperties = function (matchText, propertyName, valueProperty, valueMixin) {\n      return _this._produceCssProperties(matchText, propertyName, valueProperty, valueMixin);\n    };\n  }\n\n  createClass(ApplyShim, [{\n    key: 'transformStyle',\n    value: function transformStyle(style, elementName) {\n      var ast = rulesForStyle(style);\n      this.transformRules(ast, elementName);\n      return ast;\n    }\n  }, {\n    key: 'transformRules',\n    value: function transformRules(rules, elementName) {\n      var _this2 = this;\n\n      this._currentTemplate = templateMap[elementName];\n      forEachRule(rules, function (r) {\n        _this2.transformRule(r);\n      });\n      if (this._currentTemplate) {\n        this._currentTemplate.__applyShimInvalid = false;\n      }\n      this._currentTemplate = null;\n    }\n  }, {\n    key: 'transformRule',\n    value: function transformRule(rule) {\n      rule.cssText = this.transformCssText(rule.parsedCssText);\n      // :root was only used for variable assignment in property shim,\n      // but generates invalid selectors with real properties.\n      // replace with `:host > *`, which serves the same effect\n      if (rule.selector === ':root') {\n        rule.selector = ':host > *';\n      }\n    }\n  }, {\n    key: 'transformCssText',\n    value: function transformCssText(cssText) {\n      // produce variables\n      cssText = cssText.replace(VAR_ASSIGN, this._boundProduceCssProperties);\n      // consume mixins\n      return this._consumeCssProperties(cssText);\n    }\n  }, {\n    key: '_getInitialValueForProperty',\n    value: function _getInitialValueForProperty(property) {\n      if (!this._measureElement) {\n        this._measureElement = document.createElement('meta');\n        this._measureElement.style.all = 'initial';\n        document.head.appendChild(this._measureElement);\n      }\n      return window.getComputedStyle(this._measureElement).getPropertyValue(property);\n    }\n    // replace mixin consumption with variable consumption\n\n  }, {\n    key: '_consumeCssProperties',\n    value: function _consumeCssProperties(text) {\n      var m = void 0;\n      // loop over text until all mixins with defintions have been applied\n      while (m = MIXIN_MATCH.exec(text)) {\n        var matchText = m[0];\n        var mixinName = m[1];\n        var idx = m.index;\n        // collect properties before apply to be \"defaults\" if mixin might override them\n        // match includes a \"prefix\", so find the start and end positions of @apply\n        var applyPos = idx + matchText.indexOf('@apply');\n        var afterApplyPos = idx + matchText.length;\n        // find props defined before this @apply\n        var textBeforeApply = text.slice(0, applyPos);\n        var textAfterApply = text.slice(afterApplyPos);\n        var defaults$$1 = this._cssTextToMap(textBeforeApply);\n        var replacement = this._atApplyToCssProperties(mixinName, defaults$$1);\n        // use regex match position to replace mixin, keep linear processing time\n        text = [textBeforeApply, replacement, textAfterApply].join('');\n        // move regex search to _after_ replacement\n        MIXIN_MATCH.lastIndex = idx + replacement.length;\n      }\n      return text;\n    }\n    // produce variable consumption at the site of mixin consumption\n    // @apply --foo; -> for all props (${propname}: var(--foo_-_${propname}, ${fallback[propname]}}))\n    // Example:\n    // border: var(--foo_-_border); padding: var(--foo_-_padding, 2px)\n\n  }, {\n    key: '_atApplyToCssProperties',\n    value: function _atApplyToCssProperties(mixinName, fallbacks) {\n      mixinName = mixinName.replace(APPLY_NAME_CLEAN, '');\n      var vars = [];\n      var mixinEntry = this._map.get(mixinName);\n      // if we depend on a mixin before it is created\n      // make a sentinel entry in the map to add this element as a dependency for when it is defined.\n      if (!mixinEntry) {\n        this._map.set(mixinName, {});\n        mixinEntry = this._map.get(mixinName);\n      }\n      if (mixinEntry) {\n        if (this._currentTemplate) {\n          mixinEntry.dependants[this._currentTemplate.name] = this._currentTemplate;\n        }\n        var p = void 0,\n            parts = void 0,\n            f = void 0;\n        for (p in mixinEntry.properties) {\n          f = fallbacks && fallbacks[p];\n          parts = [p, ': var(', mixinName, MIXIN_VAR_SEP, p];\n          if (f) {\n            parts.push(',', f);\n          }\n          parts.push(')');\n          vars.push(parts.join(''));\n        }\n      }\n      return vars.join('; ');\n    }\n  }, {\n    key: '_replaceInitialOrInherit',\n    value: function _replaceInitialOrInherit(property, value) {\n      var match = INITIAL_INHERIT.exec(value);\n      if (match) {\n        if (match[1]) {\n          // initial\n          // replace `initial` with the concrete initial value for this property\n          value = ApplyShim._getInitialValueForProperty(property);\n        } else {\n          // inherit\n          // with this purposfully illegal value, the variable will be invalid at\n          // compute time (https://www.w3.org/TR/css-variables/#invalid-at-computed-value-time)\n          // and for inheriting values, will behave similarly\n          // we cannot support the same behavior for non inheriting values like 'border'\n          value = 'apply-shim-inherit';\n        }\n      }\n      return value;\n    }\n\n    // \"parse\" a mixin definition into a map of properties and values\n    // cssTextToMap('border: 2px solid black') -> ('border', '2px solid black')\n\n  }, {\n    key: '_cssTextToMap',\n    value: function _cssTextToMap(text) {\n      var props = text.split(';');\n      var property = void 0,\n          value = void 0;\n      var out = {};\n      for (var i = 0, p, sp; i < props.length; i++) {\n        p = props[i];\n        if (p) {\n          sp = p.split(':');\n          // ignore lines that aren't definitions like @media\n          if (sp.length > 1) {\n            property = sp[0].trim();\n            // some properties may have ':' in the value, like data urls\n            value = this._replaceInitialOrInherit(property, sp.slice(1).join(':'));\n            out[property] = value;\n          }\n        }\n      }\n      return out;\n    }\n  }, {\n    key: '_invalidateMixinEntry',\n    value: function _invalidateMixinEntry(mixinEntry) {\n      for (var elementName in mixinEntry.dependants) {\n        if (elementName !== this._currentTemplate) {\n          mixinEntry.dependants[elementName].__applyShimInvalid = true;\n        }\n      }\n    }\n  }, {\n    key: '_produceCssProperties',\n    value: function _produceCssProperties(matchText, propertyName, valueProperty, valueMixin) {\n      var _this3 = this;\n\n      // handle case where property value is a mixin\n      if (valueProperty) {\n        // form: --mixin2: var(--mixin1), where --mixin1 is in the map\n        processVariableAndFallback(valueProperty, function (prefix, value) {\n          if (value && _this3._map.get(value)) {\n            valueMixin = '@apply ' + value + ';';\n          }\n        });\n      }\n      if (!valueMixin) {\n        return matchText;\n      }\n      var mixinAsProperties = this._consumeCssProperties(valueMixin);\n      var prefix = matchText.slice(0, matchText.indexOf('--'));\n      var mixinValues = this._cssTextToMap(mixinAsProperties);\n      var combinedProps = mixinValues;\n      var mixinEntry = this._map.get(propertyName);\n      var oldProps = mixinEntry && mixinEntry.properties;\n      if (oldProps) {\n        // NOTE: since we use mixin, the map of properties is updated here\n        // and this is what we want.\n        combinedProps = Object.assign(Object.create(oldProps), mixinValues);\n      } else {\n        this._map.set(propertyName, combinedProps);\n      }\n      var out = [];\n      var p = void 0,\n          v = void 0;\n      // set variables defined by current mixin\n      var needToInvalidate = false;\n      for (p in combinedProps) {\n        v = mixinValues[p];\n        // if property not defined by current mixin, set initial\n        if (v === undefined) {\n          v = 'initial';\n        }\n        if (oldProps && !(p in oldProps)) {\n          needToInvalidate = true;\n        }\n        out.push(propertyName + MIXIN_VAR_SEP + p + ': ' + v);\n      }\n      if (needToInvalidate) {\n        this._invalidateMixinEntry(mixinEntry);\n      }\n      if (mixinEntry) {\n        mixinEntry.properties = combinedProps;\n      }\n      // because the mixinMap is global, the mixin might conflict with\n      // a different scope's simple variable definition:\n      // Example:\n      // some style somewhere:\n      // --mixin1:{ ... }\n      // --mixin2: var(--mixin1);\n      // some other element:\n      // --mixin1: 10px solid red;\n      // --foo: var(--mixin1);\n      // In this case, we leave the original variable definition in place.\n      if (valueProperty) {\n        prefix = matchText + ';' + prefix;\n      }\n      return prefix + out.join('; ') + ';';\n    }\n  }]);\n  return ApplyShim;\n}();\n\nvar applyShim = new ApplyShim();\nwindow['ApplyShim'] = applyShim;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\nvar flush = function flush() {};\n\nif (!nativeShadow) {\n  (function () {\n    var elementNeedsScoping = function elementNeedsScoping(element) {\n      return element.classList && !element.classList.contains(StyleTransformer.SCOPE_NAME) ||\n      // note: necessary for IE11\n      element instanceof SVGElement && (!element.hasAttribute('class') || element.getAttribute('class').indexOf(StyleTransformer.SCOPE_NAME) < 0);\n    };\n\n    var handler = function handler(mxns) {\n      for (var x = 0; x < mxns.length; x++) {\n        var mxn = mxns[x];\n        if (mxn.target === document.documentElement || mxn.target === document.head) {\n          continue;\n        }\n        for (var i = 0; i < mxn.addedNodes.length; i++) {\n          var n = mxn.addedNodes[i];\n          if (elementNeedsScoping(n)) {\n            var root = n.getRootNode();\n            if (root.nodeType === Node.DOCUMENT_FRAGMENT_NODE) {\n              // may no longer be in a shadowroot\n              var host = root.host;\n              if (host) {\n                var scope = host.is || host.localName;\n                StyleTransformer.dom(n, scope);\n              }\n            }\n          }\n        }\n        for (var _i = 0; _i < mxn.removedNodes.length; _i++) {\n          var _n = mxn.removedNodes[_i];\n          if (_n.nodeType === Node.ELEMENT_NODE) {\n            var classes = undefined;\n            if (_n.classList) {\n              classes = Array.from(_n.classList);\n            } else if (_n.hasAttribute('class')) {\n              classes = _n.getAttribute('class').split(/\\s+/);\n            }\n            if (classes !== undefined) {\n              // NOTE: relies on the scoping class always being adjacent to the\n              // SCOPE_NAME class.\n              var classIdx = classes.indexOf(StyleTransformer.SCOPE_NAME);\n              if (classIdx >= 0) {\n                var _scope = classes[classIdx + 1];\n                if (_scope) {\n                  StyleTransformer.dom(_n, _scope, true);\n                }\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var observer = new MutationObserver(handler);\n    var start = function start(node) {\n      observer.observe(node, { childList: true, subtree: true });\n    };\n    var nativeCustomElements = window.customElements && !window.customElements.flush;\n    // need to start immediately with native custom elements\n    // TODO(dfreedm): with polyfilled HTMLImports and native custom elements\n    // excessive mutations may be observed; this can be optimized via cooperation\n    // with the HTMLImports polyfill.\n    if (nativeCustomElements) {\n      start(document);\n    } else {\n      (function () {\n        var delayedStart = function delayedStart() {\n          start(document.body);\n        };\n        // use polyfill timing if it's available\n        if (window.HTMLImports) {\n          window.HTMLImports.whenReady(delayedStart);\n          // otherwise push beyond native imports being ready\n          // which requires RAF + readystate interactive.\n        } else {\n          requestAnimationFrame(function () {\n            if (document.readyState === 'loading') {\n              (function () {\n                var listener = function listener() {\n                  delayedStart();\n                  document.removeEventListener('readystatechange', listener);\n                };\n                document.addEventListener('readystatechange', listener);\n              })();\n            } else {\n              delayedStart();\n            }\n          });\n        }\n      })();\n    }\n\n    flush = function flush() {\n      handler(observer.takeRecords());\n    };\n  })();\n}\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n// TODO(dfreedm): consider spliting into separate global\nvar styleCache = new StyleCache();\n\nvar ShadyCSS = {\n  flush: flush,\n  scopeCounter: {},\n  nativeShadow: nativeShadow,\n  nativeCss: nativeCssVariables,\n  nativeCssApply: nativeCssApply,\n  _documentOwner: document.documentElement,\n  _documentOwnerStyleInfo: StyleInfo.set(document.documentElement, new StyleInfo({ rules: [] })),\n  _generateScopeSelector: function _generateScopeSelector(name) {\n    var id = this.scopeCounter[name] = (this.scopeCounter[name] || 0) + 1;\n    return name + '-' + id;\n  },\n  getStyleAst: function getStyleAst(style) {\n    return rulesForStyle(style);\n  },\n  styleAstToString: function styleAstToString(ast) {\n    return toCssText(ast);\n  },\n  _gatherStyles: function _gatherStyles(template) {\n    var styles = template.content.querySelectorAll('style');\n    var cssText = [];\n    for (var i = 0; i < styles.length; i++) {\n      var s = styles[i];\n      cssText.push(s.textContent);\n      s.parentNode.removeChild(s);\n    }\n    return cssText.join('').trim();\n  },\n  _getCssBuild: function _getCssBuild(template) {\n    var style = template.content.querySelector('style');\n    if (!style) {\n      return '';\n    }\n    return style.getAttribute('css-build') || '';\n  },\n  prepareTemplate: function prepareTemplate(template, elementName, typeExtension) {\n    if (template._prepared) {\n      return;\n    }\n    template._prepared = true;\n    template.name = elementName;\n    template.extends = typeExtension;\n    templateMap[elementName] = template;\n    var cssBuild = this._getCssBuild(template);\n    var cssText = this._gatherStyles(template);\n    var info = {\n      is: elementName,\n      extends: typeExtension,\n      __cssBuild: cssBuild\n    };\n    if (!this.nativeShadow) {\n      StyleTransformer.dom(template.content, elementName);\n    }\n    var ast = parse(cssText);\n    if (this.nativeCss && !this.nativeCssApply) {\n      applyShim.transformRules(ast, elementName);\n    }\n    template._styleAst = ast;\n\n    var ownPropertyNames = [];\n    if (!this.nativeCss) {\n      ownPropertyNames = StyleProperties.decorateStyles(template._styleAst, info);\n    }\n    if (!ownPropertyNames.length || this.nativeCss) {\n      var root = this.nativeShadow ? template.content : null;\n      var placeholder = placeholderMap[elementName];\n      var style = this._generateStaticStyle(info, template._styleAst, root, placeholder);\n      template._style = style;\n    }\n    template._ownPropertyNames = ownPropertyNames;\n  },\n  _generateStaticStyle: function _generateStaticStyle(info, rules, shadowroot, placeholder) {\n    var cssText = StyleTransformer.elementStyles(info, rules);\n    if (cssText.length) {\n      return applyCss(cssText, info.is, shadowroot, placeholder);\n    }\n  },\n  _prepareHost: function _prepareHost(host) {\n    var is = host.getAttribute('is') || host.localName;\n    var typeExtension = void 0;\n    if (is !== host.localName) {\n      typeExtension = host.localName;\n    }\n    var placeholder = placeholderMap[is];\n    var template = templateMap[is];\n    var ast = void 0;\n    var ownStylePropertyNames = void 0;\n    var cssBuild = void 0;\n    if (template) {\n      ast = template._styleAst;\n      ownStylePropertyNames = template._ownPropertyNames;\n      cssBuild = template._cssBuild;\n    }\n    return StyleInfo.set(host, new StyleInfo(ast, placeholder, ownStylePropertyNames, is, typeExtension, cssBuild));\n  },\n  applyStyle: function applyStyle(host, overrideProps) {\n    var is = host.getAttribute('is') || host.localName;\n    if (window.CustomStyle) {\n      var CS = window.CustomStyle;\n      if (CS._documentDirty) {\n        CS.findStyles();\n        if (!this.nativeCss) {\n          this._updateProperties(this._documentOwner, this._documentOwnerStyleInfo);\n        } else if (!this.nativeCssApply) {\n          CS._revalidateApplyShim();\n        }\n        CS.applyStyles();\n        CS._documentDirty = false;\n      }\n    }\n    var styleInfo = StyleInfo.get(host);\n    var hasApplied = Boolean(styleInfo);\n    if (!styleInfo) {\n      styleInfo = this._prepareHost(host);\n    }\n    if (overrideProps) {\n      styleInfo.overrideStyleProperties = styleInfo.overrideStyleProperties || {};\n      Object.assign(styleInfo.overrideStyleProperties, overrideProps);\n    }\n    if (this.nativeCss) {\n      var template = templateMap[is];\n      if (template && template.__applyShimInvalid && template._style) {\n        // update template\n        applyShim.transformRules(template._styleAst, is);\n        template._style.textContent = StyleTransformer.elementStyles(host, styleInfo.styleRules);\n        // update instance if native shadowdom\n        if (this.nativeShadow) {\n          var style = host.shadowRoot.querySelector('style');\n          style.textContent = StyleTransformer.elementStyles(host, styleInfo.styleRules);\n        }\n        styleInfo.styleRules = template._styleAst;\n      }\n      this._updateNativeProperties(host, styleInfo.overrideStyleProperties);\n    } else {\n      this._updateProperties(host, styleInfo);\n      if (styleInfo.ownStylePropertyNames && styleInfo.ownStylePropertyNames.length) {\n        // TODO: use caching\n        this._applyStyleProperties(host, styleInfo);\n      }\n    }\n    if (hasApplied) {\n      var root = this._isRootOwner(host) ? host : host.shadowRoot;\n      // note: some elements may not have a root!\n      if (root) {\n        this._applyToDescendants(root);\n      }\n    }\n  },\n  _applyToDescendants: function _applyToDescendants(root) {\n    var c$ = root.children;\n    for (var i = 0, c; i < c$.length; i++) {\n      c = c$[i];\n      if (c.shadowRoot) {\n        this.applyStyle(c);\n      }\n      this._applyToDescendants(c);\n    }\n  },\n  _styleOwnerForNode: function _styleOwnerForNode(node) {\n    var root = node.getRootNode();\n    var host = root.host;\n    if (host) {\n      if (StyleInfo.get(host)) {\n        return host;\n      } else {\n        return this._styleOwnerForNode(host);\n      }\n    }\n    return this._documentOwner;\n  },\n  _isRootOwner: function _isRootOwner(node) {\n    return node === this._documentOwner;\n  },\n  _applyStyleProperties: function _applyStyleProperties(host, styleInfo) {\n    var is = host.getAttribute('is') || host.localName;\n    var cacheEntry = styleCache.fetch(is, styleInfo.styleProperties, styleInfo.ownStylePropertyNames);\n    var cachedScopeSelector = cacheEntry && cacheEntry.scopeSelector;\n    var cachedStyle = cacheEntry ? cacheEntry.styleElement : null;\n    var oldScopeSelector = styleInfo.scopeSelector;\n    // only generate new scope if cached style is not found\n    styleInfo.scopeSelector = cachedScopeSelector || this._generateScopeSelector(is);\n    var style = StyleProperties.applyElementStyle(host, styleInfo.styleProperties, styleInfo.scopeSelector, cachedStyle);\n    if (!this.nativeShadow) {\n      StyleProperties.applyElementScopeSelector(host, styleInfo.scopeSelector, oldScopeSelector);\n    }\n    if (!cacheEntry) {\n      styleCache.store(is, styleInfo.styleProperties, style, styleInfo.scopeSelector);\n    }\n    return style;\n  },\n  _updateProperties: function _updateProperties(host, styleInfo) {\n    var owner = this._styleOwnerForNode(host);\n    var ownerStyleInfo = StyleInfo.get(owner);\n    var ownerProperties = ownerStyleInfo.styleProperties;\n    var props = Object.create(ownerProperties || null);\n    var hostAndRootProps = StyleProperties.hostAndRootPropertiesForScope(host, styleInfo.styleRules);\n    var propertyData = StyleProperties.propertyDataFromStyles(ownerStyleInfo.styleRules, host);\n    var propertiesMatchingHost = propertyData.properties;\n    Object.assign(props, hostAndRootProps.hostProps, propertiesMatchingHost, hostAndRootProps.rootProps);\n    this._mixinOverrideStyles(props, styleInfo.overrideStyleProperties);\n    StyleProperties.reify(props);\n    styleInfo.styleProperties = props;\n  },\n  _mixinOverrideStyles: function _mixinOverrideStyles(props, overrides) {\n    for (var p in overrides) {\n      var v = overrides[p];\n      // skip override props if they are not truthy or 0\n      // in order to fall back to inherited values\n      if (v || v === 0) {\n        props[p] = v;\n      }\n    }\n  },\n  _updateNativeProperties: function _updateNativeProperties(element, properties) {\n    // remove previous properties\n    for (var p in properties) {\n      // NOTE: for bc with shim, don't apply null values.\n      if (p === null) {\n        element.style.removeProperty(p);\n      } else {\n        element.style.setProperty(p, properties[p]);\n      }\n    }\n  },\n  updateStyles: function updateStyles(properties) {\n    if (window.CustomStyle) {\n      window.CustomStyle._documentDirty = true;\n    }\n    this.applyStyle(this._documentOwner, properties);\n  },\n\n  /* Custom Style operations */\n  _transformCustomStyleForDocument: function _transformCustomStyleForDocument(style) {\n    var _this = this;\n\n    var ast = rulesForStyle(style);\n    forEachRule(ast, function (rule) {\n      if (nativeShadow) {\n        StyleTransformer.normalizeRootSelector(rule);\n      } else {\n        StyleTransformer.documentRule(rule);\n      }\n      if (_this.nativeCss && !_this.nativeCssApply) {\n        applyShim.transformRule(rule);\n      }\n    });\n    if (this.nativeCss) {\n      style.textContent = toCssText(ast);\n    } else {\n      this._documentOwnerStyleInfo.styleRules.rules.push(ast);\n    }\n  },\n  _revalidateApplyShim: function _revalidateApplyShim(style) {\n    if (this.nativeCss && !this.nativeCssApply) {\n      var ast = rulesForStyle(style);\n      applyShim.transformRules(ast);\n      style.textContent = toCssText(ast);\n    }\n  },\n  _applyCustomStyleToDocument: function _applyCustomStyleToDocument(style) {\n    if (!this.nativeCss) {\n      StyleProperties.applyCustomStyle(style, this._documentOwnerStyleInfo.styleProperties);\n    }\n  },\n  getComputedStyleValue: function getComputedStyleValue(element, property) {\n    var value = void 0;\n    if (!this.nativeCss) {\n      // element is either a style host, or an ancestor of a style host\n      var styleInfo = StyleInfo.get(element) || StyleInfo.get(this._styleOwnerForNode(element));\n      value = styleInfo.styleProperties[property];\n    }\n    // fall back to the property value from the computed styling\n    value = value || window.getComputedStyle(element).getPropertyValue(property);\n    // trim whitespace that can come after the `:` in css\n    // example: padding: 2px -> \" 2px\"\n    return value.trim();\n  },\n\n  // given an element and a classString, replaces\n  // the element's class with the provided classString and adds\n  // any necessary ShadyCSS static and property based scoping selectors\n  setElementClass: function setElementClass(element, classString) {\n    var root = element.getRootNode();\n    var classes = classString ? classString.split(/\\s/) : [];\n    var scopeName = root.host && root.host.localName;\n    // If no scope, try to discover scope name from existing class.\n    // This can occur if, for example, a template stamped element that\n    // has been scoped is manipulated when not in a root.\n    if (!scopeName) {\n      var classAttr = element.getAttribute('class');\n      if (classAttr) {\n        var k$ = classAttr.split(/\\s/);\n        for (var i = 0; i < k$.length; i++) {\n          if (k$[i] === StyleTransformer.SCOPE_NAME) {\n            scopeName = k$[i + 1];\n            break;\n          }\n        }\n      }\n    }\n    if (scopeName) {\n      classes.push(StyleTransformer.SCOPE_NAME, scopeName);\n    }\n    if (!this.nativeCss) {\n      var styleInfo = StyleInfo.get(element);\n      if (styleInfo && styleInfo.scopeSelector) {\n        classes.push(StyleProperties.XSCOPE_NAME, styleInfo.scopeSelector);\n      }\n    }\n    setElementClassRaw(element, classes.join(' '));\n  },\n  _styleInfoForNode: function _styleInfoForNode(node) {\n    return StyleInfo.get(node);\n  }\n};\n\nwindow['ShadyCSS'] = ShadyCSS;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n\n/*\nWrapper over <style> elements to co-operate with ShadyCSS\n\nExample:\n<shady-style>\n  <style>\n  ...\n  </style>\n</shady-style>\n*/\n\nvar ShadyCSS$1 = window.ShadyCSS;\n\nvar enqueued = false;\n\nvar customStyles = [];\n\nvar hookFn = null;\n\n/*\nIf a page only has <custom-style> elements, it will flash unstyled content,\nas all the instances will boot asynchronously after page load.\n\nCalling ShadyCSS.updateStyles() will force the work to happen synchronously\n*/\nfunction enqueueDocumentValidation() {\n  if (enqueued) {\n    return;\n  }\n  enqueued = true;\n  if (window.HTMLImports) {\n    window.HTMLImports.whenReady(validateDocument);\n  } else if (document.readyState === 'complete') {\n    validateDocument();\n  } else {\n    document.addEventListener('readystatechange', function () {\n      if (document.readyState === 'complete') {\n        validateDocument();\n      }\n    });\n  }\n}\n\nfunction validateDocument() {\n  requestAnimationFrame(function () {\n    if (enqueued) {\n      ShadyCSS$1.updateStyles();\n      enqueued = false;\n    }\n  });\n}\n\nfunction CustomStyle() {\n  /*\n  Use Reflect to invoke the HTMLElement constructor, or rely on the\n  CustomElement polyfill replacement that can be `.call`ed\n  */\n  var self = window.Reflect && Reflect.construct ? Reflect.construct(HTMLElement, [], this.constructor || CustomStyle) : HTMLElement.call(this);\n  customStyles.push(self);\n  enqueueDocumentValidation();\n  return self;\n}\n\nObject.defineProperties(CustomStyle, {\n  /*\n  CustomStyle.processHook is provided to customize the <style> element child of\n  a <custom-style> element before the <style> is processed by ShadyCSS\n   The function must take a <style> element as input, and return nothing.\n  */\n  processHook: {\n    get: function get() {\n      return hookFn;\n    },\n    set: function set(fn) {\n      hookFn = fn;\n      return fn;\n    }\n  },\n  _customStyles: {\n    get: function get() {\n      return customStyles;\n    }\n  },\n  _documentDirty: {\n    get: function get() {\n      return enqueued;\n    },\n    set: function set(value) {\n      enqueued = value;\n      return value;\n    }\n  }\n});\n\nCustomStyle.findStyles = function () {\n  for (var i = 0; i < customStyles.length; i++) {\n    customStyles[i]._findStyle();\n  }\n};\n\nCustomStyle._revalidateApplyShim = function () {\n  for (var i = 0; i < customStyles.length; i++) {\n    var s = customStyles[i];\n    if (s._style) {\n      ShadyCSS$1._revalidateApplyShim(s._style);\n    }\n  }\n};\n\nCustomStyle.applyStyles = function () {\n  for (var i = 0; i < customStyles.length; i++) {\n    customStyles[i]._applyStyle();\n  }\n};\n\nCustomStyle.prototype = Object.create(HTMLElement.prototype, {\n  'constructor': {\n    value: CustomStyle,\n    configurable: true,\n    writable: true\n  }\n});\n\nCustomStyle.prototype._findStyle = function () {\n  if (!this._style) {\n    var style = this.querySelector('style');\n    if (!style) {\n      return;\n    }\n    // HTMLImports polyfill may have cloned the style into the main document,\n    // which is referenced with __appliedElement.\n    // Also, we must copy over the attributes.\n    if (style.__appliedElement) {\n      for (var i = 0; i < style.attributes.length; i++) {\n        var attr = style.attributes[i];\n        style.__appliedElement.setAttribute(attr.name, attr.value);\n      }\n    }\n    this._style = style.__appliedElement || style;\n    if (hookFn) {\n      hookFn(this._style);\n    }\n    ShadyCSS$1._transformCustomStyleForDocument(this._style);\n  }\n};\n\nCustomStyle.prototype._applyStyle = function () {\n  if (this._style) {\n    ShadyCSS$1._applyCustomStyleToDocument(this._style);\n  }\n};\n\nwindow.customElements.define('custom-style', CustomStyle);\nwindow['CustomStyle'] = CustomStyle;\n\n/**\n@license\nCopyright (c) 2016 The Polymer Project Authors. All rights reserved.\nThis code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt\nThe complete set of authors may be found at http://polymer.github.io/AUTHORS.txt\nThe complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt\nCode distributed by Google as part of the polymer project is also\nsubject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt\n*/\n/*\nSmall module to load ShadyCSS and CustomStyle together\n*/\n\n}());\n\n//# sourceMappingURL=shadycss.min.js.map\n","// We load the Safari fix first because the custom element polyfill overrides\n// attachShadow() to observe the shadow root.\nrequire('./fix/safari');\n\n// We have to include this first so that it can patch native.\nrequire('./native-shim');\n\n// These must appear in this order. The ShadyCSS polyfill requires that the\n// ShadyDOM polyfill be loaded first.\nrequire('@webcomponents/custom-elements');\nrequire('@webcomponents/shadydom');\nrequire('@webcomponents/shadycss');\n","export const isFunction = val => typeof val === 'function';\nexport const isObject = val => (typeof val === 'object' && val !== null);\nexport const isString = val => typeof val === 'string';\nexport const isSymbol = val => typeof val === 'symbol';\nexport const isUndefined = val => typeof val === 'undefined';\n","import { isFunction } from './is-type';\n/**\n * Returns array of owned property names and symbols for the given object\n */\nexport default function getPropNamesAndSymbols (obj = {}) {\n  const listOfKeys = Object.getOwnPropertyNames(obj);\n  return isFunction(Object.getOwnPropertySymbols)\n    ? listOfKeys.concat(Object.getOwnPropertySymbols(obj))\n    : listOfKeys;\n}\n","import getPropNamesAndSymbols from './get-prop-names-and-symbols';\n\n// We are not using Object.assign if it is defined since it will cause problems when Symbol is polyfilled.\n// Apparently Object.assign (or any polyfill for this method) does not copy non-native Symbols.\nexport default (obj, ...args) => {\n  args.forEach(arg => getPropNamesAndSymbols(arg).forEach(nameOrSymbol => obj[nameOrSymbol] = arg[nameOrSymbol])); // eslint-disable-line no-return-assign\n  return obj;\n};\n","export default function (val) {\n  return typeof val === 'undefined' || val === null;\n}\n","import empty from './empty';\n/**\n * Attributes value can only be null or string;\n */\nconst toNullOrString = val => (empty(val) ? null : String(val));\n\nexport default toNullOrString;\n","export const connected = '____skate_connected';\nexport const created = '____skate_created';\n\n// DEPRECATED\n//\n// This is the only \"symbol\" that must stay a string. This is because it is\n// relied upon across several versions. We should remove it, but ensure that\n// it's considered a breaking change that whatever version removes it cannot\n// be passed to vdom functions as tag names.\nexport const name = '____skate_name';\n\n// Used on the Constructor\nexport const ctorCreateInitProps = '____skate_ctor_createInitProps';\nexport const ctorObservedAttributes = '____skate_ctor_observedAttributes';\nexport const ctorProps = '____skate_ctor_props';\nexport const ctorPropsMap = '____skate_ctor_propsMap';\n\n// Used on the Element\nexport const props = '____skate_props';\nexport const ref = '____skate_ref';\nexport const renderer = '____skate_renderer';\nexport const rendering = '____skate_rendering';\nexport const rendererDebounced = '____skate_rendererDebounced';\nexport const updated = '____skate_updated';\n","\n/**\n * @license\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n'use strict';\n\n/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * A cached reference to the hasOwnProperty function.\n */\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\n/**\n * A cached reference to the create function.\n */\nvar create = Object.create;\n\n/**\n * Used to prevent property collisions between our \"map\" and its prototype.\n * @param {!Object<string, *>} map The map to check.\n * @param {string} property The property to check.\n * @return {boolean} Whether map has property.\n */\nvar has = function (map, property) {\n  return hasOwnProperty.call(map, property);\n};\n\n/**\n * Creates an map object without a prototype.\n * @return {!Object}\n */\nvar createMap = function () {\n  return create(null);\n};\n\n/**\n * Keeps track of information needed to perform diffs for a given DOM node.\n * @param {!string} nodeName\n * @param {?string=} key\n * @constructor\n */\nfunction NodeData(nodeName, key) {\n  /**\n   * The attributes and their values.\n   * @const {!Object<string, *>}\n   */\n  this.attrs = createMap();\n\n  /**\n   * An array of attribute name/value pairs, used for quickly diffing the\n   * incomming attributes to see if the DOM node's attributes need to be\n   * updated.\n   * @const {Array<*>}\n   */\n  this.attrsArr = [];\n\n  /**\n   * The incoming attributes for this Node, before they are updated.\n   * @const {!Object<string, *>}\n   */\n  this.newAttrs = createMap();\n\n  /**\n   * The key used to identify this node, used to preserve DOM nodes when they\n   * move within their parent.\n   * @const\n   */\n  this.key = key;\n\n  /**\n   * Keeps track of children within this node by their key.\n   * {?Object<string, !Element>}\n   */\n  this.keyMap = null;\n\n  /**\n   * Whether or not the keyMap is currently valid.\n   * {boolean}\n   */\n  this.keyMapValid = true;\n\n  /**\n   * The node name for this node.\n   * @const {string}\n   */\n  this.nodeName = nodeName;\n\n  /**\n   * @type {?string}\n   */\n  this.text = null;\n}\n\n/**\n * Initializes a NodeData object for a Node.\n *\n * @param {Node} node The node to initialize data for.\n * @param {string} nodeName The node name of node.\n * @param {?string=} key The key that identifies the node.\n * @return {!NodeData} The newly initialized data object\n */\nvar initData = function (node, nodeName, key) {\n  var data = new NodeData(nodeName, key);\n  node['__incrementalDOMData'] = data;\n  return data;\n};\n\n/**\n * Retrieves the NodeData object for a Node, creating it if necessary.\n *\n * @param {Node} node The node to retrieve the data for.\n * @return {!NodeData} The NodeData for this Node.\n */\nvar getData = function (node) {\n  var data = node['__incrementalDOMData'];\n\n  if (!data) {\n    var nodeName = node.nodeName.toLowerCase();\n    var key = null;\n\n    if (node instanceof Element) {\n      key = node.getAttribute('key');\n    }\n\n    data = initData(node, nodeName, key);\n  }\n\n  return data;\n};\n\n/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @const */\nvar symbols = {\n  default: '__default',\n\n  placeholder: '__placeholder'\n};\n\n/**\n * @param {string} name\n * @return {string|undefined} The namespace to use for the attribute.\n */\nvar getNamespace = function (name) {\n  if (name.lastIndexOf('xml:', 0) === 0) {\n    return 'http://www.w3.org/XML/1998/namespace';\n  }\n\n  if (name.lastIndexOf('xlink:', 0) === 0) {\n    return 'http://www.w3.org/1999/xlink';\n  }\n};\n\n/**\n * Applies an attribute or property to a given Element. If the value is null\n * or undefined, it is removed from the Element. Otherwise, the value is set\n * as an attribute.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {?(boolean|number|string)=} value The attribute's value.\n */\nvar applyAttr = function (el, name, value) {\n  if (value == null) {\n    el.removeAttribute(name);\n  } else {\n    var attrNS = getNamespace(name);\n    if (attrNS) {\n      el.setAttributeNS(attrNS, name, value);\n    } else {\n      el.setAttribute(name, value);\n    }\n  }\n};\n\n/**\n * Applies a property to a given Element.\n * @param {!Element} el\n * @param {string} name The property's name.\n * @param {*} value The property's value.\n */\nvar applyProp = function (el, name, value) {\n  el[name] = value;\n};\n\n/**\n * Applies a style to an Element. No vendor prefix expansion is done for\n * property names/values.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} style The style to set. Either a string of css or an object\n *     containing property-value pairs.\n */\nvar applyStyle = function (el, name, style) {\n  if (typeof style === 'string') {\n    el.style.cssText = style;\n  } else {\n    el.style.cssText = '';\n    var elStyle = el.style;\n    var obj = /** @type {!Object<string,string>} */style;\n\n    for (var prop in obj) {\n      if (has(obj, prop)) {\n        elStyle[prop] = obj[prop];\n      }\n    }\n  }\n};\n\n/**\n * Updates a single attribute on an Element.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} value The attribute's value. If the value is an object or\n *     function it is set on the Element, otherwise, it is set as an HTML\n *     attribute.\n */\nvar applyAttributeTyped = function (el, name, value) {\n  var type = typeof value;\n\n  if (type === 'object' || type === 'function') {\n    applyProp(el, name, value);\n  } else {\n    applyAttr(el, name, /** @type {?(boolean|number|string)} */value);\n  }\n};\n\n/**\n * Calls the appropriate attribute mutator for this attribute.\n * @param {!Element} el\n * @param {string} name The attribute's name.\n * @param {*} value The attribute's value.\n */\nvar updateAttribute = function (el, name, value) {\n  var data = getData(el);\n  var attrs = data.attrs;\n\n  if (attrs[name] === value) {\n    return;\n  }\n\n  var mutator = attributes[name] || attributes[symbols.default];\n  mutator(el, name, value);\n\n  attrs[name] = value;\n};\n\n/**\n * A publicly mutable object to provide custom mutators for attributes.\n * @const {!Object<string, function(!Element, string, *)>}\n */\nvar attributes = createMap();\n\n// Special generic mutator that's called for any attribute that does not\n// have a specific mutator.\nattributes[symbols.default] = applyAttributeTyped;\n\nattributes[symbols.placeholder] = function () {};\n\nattributes['style'] = applyStyle;\n\n/**\n * Gets the namespace to create an element (of a given tag) in.\n * @param {string} tag The tag to get the namespace for.\n * @param {?Node} parent\n * @return {?string} The namespace to create the tag in.\n */\nvar getNamespaceForTag = function (tag, parent) {\n  if (tag === 'svg') {\n    return 'http://www.w3.org/2000/svg';\n  }\n\n  if (getData(parent).nodeName === 'foreignObject') {\n    return null;\n  }\n\n  return parent.namespaceURI;\n};\n\n/**\n * Creates an Element.\n * @param {Document} doc The document with which to create the Element.\n * @param {?Node} parent\n * @param {string} tag The tag for the Element.\n * @param {?string=} key A key to identify the Element.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element.\n * @return {!Element}\n */\nvar createElement = function (doc, parent, tag, key, statics) {\n  var namespace = getNamespaceForTag(tag, parent);\n  var el = undefined;\n\n  if (namespace) {\n    el = doc.createElementNS(namespace, tag);\n  } else {\n    el = doc.createElement(tag);\n  }\n\n  initData(el, tag, key);\n\n  if (statics) {\n    for (var i = 0; i < statics.length; i += 2) {\n      updateAttribute(el, /** @type {!string}*/statics[i], statics[i + 1]);\n    }\n  }\n\n  return el;\n};\n\n/**\n * Creates a Text Node.\n * @param {Document} doc The document with which to create the Element.\n * @return {!Text}\n */\nvar createText = function (doc) {\n  var node = doc.createTextNode('');\n  initData(node, '#text', null);\n  return node;\n};\n\n/**\n * Creates a mapping that can be used to look up children using a key.\n * @param {?Node} el\n * @return {!Object<string, !Element>} A mapping of keys to the children of the\n *     Element.\n */\nvar createKeyMap = function (el) {\n  var map = createMap();\n  var child = el.firstElementChild;\n\n  while (child) {\n    var key = getData(child).key;\n\n    if (key) {\n      map[key] = child;\n    }\n\n    child = child.nextElementSibling;\n  }\n\n  return map;\n};\n\n/**\n * Retrieves the mapping of key to child node for a given Element, creating it\n * if necessary.\n * @param {?Node} el\n * @return {!Object<string, !Node>} A mapping of keys to child Elements\n */\nvar getKeyMap = function (el) {\n  var data = getData(el);\n\n  if (!data.keyMap) {\n    data.keyMap = createKeyMap(el);\n  }\n\n  return data.keyMap;\n};\n\n/**\n * Retrieves a child from the parent with the given key.\n * @param {?Node} parent\n * @param {?string=} key\n * @return {?Node} The child corresponding to the key.\n */\nvar getChild = function (parent, key) {\n  return key ? getKeyMap(parent)[key] : null;\n};\n\n/**\n * Registers an element as being a child. The parent will keep track of the\n * child using the key. The child can be retrieved using the same key using\n * getKeyMap. The provided key should be unique within the parent Element.\n * @param {?Node} parent The parent of child.\n * @param {string} key A key to identify the child with.\n * @param {!Node} child The child to register.\n */\nvar registerChild = function (parent, key, child) {\n  getKeyMap(parent)[key] = child;\n};\n\n/**\n * Copyright 2015 The Incremental DOM Authors. All Rights Reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *      http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS-IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/** @const */\nvar notifications = {\n  /**\n   * Called after patch has compleated with any Nodes that have been created\n   * and added to the DOM.\n   * @type {?function(Array<!Node>)}\n   */\n  nodesCreated: null,\n\n  /**\n   * Called after patch has compleated with any Nodes that have been removed\n   * from the DOM.\n   * Note it's an applications responsibility to handle any childNodes.\n   * @type {?function(Array<!Node>)}\n   */\n  nodesDeleted: null\n};\n\n/**\n * Keeps track of the state of a patch.\n * @constructor\n */\nfunction Context() {\n  /**\n   * @type {(Array<!Node>|undefined)}\n   */\n  this.created = notifications.nodesCreated && [];\n\n  /**\n   * @type {(Array<!Node>|undefined)}\n   */\n  this.deleted = notifications.nodesDeleted && [];\n}\n\n/**\n * @param {!Node} node\n */\nContext.prototype.markCreated = function (node) {\n  if (this.created) {\n    this.created.push(node);\n  }\n};\n\n/**\n * @param {!Node} node\n */\nContext.prototype.markDeleted = function (node) {\n  if (this.deleted) {\n    this.deleted.push(node);\n  }\n};\n\n/**\n * Notifies about nodes that were created during the patch opearation.\n */\nContext.prototype.notifyChanges = function () {\n  if (this.created && this.created.length > 0) {\n    notifications.nodesCreated(this.created);\n  }\n\n  if (this.deleted && this.deleted.length > 0) {\n    notifications.nodesDeleted(this.deleted);\n  }\n};\n\n/**\n* Makes sure that keyed Element matches the tag name provided.\n* @param {!string} nodeName The nodeName of the node that is being matched.\n* @param {string=} tag The tag name of the Element.\n* @param {?string=} key The key of the Element.\n*/\nvar assertKeyedTagMatches = function (nodeName, tag, key) {\n  if (nodeName !== tag) {\n    throw new Error('Was expecting node with key \"' + key + '\" to be a ' + tag + ', not a ' + nodeName + '.');\n  }\n};\n\n/** @type {?Context} */\nvar context = null;\n\n/** @type {?Node} */\nvar currentNode = null;\n\n/** @type {?Node} */\nvar currentParent = null;\n\n/** @type {?Element|?DocumentFragment} */\nvar root = null;\n\n/** @type {?Document} */\nvar doc = null;\n\n/**\n * Returns a patcher function that sets up and restores a patch context,\n * running the run function with the provided data.\n * @param {function((!Element|!DocumentFragment),!function(T),T=)} run\n * @return {function((!Element|!DocumentFragment),!function(T),T=)}\n * @template T\n */\nvar patchFactory = function (run) {\n  /**\n   * TODO(moz): These annotations won't be necessary once we switch to Closure\n   * Compiler's new type inference. Remove these once the switch is done.\n   *\n   * @param {(!Element|!DocumentFragment)} node\n   * @param {!function(T)} fn\n   * @param {T=} data\n   * @template T\n   */\n  var f = function (node, fn, data) {\n    var prevContext = context;\n    var prevRoot = root;\n    var prevDoc = doc;\n    var prevCurrentNode = currentNode;\n    var prevCurrentParent = currentParent;\n    var previousInAttributes = false;\n    var previousInSkip = false;\n\n    context = new Context();\n    root = node;\n    doc = node.ownerDocument;\n    currentParent = node.parentNode;\n\n    if ('production' !== 'production') {}\n\n    run(node, fn, data);\n\n    if ('production' !== 'production') {}\n\n    context.notifyChanges();\n\n    context = prevContext;\n    root = prevRoot;\n    doc = prevDoc;\n    currentNode = prevCurrentNode;\n    currentParent = prevCurrentParent;\n  };\n  return f;\n};\n\n/**\n * Patches the document starting at node with the provided function. This\n * function may be called during an existing patch operation.\n * @param {!Element|!DocumentFragment} node The Element or Document\n *     to patch.\n * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n *     calls that describe the DOM.\n * @param {T=} data An argument passed to fn to represent DOM state.\n * @template T\n */\nvar patchInner = patchFactory(function (node, fn, data) {\n  currentNode = node;\n\n  enterNode();\n  fn(data);\n  exitNode();\n\n  if ('production' !== 'production') {}\n});\n\n/**\n * Patches an Element with the the provided function. Exactly one top level\n * element call should be made corresponding to `node`.\n * @param {!Element} node The Element where the patch should start.\n * @param {!function(T)} fn A function containing elementOpen/elementClose/etc.\n *     calls that describe the DOM. This should have at most one top level\n *     element call.\n * @param {T=} data An argument passed to fn to represent DOM state.\n * @template T\n */\nvar patchOuter = patchFactory(function (node, fn, data) {\n  currentNode = /** @type {!Element} */{ nextSibling: node };\n\n  fn(data);\n\n  if ('production' !== 'production') {}\n});\n\n/**\n * Checks whether or not the current node matches the specified nodeName and\n * key.\n *\n * @param {?string} nodeName The nodeName for this node.\n * @param {?string=} key An optional key that identifies a node.\n * @return {boolean} True if the node matches, false otherwise.\n */\nvar matches = function (nodeName, key) {\n  var data = getData(currentNode);\n\n  // Key check is done using double equals as we want to treat a null key the\n  // same as undefined. This should be okay as the only values allowed are\n  // strings, null and undefined so the == semantics are not too weird.\n  return nodeName === data.nodeName && key == data.key;\n};\n\n/**\n * Aligns the virtual Element definition with the actual DOM, moving the\n * corresponding DOM node to the correct location or creating it if necessary.\n * @param {string} nodeName For an Element, this should be a valid tag string.\n *     For a Text, this should be #text.\n * @param {?string=} key The key used to identify this element.\n * @param {?Array<*>=} statics For an Element, this should be an array of\n *     name-value pairs.\n */\nvar alignWithDOM = function (nodeName, key, statics) {\n  if (currentNode && matches(nodeName, key)) {\n    return;\n  }\n\n  var node = undefined;\n\n  // Check to see if the node has moved within the parent.\n  if (key) {\n    node = getChild(currentParent, key);\n    if (node && 'production' !== 'production') {\n      assertKeyedTagMatches(getData(node).nodeName, nodeName, key);\n    }\n  }\n\n  // Create the node if it doesn't exist.\n  if (!node) {\n    if (nodeName === '#text') {\n      node = createText(doc);\n    } else {\n      node = createElement(doc, currentParent, nodeName, key, statics);\n    }\n\n    if (key) {\n      registerChild(currentParent, key, node);\n    }\n\n    context.markCreated(node);\n  }\n\n  // If the node has a key, remove it from the DOM to prevent a large number\n  // of re-orders in the case that it moved far or was completely removed.\n  // Since we hold on to a reference through the keyMap, we can always add it\n  // back.\n  if (currentNode && getData(currentNode).key) {\n    currentParent.replaceChild(node, currentNode);\n    getData(currentParent).keyMapValid = false;\n  } else {\n    currentParent.insertBefore(node, currentNode);\n  }\n\n  currentNode = node;\n};\n\n/**\n * Clears out any unvisited Nodes, as the corresponding virtual element\n * functions were never called for them.\n */\nvar clearUnvisitedDOM = function () {\n  var node = currentParent;\n  var data = getData(node);\n  var keyMap = data.keyMap;\n  var keyMapValid = data.keyMapValid;\n  var child = node.lastChild;\n  var key = undefined;\n\n  if (child === currentNode && keyMapValid) {\n    return;\n  }\n\n  if (data.attrs[symbols.placeholder] && node !== root) {\n    if ('production' !== 'production') {}\n    return;\n  }\n\n  while (child !== currentNode) {\n    node.removeChild(child);\n    context.markDeleted( /** @type {!Node}*/child);\n\n    key = getData(child).key;\n    if (key) {\n      delete keyMap[key];\n    }\n    child = node.lastChild;\n  }\n\n  // Clean the keyMap, removing any unusued keys.\n  if (!keyMapValid) {\n    for (key in keyMap) {\n      child = keyMap[key];\n      if (child.parentNode !== node) {\n        context.markDeleted(child);\n        delete keyMap[key];\n      }\n    }\n\n    data.keyMapValid = true;\n  }\n};\n\n/**\n * Changes to the first child of the current node.\n */\nvar enterNode = function () {\n  currentParent = currentNode;\n  currentNode = null;\n};\n\n/**\n * Changes to the next sibling of the current node.\n */\nvar nextNode = function () {\n  if (currentNode) {\n    currentNode = currentNode.nextSibling;\n  } else {\n    currentNode = currentParent.firstChild;\n  }\n};\n\n/**\n * Changes to the parent of the current node, removing any unvisited children.\n */\nvar exitNode = function () {\n  clearUnvisitedDOM();\n\n  currentNode = currentParent;\n  currentParent = currentParent.parentNode;\n};\n\n/**\n * Makes sure that the current node is an Element with a matching tagName and\n * key.\n *\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @return {!Element} The corresponding Element.\n */\nvar coreElementOpen = function (tag, key, statics) {\n  nextNode();\n  alignWithDOM(tag, key, statics);\n  enterNode();\n  return (/** @type {!Element} */currentParent\n  );\n};\n\n/**\n * Closes the currently open Element, removing any unvisited children if\n * necessary.\n *\n * @return {!Element} The corresponding Element.\n */\nvar coreElementClose = function () {\n  if ('production' !== 'production') {}\n\n  exitNode();\n  return (/** @type {!Element} */currentNode\n  );\n};\n\n/**\n * Makes sure the current node is a Text node and creates a Text node if it is\n * not.\n *\n * @return {!Text} The corresponding Text Node.\n */\nvar coreText = function () {\n  nextNode();\n  alignWithDOM('#text', null, null);\n  return (/** @type {!Text} */currentNode\n  );\n};\n\n/**\n * Gets the current Element being patched.\n * @return {!Element}\n */\nvar currentElement = function () {\n  if ('production' !== 'production') {}\n  return (/** @type {!Element} */currentParent\n  );\n};\n\n/**\n * Skips the children in a subtree, allowing an Element to be closed without\n * clearing out the children.\n */\nvar skip = function () {\n  if ('production' !== 'production') {}\n  currentNode = currentParent.lastChild;\n};\n\n/**\n * The offset in the virtual element declaration where the attributes are\n * specified.\n * @const\n */\nvar ATTRIBUTES_OFFSET = 3;\n\n/**\n * Builds an array of arguments for use with elementOpenStart, attr and\n * elementOpenEnd.\n * @const {Array<*>}\n */\nvar argsBuilder = [];\n\n/**\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n *     for the Element.\n * @return {!Element} The corresponding Element.\n */\nvar elementOpen = function (tag, key, statics, const_args) {\n  if ('production' !== 'production') {}\n\n  var node = coreElementOpen(tag, key, statics);\n  var data = getData(node);\n\n  /*\n   * Checks to see if one or more attributes have changed for a given Element.\n   * When no attributes have changed, this is much faster than checking each\n   * individual argument. When attributes have changed, the overhead of this is\n   * minimal.\n   */\n  var attrsArr = data.attrsArr;\n  var newAttrs = data.newAttrs;\n  var attrsChanged = false;\n  var i = ATTRIBUTES_OFFSET;\n  var j = 0;\n\n  for (; i < arguments.length; i += 1, j += 1) {\n    if (attrsArr[j] !== arguments[i]) {\n      attrsChanged = true;\n      break;\n    }\n  }\n\n  for (; i < arguments.length; i += 1, j += 1) {\n    attrsArr[j] = arguments[i];\n  }\n\n  if (j < attrsArr.length) {\n    attrsChanged = true;\n    attrsArr.length = j;\n  }\n\n  /*\n   * Actually perform the attribute update.\n   */\n  if (attrsChanged) {\n    for (i = ATTRIBUTES_OFFSET; i < arguments.length; i += 2) {\n      newAttrs[arguments[i]] = arguments[i + 1];\n    }\n\n    for (var _attr in newAttrs) {\n      updateAttribute(node, _attr, newAttrs[_attr]);\n      newAttrs[_attr] = undefined;\n    }\n  }\n\n  return node;\n};\n\n/**\n * Declares a virtual Element at the current location in the document. This\n * corresponds to an opening tag and a elementClose tag is required. This is\n * like elementOpen, but the attributes are defined using the attr function\n * rather than being passed as arguments. Must be folllowed by 0 or more calls\n * to attr, then a call to elementOpenEnd.\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n */\nvar elementOpenStart = function (tag, key, statics) {\n  if ('production' !== 'production') {}\n\n  argsBuilder[0] = tag;\n  argsBuilder[1] = key;\n  argsBuilder[2] = statics;\n};\n\n/***\n * Defines a virtual attribute at this point of the DOM. This is only valid\n * when called between elementOpenStart and elementOpenEnd.\n *\n * @param {string} name\n * @param {*} value\n */\nvar attr = function (name, value) {\n  if ('production' !== 'production') {}\n\n  argsBuilder.push(name, value);\n};\n\n/**\n * Closes an open tag started with elementOpenStart.\n * @return {!Element} The corresponding Element.\n */\nvar elementOpenEnd = function () {\n  if ('production' !== 'production') {}\n\n  var node = elementOpen.apply(null, argsBuilder);\n  argsBuilder.length = 0;\n  return node;\n};\n\n/**\n * Closes an open virtual Element.\n *\n * @param {string} tag The element's tag.\n * @return {!Element} The corresponding Element.\n */\nvar elementClose = function (tag) {\n  if ('production' !== 'production') {}\n\n  var node = coreElementClose();\n\n  if ('production' !== 'production') {}\n\n  return node;\n};\n\n/**\n * Declares a virtual Element at the current location in the document that has\n * no children.\n * @param {string} tag The element's tag.\n * @param {?string=} key The key used to identify this element. This can be an\n *     empty string, but performance may be better if a unique value is used\n *     when iterating over an array of items.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n *     for the Element.\n * @return {!Element} The corresponding Element.\n */\nvar elementVoid = function (tag, key, statics, const_args) {\n  elementOpen.apply(null, arguments);\n  return elementClose(tag);\n};\n\n/**\n * Declares a virtual Element at the current location in the document that is a\n * placeholder element. Children of this Element can be manually managed and\n * will not be cleared by the library.\n *\n * A key must be specified to make sure that this node is correctly preserved\n * across all conditionals.\n *\n * @param {string} tag The element's tag.\n * @param {string} key The key used to identify this element.\n * @param {?Array<*>=} statics An array of attribute name/value pairs of the\n *     static attributes for the Element. These will only be set once when the\n *     Element is created.\n * @param {...*} const_args Attribute name/value pairs of the dynamic attributes\n *     for the Element.\n * @return {!Element} The corresponding Element.\n */\nvar elementPlaceholder = function (tag, key, statics, const_args) {\n  if ('production' !== 'production') {}\n\n  elementOpen.apply(null, arguments);\n  skip();\n  return elementClose(tag);\n};\n\n/**\n * Declares a virtual Text at this point in the document.\n *\n * @param {string|number|boolean} value The value of the Text.\n * @param {...(function((string|number|boolean)):string)} const_args\n *     Functions to format the value which are called only when the value has\n *     changed.\n * @return {!Text} The corresponding text node.\n */\nvar text = function (value, const_args) {\n  if ('production' !== 'production') {}\n\n  var node = coreText();\n  var data = getData(node);\n\n  if (data.text !== value) {\n    data.text = /** @type {string} */value;\n\n    var formatted = value;\n    for (var i = 1; i < arguments.length; i += 1) {\n      /*\n       * Call the formatter function directly to prevent leaking arguments.\n       * https://github.com/google/incremental-dom/pull/204#issuecomment-178223574\n       */\n      var fn = arguments[i];\n      formatted = fn(formatted);\n    }\n\n    node.data = formatted;\n  }\n\n  return node;\n};\n\nexports.patch = patchInner;\nexports.patchInner = patchInner;\nexports.patchOuter = patchOuter;\nexports.currentElement = currentElement;\nexports.skip = skip;\nexports.elementVoid = elementVoid;\nexports.elementOpenStart = elementOpenStart;\nexports.elementOpenEnd = elementOpenEnd;\nexports.elementOpen = elementOpen;\nexports.elementClose = elementClose;\nexports.elementPlaceholder = elementPlaceholder;\nexports.text = text;\nexports.attr = attr;\nexports.symbols = symbols;\nexports.attributes = attributes;\nexports.applyAttr = applyAttr;\nexports.applyProp = applyProp;\nexports.notifications = notifications;\n\n//# sourceMappingURL=incremental-dom-cjs.js.map","import assign from './assign';\n\nfunction enter (object, props) {\n  const saved = {};\n  Object.keys(props).forEach((key) => {\n    saved[key] = object[key];\n    object[key] = props[key];\n  });\n  return saved;\n}\n\nfunction exit (object, saved) {\n  assign(object, saved);\n}\n\n// Decorates a function with a side effect that changes the properties of an\n// object during its execution, and restores them after. There is no error\n// handling here, if the wrapped function throws an error, properties are not\n// restored and all bets are off.\nexport default function (object, props) {\n  return func => (...args) => {\n    const saved = enter(object, props);\n    const result = func(...args);\n    exit(object, saved);\n    return result;\n  };\n}\n","'use strict'\nmodule.exports = (typeof self === 'object' && self.self === self && self) ||\n  (typeof global === 'object' && global.global === global && global) ||\n  this\n","/* eslint no-plusplus: 0 */\n\nimport {\n  applyProp,\n  attributes,\n  elementClose,\n  elementOpen as idomElementOpen,\n  skip as idomSkip,\n  symbols,\n  text\n} from 'incremental-dom';\nimport { name as $name, ref as $ref } from '../util/symbols';\nimport propContext from '../util/prop-context';\nimport root from 'window-or-global';\n\nconst { customElements, HTMLElement } = root;\nconst applyDefault = attributes[symbols.default];\n\n// A stack of children that corresponds to the current function helper being\n// executed.\nconst stackChren = [];\n\nconst $skip = '__skip';\nconst $currentEventHandlers = '__events';\nconst $stackCurrentHelperProps = '__props';\n\n// The current function helper in the stack.\nlet stackCurrentHelper;\n\n// This is used for the Incremental DOM overrides to keep track of what args\n// to pass the main elementOpen() function.\nlet overrideArgs;\n\n// The number of levels deep after skipping a tree.\nlet skips = 0;\n\nconst noop = () => {};\n\n// Adds or removes an event listener for an element.\nfunction applyEvent (elem, ename, newFunc) {\n  let events = elem[$currentEventHandlers];\n\n  if (!events) {\n    events = elem[$currentEventHandlers] = {};\n  }\n\n  // Undefined indicates that there is no listener yet.\n  if (typeof events[ename] === 'undefined') {\n    // We only add a single listener once. Originally this was a workaround for\n    // the Webcomponents ShadyDOM polyfill not removing listeners, but it's\n    // also a simpler model for binding / unbinding events because you only\n    // have a single handler you need to worry about and a single place where\n    // you only store one event handler\n    elem.addEventListener(ename, function (e) {\n      if (events[ename]) {\n        events[ename].call(this, e);\n      }\n    });\n  }\n\n  // Not undefined indicates that we have set a listener, so default to null.\n  events[ename] = typeof newFunc === 'function' ? newFunc : null;\n}\n\nconst attributesContext = propContext(attributes, {\n  // Attributes that shouldn't be applied to the DOM.\n  key: noop,\n  statics: noop,\n\n  // Attributes that *must* be set via a property on all elements.\n  checked: applyProp,\n  className: applyProp,\n  disabled: applyProp,\n  value: applyProp,\n\n  // Ref handler.\n  ref (elem, name, value) {\n    elem[$ref] = value;\n  },\n\n  // Skip handler.\n  skip (elem, name, value) {\n    if (value) {\n      elem[$skip] = true;\n    } else {\n      delete elem[$skip];\n    }\n  },\n\n  // Default attribute applicator.\n  [symbols.default] (elem, name, value) {\n    const { props, prototype } = customElements.get(elem.localName) || {\n      props: {},\n      prototype: {}\n    };\n\n    // TODO when refactoring properties to not have to workaround the old\n    // WebKit bug we can remove the \"name in props\" check below.\n    //\n    // NOTE: That the \"name in elem\" check won't work for polyfilled custom\n    // elements that set a property that isn't explicitly specified in \"props\"\n    // or \"prototype\" unless it is added to the element explicitly as a\n    // property prior to passing the prop to the vdom function. For example, if\n    // it were added in a lifecycle callback because it wouldn't have been\n    // upgraded yet.\n    //\n    // We prefer setting props, so we do this if there's a property matching\n    // name that was passed. However, certain props on SVG elements are\n    // readonly and error when you try to set them.\n    if ((name in props || name in elem || name in prototype) && !('ownerSVGElement' in elem)) {\n      applyProp(elem, name, value);\n      return;\n    }\n\n    // Explicit false removes the attribute.\n    if (value === false) {\n      applyDefault(elem, name);\n      return;\n    }\n\n    // Handle built-in and custom events.\n    if (name.indexOf('on') === 0) {\n      const firstChar = name[2];\n      let eventName;\n\n      if (firstChar === '-') {\n        eventName = name.substring(3);\n      } else if (firstChar === firstChar.toUpperCase()) {\n        eventName = firstChar.toLowerCase() + name.substring(3);\n      }\n\n      if (eventName) {\n        applyEvent(elem, eventName, value);\n        return;\n      }\n    }\n\n    applyDefault(elem, name, value);\n  }\n});\n\nfunction resolveTagName (name) {\n  // We return falsy values as some wrapped IDOM functions allow empty values.\n  if (!name) {\n    return name;\n  }\n\n  // We try and return the cached tag name, if one exists.\n  if (name[$name]) {\n    return name[$name];\n  }\n\n  // If it's a custom element, we get the tag name by constructing it and\n  // caching it.\n  if (name.prototype instanceof HTMLElement) {\n    // eslint-disable-next-line\n    const elem = new name();\n    return (name[$name] = elem.localName);\n  }\n\n  // Pass all other values through so IDOM gets what it's expecting.\n  return name;\n}\n\n// Incremental DOM's elementOpen is where the hooks in `attributes` are applied,\n// so it's the only function we need to execute in the context of our attributes.\nconst elementOpen = attributesContext(idomElementOpen);\n\nfunction elementOpenStart (tag, key = null, statics = null) {\n  overrideArgs = [tag, key, statics];\n}\n\nfunction elementOpenEnd () {\n  const node = newElementOpen(...overrideArgs); // eslint-disable-line no-use-before-define\n  overrideArgs = null;\n  return node;\n}\n\nfunction wrapIdomFunc (func, tnameFuncHandler = noop) {\n  return function wrap (...args) {\n    args[0] = resolveTagName(args[0]);\n    stackCurrentHelper = null;\n    if (typeof args[0] === 'function') {\n      // If we've encountered a function, handle it according to the type of\n      // function that is being wrapped.\n      stackCurrentHelper = args[0];\n      return tnameFuncHandler(...args);\n    } else if (stackChren.length) {\n      // We pass the wrap() function in here so that when it's called as\n      // children, it will queue up for the next stack, if there is one.\n      stackChren[stackChren.length - 1].push([wrap, args]);\n    } else {\n      if (func === elementOpen) {\n        if (skips) {\n          return ++skips;\n        }\n\n        const elem = func(...args);\n\n        if (elem[$skip]) {\n          ++skips;\n        }\n\n        return elem;\n      }\n\n      if (func === elementClose) {\n        if (skips === 1) {\n          idomSkip();\n        }\n\n        // We only want to skip closing if it's not the last closing tag in the\n        // skipped tree because we keep the element that initiated the skpping.\n        if (skips && --skips) {\n          return;\n        }\n\n        const elem = func(...args);\n        const ref = elem[$ref];\n\n        // We delete so that it isn't called again for the same element. If the\n        // ref changes, or the element changes, this will be defined again.\n        delete elem[$ref];\n\n        // Execute the saved ref after esuring we've cleand up after it.\n        if (typeof ref === 'function') {\n          ref(elem);\n        }\n\n        return elem;\n      }\n\n      // We must call elementOpenStart and elementOpenEnd even if we are\n      // skipping because they queue up attributes and then call elementClose.\n      if (!skips || (func === elementOpenStart || func === elementOpenEnd)) {\n        return func(...args);\n      }\n    }\n  };\n}\n\nfunction newAttr (...args) {\n  if (stackCurrentHelper) {\n    stackCurrentHelper[$stackCurrentHelperProps][args[0]] = args[1];\n  } else if (stackChren.length) {\n    stackChren[stackChren.length - 1].push([newAttr, args]);\n  } else {\n    overrideArgs.push(args[0]);\n    overrideArgs.push(args[1]);\n  }\n}\n\nfunction stackOpen (tname, key, statics, ...attrs) {\n  const props = { key, statics };\n  for (let a = 0; a < attrs.length; a += 2) {\n    props[attrs[a]] = attrs[a + 1];\n  }\n  tname[$stackCurrentHelperProps] = props;\n  stackChren.push([]);\n}\n\nfunction stackClose (tname) {\n  const chren = stackChren.pop();\n  const props = tname[$stackCurrentHelperProps];\n  delete tname[$stackCurrentHelperProps];\n  const elemOrFn = tname(props, () => chren.forEach(args => args[0](...args[1])));\n  return typeof elemOrFn === 'function' ? elemOrFn() : elemOrFn;\n}\n\n// Incremental DOM overrides\n// -------------------------\n\n// We must override internal functions that call internal Incremental DOM\n// functions because we can't override the internal references. This means\n// we must roughly re-implement their behaviour. Luckily, they're fairly\n// simple.\nconst newElementOpenStart = wrapIdomFunc(elementOpenStart, stackOpen);\nconst newElementOpenEnd = wrapIdomFunc(elementOpenEnd);\n\n// Standard open / closed overrides don't need to reproduce internal behaviour\n// because they are the ones referenced from *End and *Start.\nconst newElementOpen = wrapIdomFunc(elementOpen, stackOpen);\nconst newElementClose = wrapIdomFunc(elementClose, stackClose);\n\n// Ensure we call our overridden functions instead of the internal ones.\nfunction newElementVoid (tag, ...args) {\n  newElementOpen(tag, ...args);\n  return newElementClose(tag);\n}\n\n// Text override ensures their calls can queue if using function helpers.\nconst newText = wrapIdomFunc(text);\n\n// Convenience function for declaring an Incremental DOM element using\n// hyperscript-style syntax.\nexport function element (tname, attrs, ...chren) {\n  const atype = typeof attrs;\n\n  // If attributes are a function, then they should be treated as children.\n  if (atype === 'function' || atype === 'string' || atype === 'number') {\n    chren.unshift(attrs);\n  }\n\n  // Ensure the attributes are an object. Null is considered an object so we\n  // have to test for this explicitly.\n  if (attrs === null || atype !== 'object') {\n    attrs = {};\n  }\n\n  // We open the element so we can set attrs after.\n  newElementOpenStart(tname, attrs.key, attrs.statics);\n\n  // Delete so special attrs don't actually get set.\n  delete attrs.key;\n  delete attrs.statics;\n\n  // Set attributes.\n  Object.keys(attrs).forEach(name => newAttr(name, attrs[name]));\n\n  // Close before we render the descendant tree.\n  newElementOpenEnd(tname);\n\n  chren.forEach((ch) => {\n    const ctype = typeof ch;\n    if (ctype === 'function') {\n      ch();\n    } else if (ctype === 'string' || ctype === 'number') {\n      newText(ch);\n    } else if (Array.isArray(ch)) {\n      ch.forEach(sch => sch());\n    }\n  });\n\n  return newElementClose(tname);\n}\n\n// Even further convenience for building a DSL out of JavaScript functions or hooking into standard\n// transpiles for JSX (React.createElement() / h).\nexport function builder (...tags) {\n  if (tags.length === 0) {\n    return (...args) => element.bind(null, ...args);\n  }\n  return tags.map(tag =>\n    (...args) =>\n      element.bind(null, tag, ...args)\n  );\n}\n\n// We don't have to do anything special for the text function; it's just a\n// straight export from Incremental DOM.\nexport {\n  newAttr as attr,\n  newElementClose as elementClose,\n  newElementOpen as elementOpen,\n  newElementOpenEnd as elementOpenEnd,\n  newElementOpenStart as elementOpenStart,\n  newElementVoid as elementVoid,\n  newText as text\n};\n","export default function createSymbol (description) {\n  return typeof Symbol === 'function' ? Symbol(description) : description;\n}\n","export default function (element, namespace = '') {\n  const data = element.__SKATE_DATA || (element.__SKATE_DATA = {});\n  return namespace && (data[namespace] || (data[namespace] = {})) || data; // eslint-disable-line no-mixed-operators\n}\n","const nativeHints = [\n  'native code',\n  '[object MutationObserverConstructor]' // for mobile safari iOS 9.0\n];\nexport default fn => nativeHints.map(\n  (hint) => (fn || '').toString().indexOf([hint]) > -1\n).reduce((a, b) => a || b);\n","import native from './native';\nimport root from 'window-or-global';\n\nconst { MutationObserver } = root;\n\nfunction microtaskDebounce (cbFunc) {\n  let scheduled = false;\n  let i = 0;\n  let cbArgs = [];\n  const elem = document.createElement('span');\n  const observer = new MutationObserver(() => {\n    cbFunc(...cbArgs);\n    scheduled = false;\n    cbArgs = null;\n  });\n\n  observer.observe(elem, { childList: true });\n\n  return (...args) => {\n    cbArgs = args;\n    if (!scheduled) {\n      scheduled = true;\n      elem.textContent = `${i}`;\n      i += 1;\n    }\n  };\n}\n\n// We have to use setTimeout() for IE9 and 10 because the Mutation Observer\n// polyfill requires that the element be in the document to trigger Mutation\n// Events. Mutation Events are also synchronous and thus wouldn't debounce.\n//\n// The soonest we can set the timeout for in IE is 1 as they have issues when\n// setting to 0.\nfunction taskDebounce (cbFunc) {\n  let scheduled = false;\n  let cbArgs = [];\n  return (...args) => {\n    cbArgs = args;\n    if (!scheduled) {\n      scheduled = true;\n      setTimeout(() => {\n        scheduled = false;\n        cbFunc(...cbArgs);\n      }, 1);\n    }\n  };\n}\nexport default native(MutationObserver) ? microtaskDebounce : taskDebounce;\n","export default function deprecated (elem, oldUsage, newUsage) {\n  if (DEBUG) {\n    const ownerName = elem.localName ? elem.localName : String(elem);\n    console.warn(`${ownerName} ${oldUsage} is deprecated. Use ${newUsage}.`);\n  }\n}\n","import toNullOrString from './to-null-or-string';\nimport { isUndefined } from './is-type';\n\n/**\n * @internal\n * Attributes Manager\n *\n * Postpones attributes updates until when connected.\n */\nclass AttributesManager {\n  constructor (elem) {\n    this.elem = elem;\n    this.connected = false;\n    this.pendingValues = {};\n    this.lastSetValues = {};\n  }\n\n  /**\n   * Called from disconnectedCallback\n   */\n  suspendAttributesUpdates () {\n    this.connected = false;\n  }\n\n  /**\n   * Called from connectedCallback\n   */\n  resumeAttributesUpdates () {\n    this.connected = true;\n    const names = Object.keys(this.pendingValues);\n    names.forEach(name => {\n      const value = this.pendingValues[name];\n      // Skip if already cleared\n      if (!isUndefined(value)) {\n        delete this.pendingValues[name];\n        this._syncAttrValue(name, value);\n      }\n    });\n  }\n\n  /**\n   * Returns true if the value is different from the one set internally\n   * using setAttrValue()\n   */\n  onAttributeChanged (name, value) {\n    value = toNullOrString(value);\n\n    // A new attribute value voids the pending one\n    this._clearPendingValue(name);\n\n    const changed = this.lastSetValues[name] !== value;\n    this.lastSetValues[name] = value;\n    return changed;\n  }\n\n  /**\n   * Updates or removes the attribute if value === null.\n   *\n   * When the component is not connected the value is saved and\n   * the attribute is only updated when the component is re-connected.\n   */\n  setAttrValue (name, value) {\n    value = toNullOrString(value);\n\n    this.lastSetValues[name] = value;\n\n    if (this.connected) {\n      this._clearPendingValue(name);\n      this._syncAttrValue(name, value);\n    } else {\n      this.pendingValues[name] = value;\n    }\n  }\n\n  _syncAttrValue (name, value) {\n    const currAttrValue = toNullOrString(this.elem.getAttribute(name));\n    if (value !== currAttrValue) {\n      if (value === null) {\n        this.elem.removeAttribute(name);\n      } else {\n        this.elem.setAttribute(name, value);\n      }\n    }\n  }\n\n  _clearPendingValue (name) {\n    if (name in this.pendingValues) {\n      delete this.pendingValues[name];\n    }\n  }\n}\n\n// Only used by getAttrMgr\nconst $attributesMgr = '____skate_attributesMgr';\n\n/**\n * @internal\n * Returns attribute manager instance for the given Component\n */\nexport default function getAttrMgr (elem) {\n  let mgr = elem[$attributesMgr];\n  if (!mgr) {\n    mgr = new AttributesManager(elem);\n    elem[$attributesMgr] = mgr;\n  }\n  return mgr;\n}\n","import getPropNamesAndSymbols from './get-prop-names-and-symbols';\n\nexport default function (obj = {}) {\n  return getPropNamesAndSymbols(obj).reduce((prev, nameOrSymbol) => {\n    prev[nameOrSymbol] = Object.getOwnPropertyDescriptor(obj, nameOrSymbol);\n    return prev;\n  }, {});\n}\n","export default function (str) {\n  return str.split(/([A-Z])/).reduce((one, two, idx) => {\n    const dash = !one || idx % 2 === 0 ? '' : '-';\n    return `${one}${dash}${two.toLowerCase()}`;\n  });\n}\n","export default function error (message) {\n  throw new Error(message);\n}\n","import dashCase from './dash-case';\nimport empty from './empty';\nimport error from './error';\nimport {\n  isFunction,\n  isObject,\n  isString,\n  isSymbol\n} from './is-type';\n\n/**\n * @internal\n * Property Definition\n *\n * Internal meta data and strategies for a property.\n * Created from the options of a PropOptions config object.\n *\n * Once created a PropDefinition should be treated as immutable and final.\n * 'getPropsMap' function memoizes PropDefinitions by Component's Class.\n *\n * The 'attribute' option is normalized to 'attrSource' and 'attrTarget' properties.\n */\nexport default class PropDefinition {\n\n  constructor (nameOrSymbol, propOptions) {\n    this._nameOrSymbol = nameOrSymbol;\n\n    propOptions = propOptions || {};\n\n    // default 'attrSource': no observed source attribute (name)\n    this.attrSource = null;\n\n    // default 'attrTarget': no reflected target attribute (name)\n    this.attrTarget = null;\n\n    // default 'attrTargetIsNotSource'\n    this.attrTargetIsNotSource = false;\n\n    // default 'coerce': identity function\n    this.coerce = value => value;\n\n    // default 'default': set prop to 'null'\n    this.default = null;\n\n    // default 'deserialize': return attribute's value (string or null)\n    this.deserialize = value => value;\n\n    // default 'get': no function\n    this.get = null;\n\n    // 'initial' default: unspecified\n    // 'initial' option is truly optional and it cannot be initialized.\n    // Its presence is tested using: ('initial' in propDef)\n\n    // 'serialize' default: return string value or null\n    this.serialize = value => (empty(value) ? null : String(value));\n\n    // default 'set': no function\n    this.set = null;\n\n    // Note: option key is always a string (no symbols here)\n    Object.keys(propOptions).forEach(option => {\n      const optVal = propOptions[option];\n\n      // Only accept documented options and perform minimal input validation.\n      switch (option) {\n        case 'attribute':\n          if (!isObject(optVal)) {\n            this.attrSource = this.attrTarget = resolveAttrName(optVal, nameOrSymbol);\n          } else {\n            const { source, target } = optVal;\n            if (!source && !target) {\n              error(`${option} 'source' or 'target' is missing.`);\n            }\n            this.attrSource = resolveAttrName(source, nameOrSymbol);\n            this.attrTarget = resolveAttrName(target, nameOrSymbol);\n            this.attrTargetIsNotSource = this.attrTarget !== this.attrSource;\n          }\n          break;\n        case 'coerce':\n        case 'deserialize':\n        case 'get':\n        case 'serialize':\n        case 'set':\n          if (isFunction(optVal)) {\n            this[option] = optVal;\n          } else {\n            error(`${option} must be a function.`);\n          }\n          break;\n        case 'default':\n        case 'initial':\n          this[option] = optVal;\n          break;\n        default:\n          // TODO: undocumented options?\n          this[option] = optVal;\n          break;\n      }\n    });\n  }\n\n  get nameOrSymbol () {\n    return this._nameOrSymbol;\n  }\n\n}\n\nfunction resolveAttrName (attrOption, nameOrSymbol) {\n  if (isSymbol(nameOrSymbol)) {\n    error(`${nameOrSymbol.toString()} symbol property cannot have an attribute.`);\n  } else {\n    if (attrOption === true) {\n      return dashCase(String(nameOrSymbol));\n    }\n    if (isString(attrOption)) {\n      return attrOption;\n    }\n  }\n  return null;\n}\n","/**\n * This is needed to avoid IE11 \"stack size errors\" when creating\n * a new property on the constructor of an HTMLElement\n */\nexport default function setCtorNativeProperty (Ctor, propName, value) {\n  Object.defineProperty(Ctor, propName, { configurable: true, value });\n}\n","import {\n  ctorPropsMap as $ctorPropsMap\n} from './symbols';\nimport getPropNamesAndSymbols from './get-prop-names-and-symbols';\nimport PropDefinition from './prop-definition';\nimport setCtorNativeProperty from './set-ctor-native-property';\n\n/**\n * Memoizes a map of PropDefinition for the given component class.\n * Keys in the map are the properties name which can a string or a symbol.\n *\n * The map is created from the result of: static get props\n */\nexport default function getPropsMap (Ctor) {\n  // Must be defined on constructor and not from a superclass\n  if (!Ctor.hasOwnProperty($ctorPropsMap)) {\n    const props = Ctor.props || {};\n\n    const propsMap = getPropNamesAndSymbols(props).reduce((result, nameOrSymbol) => {\n      result[nameOrSymbol] = new PropDefinition(nameOrSymbol, props[nameOrSymbol]);\n      return result;\n    }, {});\n    setCtorNativeProperty(Ctor, $ctorPropsMap, propsMap);\n  }\n\n  return Ctor[$ctorPropsMap];\n}\n","import { renderer as $renderer } from '../util/symbols';\nimport assign from '../util/assign';\nimport getPropNamesAndSymbols from '../util/get-prop-names-and-symbols';\nimport getPropsMap from '../util/get-props-map';\nimport { isUndefined } from '../util/is-type';\n\nfunction get (elem) {\n  const props = {};\n\n  getPropNamesAndSymbols(getPropsMap(elem.constructor)).forEach((nameOrSymbol) => {\n    props[nameOrSymbol] = elem[nameOrSymbol];\n  });\n\n  return props;\n}\n\nfunction set (elem, newProps) {\n  assign(elem, newProps);\n  if (elem[$renderer]) {\n    elem[$renderer]();\n  }\n}\n\nexport default function (elem, newProps) {\n  return isUndefined(newProps) ? get(elem) : set(elem, newProps);\n}\n","export default function getDefaultValue (elem, propDef) {\n  return typeof propDef.default === 'function'\n    ? propDef.default(elem, { name: propDef.nameOrSymbol })\n    : propDef.default;\n}\n","export default function getInitialValue (elem, propDef) {\n  return typeof propDef.initial === 'function'\n    ? propDef.initial(elem, { name: propDef.nameOrSymbol })\n    : propDef.initial;\n}\n","import data from './data';\n\nexport default function getPropData (elem, name) {\n  const elemData = data(elem, 'props');\n  return elemData[name] || (elemData[name] = {});\n}\n","import {\n  rendererDebounced as $rendererDebounced\n} from '../util/symbols';\nimport data from '../util/data';\nimport empty from '../util/empty';\nimport getAttrMgr from '../util/attributes-manager';\nimport getDefaultValue from '../util/get-default-value';\nimport getInitialValue from '../util/get-initial-value';\nimport getPropData from '../util/get-prop-data';\n\nexport function createNativePropertyDescriptor (propDef) {\n  const { nameOrSymbol } = propDef;\n\n  const prop = {\n    configurable: true,\n    enumerable: true\n  };\n\n  prop.beforeDefineProperty = elem => {\n    const propData = getPropData(elem, nameOrSymbol);\n    const attrSource = propDef.attrSource;\n\n    // Store attrSource name to property link.\n    if (attrSource) {\n      data(elem, 'attrSourceLinks')[attrSource] = nameOrSymbol;\n    }\n\n    // prop value before upgrading\n    let initialValue = elem[nameOrSymbol];\n\n    // Set up initial value if it wasn't specified.\n    let valueFromAttrSource = false;\n    if (empty(initialValue)) {\n      if (attrSource && elem.hasAttribute(attrSource)) {\n        valueFromAttrSource = true;\n        initialValue = propDef.deserialize(elem.getAttribute(attrSource));\n      } else if ('initial' in propDef) {\n        initialValue = getInitialValue(elem, propDef);\n      } else {\n        initialValue = getDefaultValue(elem, propDef);\n      }\n    }\n\n    initialValue = propDef.coerce(initialValue);\n\n    propData.internalValue = initialValue;\n\n    // Reflect to Target Attribute\n    const mustReflect = propDef.attrTarget && !empty(initialValue) &&\n      (!valueFromAttrSource || propDef.attrTargetIsNotSource);\n\n    if (mustReflect) {\n      let serializedValue = propDef.serialize(initialValue);\n      getAttrMgr(elem).setAttrValue(propDef.attrTarget, serializedValue);\n    }\n  };\n\n  prop.get = function get () {\n    const propData = getPropData(this, nameOrSymbol);\n    const { internalValue } = propData;\n    return propDef.get ? propDef.get(this, { name: nameOrSymbol, internalValue }) : internalValue;\n  };\n\n  prop.set = function set (newValue) {\n    const propData = getPropData(this, nameOrSymbol);\n\n    const useDefaultValue = empty(newValue);\n    if (useDefaultValue) {\n      newValue = getDefaultValue(this, propDef);\n    }\n\n    newValue = propDef.coerce(newValue);\n\n    if (propDef.set) {\n      let { oldValue } = propData;\n\n      if (empty(oldValue)) {\n        oldValue = null;\n      }\n      const changeData = { name: nameOrSymbol, newValue, oldValue };\n      propDef.set(this, changeData);\n    }\n\n    // Queue a re-render.\n    this[$rendererDebounced](this);\n\n    // Update prop data so we can use it next time.\n    propData.internalValue = propData.oldValue = newValue;\n\n    // Reflect to Target attribute.\n    const mustReflect = propDef.attrTarget &&\n      (propDef.attrTargetIsNotSource || !propData.settingPropFromAttrSource);\n    if (mustReflect) {\n      // Note: setting the prop to empty implies the default value\n      // and therefore no attribute should be present!\n      let serializedValue = useDefaultValue ? null : propDef.serialize(newValue);\n      getAttrMgr(this).setAttrValue(propDef.attrTarget, serializedValue);\n    }\n  };\n\n  return prop;\n}\n","/**\n * Polyfill Object.is for IE\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\n */\nif (!Object.is) {\n  Object.is = function (x, y) {\n    // SameValue algorithm\n    if (x === y) { // Steps 1-5, 7-10\n      // Steps 6.b-6.e: +0 != -0\n      return x !== 0 || 1 / x === 1 / y;\n    } else {\n      // Step 6.a: NaN == NaN\n      return x !== x && y !== y;\n    }\n  };\n}\nexport default Object.is;\n","import { patchInner } from 'incremental-dom';\nimport {\n  connected as $connected,\n  created as $created,\n  ctorObservedAttributes as $ctorObservedAttributes,\n  ctorProps as $ctorProps,\n  ctorCreateInitProps as $ctorCreateInitProps,\n  props as $props,\n  renderer as $renderer,\n  rendererDebounced as $rendererDebounced,\n  rendering as $rendering,\n  updated as $updated\n} from '../util/symbols';\nimport assign from '../util/assign';\nimport createSymbol from '../util/create-symbol';\nimport data from '../util/data';\nimport debounce from '../util/debounce';\nimport deprecated from '../util/deprecated';\nimport getAttrMgr from '../util/attributes-manager';\nimport getOwnPropertyDescriptors from '../util/get-own-property-descriptors';\nimport getPropNamesAndSymbols from '../util/get-prop-names-and-symbols';\nimport getPropsMap from '../util/get-props-map';\nimport getSetProps from './props';\nimport { createNativePropertyDescriptor } from '../lifecycle/props-init';\nimport { isFunction } from '../util/is-type';\nimport objectIs from '../polyfills/object-is';\nimport setCtorNativeProperty from '../util/set-ctor-native-property';\nimport root from 'window-or-global';\n\nconst HTMLElement = root.HTMLElement || class {};\nconst _prevName = createSymbol('prevName');\nconst _prevOldValue = createSymbol('prevOldValue');\nconst _prevNewValue = createSymbol('prevNewValue');\n\nfunction preventDoubleCalling (elem, name, oldValue, newValue) {\n  return name === elem[_prevName] &&\n    oldValue === elem[_prevOldValue] &&\n    newValue === elem[_prevNewValue];\n}\n\n// TODO remove when not catering to Safari < 10.\nfunction createNativePropertyDescriptors (Ctor) {\n  const propDefs = getPropsMap(Ctor);\n  return getPropNamesAndSymbols(propDefs).reduce((propDescriptors, nameOrSymbol) => {\n    propDescriptors[nameOrSymbol] = createNativePropertyDescriptor(propDefs[nameOrSymbol]);\n    return propDescriptors;\n  }, {});\n}\n\n// TODO refactor when not catering to Safari < 10.\n//\n// We should be able to simplify this where all we do is Object.defineProperty().\nfunction createInitProps (Ctor) {\n  const propDescriptors = createNativePropertyDescriptors(Ctor);\n\n  return (elem) => {\n    getPropNamesAndSymbols(propDescriptors).forEach((nameOrSymbol) => {\n      const propDescriptor = propDescriptors[nameOrSymbol];\n      propDescriptor.beforeDefineProperty(elem);\n\n      // We check here before defining to see if the prop was specified prior\n      // to upgrading.\n      const hasPropBeforeUpgrading = nameOrSymbol in elem;\n\n      // This is saved prior to defining so that we can set it after it it was\n      // defined prior to upgrading. We don't want to invoke the getter if we\n      // don't need to, so we only get the value if we need to re-sync.\n      const valueBeforeUpgrading = hasPropBeforeUpgrading && elem[nameOrSymbol];\n\n      // https://bugs.webkit.org/show_bug.cgi?id=49739\n      //\n      // When Webkit fixes that bug so that native property accessors can be\n      // retrieved, we can move defining the property to the prototype and away\n      // from having to do if for every instance as all other browsers support\n      // this.\n      Object.defineProperty(elem, nameOrSymbol, propDescriptor);\n\n      // DEPRECATED\n      //\n      // We'll be removing get / set callbacks on properties. Use the\n      // updatedCallback() instead.\n      //\n      // We re-set the prop if it was specified prior to upgrading because we\n      // need to ensure set() is triggered both in polyfilled environments and\n      // in native where the definition may be registerd after elements it\n      // represents have already been created.\n      if (hasPropBeforeUpgrading) {\n        elem[nameOrSymbol] = valueBeforeUpgrading;\n      }\n    });\n  };\n}\n\nexport default class extends HTMLElement {\n  /**\n   * Returns unique attribute names configured with props and\n   * those set on the Component constructor if any\n   */\n  static get observedAttributes () {\n    const attrsOnCtor = this.hasOwnProperty($ctorObservedAttributes) ? this[$ctorObservedAttributes] : [];\n    const propDefs = getPropsMap(this);\n\n    // Use Object.keys to skips symbol props since they have no linked attributes\n    const attrsFromLinkedProps = Object.keys(propDefs).map(propName =>\n      propDefs[propName].attrSource).filter(Boolean);\n\n    const all = attrsFromLinkedProps.concat(attrsOnCtor).concat(super.observedAttributes);\n    return all.filter((item, index) =>\n      all.indexOf(item) === index);\n  }\n\n  static set observedAttributes (value) {\n    value = Array.isArray(value) ? value : [];\n    setCtorNativeProperty(this, 'observedAttributes', value);\n  }\n\n  // Returns superclass props overwritten with this Component props\n  static get props () {\n    return assign({}, super.props, this[$ctorProps]);\n  }\n\n  static set props (value) {\n    setCtorNativeProperty(this, $ctorProps, value);\n  }\n\n  // Passing args is designed to work with document-register-element. It's not\n  // necessary for the webcomponents/custom-element polyfill.\n  constructor (...args) {\n    super(...args);\n\n    const { constructor } = this;\n\n    // Used for the ready() function so it knows when it can call its callback.\n    this[$created] = true;\n\n    // TODO refactor to not cater to Safari < 10. This means we can depend on\n    // built-in property descriptors.\n    // Must be defined on constructor and not from a superclass\n    if (!constructor.hasOwnProperty($ctorCreateInitProps)) {\n      setCtorNativeProperty(constructor, $ctorCreateInitProps, createInitProps(constructor));\n    }\n\n    // Set up a renderer that is debounced for property sets to call directly.\n    this[$rendererDebounced] = debounce(this[$renderer].bind(this));\n\n    // Set up property lifecycle.\n    const propDefsCount = getPropNamesAndSymbols(getPropsMap(constructor)).length;\n    if (propDefsCount && constructor[$ctorCreateInitProps]) {\n      constructor[$ctorCreateInitProps](this);\n    }\n\n    // DEPRECATED\n    //\n    // static render()\n    // Note that renderCallback is an optional method!\n    if (!this.renderCallback && constructor.render) {\n      DEBUG && deprecated(this, 'static render', 'renderCallback');\n      this.renderCallback = constructor.render.bind(constructor, this);\n    }\n\n    // DEPRECATED\n    //\n    // static created()\n    //\n    // Props should be set up before calling this.\n    const { created } = constructor;\n    if (isFunction(created)) {\n      DEBUG && deprecated(this, 'static created', 'constructor');\n      created(this);\n    }\n\n    // DEPRECATED\n    //\n    // Feature has rarely been used.\n    //\n    // Created should be set before invoking the ready listeners.\n    const elemData = data(this);\n    const readyCallbacks = elemData.readyCallbacks;\n    if (readyCallbacks) {\n      readyCallbacks.forEach(cb => cb(this));\n      delete elemData.readyCallbacks;\n    }\n  }\n\n  // Custom Elements v1\n  connectedCallback () {\n    // Reflect attributes pending values\n    getAttrMgr(this).resumeAttributesUpdates();\n\n    // Used to check whether or not the component can render.\n    this[$connected] = true;\n\n    // Render!\n    this[$rendererDebounced]();\n\n    // DEPRECATED\n    //\n    // static attached()\n    const { attached } = this.constructor;\n    if (isFunction(attached)) {\n      DEBUG && deprecated(this, 'static attached', 'connectedCallback');\n      attached(this);\n    }\n\n    // DEPRECATED\n    //\n    // We can remove this once all browsers support :defined.\n    this.setAttribute('defined', '');\n  }\n\n  // Custom Elements v1\n  disconnectedCallback () {\n    // Suspend updating attributes until re-connected\n    getAttrMgr(this).suspendAttributesUpdates();\n\n    // Ensures the component can't be rendered while disconnected.\n    this[$connected] = false;\n\n    // DEPRECATED\n    //\n    // static detached()\n    const { detached } = this.constructor;\n    if (isFunction(detached)) {\n      DEBUG && deprecated(this, 'static detached', 'disconnectedCallback');\n      detached(this);\n    }\n  }\n\n  // Custom Elements v1\n  attributeChangedCallback (name, oldValue, newValue) {\n    // Polyfill calls this twice.\n    if (preventDoubleCalling(this, name, oldValue, newValue)) {\n      return;\n    }\n\n    // Set data so we can prevent double calling if the polyfill.\n    this[_prevName] = name;\n    this[_prevOldValue] = oldValue;\n    this[_prevNewValue] = newValue;\n\n    const propNameOrSymbol = data(this, 'attrSourceLinks')[name];\n    if (propNameOrSymbol) {\n      const changedExternally = getAttrMgr(this).onAttributeChanged(name, newValue);\n      if (changedExternally) {\n        // Sync up the property.\n        const propDef = getPropsMap(this.constructor)[propNameOrSymbol];\n        const newPropVal = newValue !== null && propDef.deserialize\n          ? propDef.deserialize(newValue)\n          : newValue;\n\n        const propData = data(this, 'props')[propNameOrSymbol];\n        propData.settingPropFromAttrSource = true;\n        this[propNameOrSymbol] = newPropVal;\n        propData.settingPropFromAttrSource = false;\n      }\n    }\n\n    // DEPRECATED\n    //\n    // static attributeChanged()\n    const { attributeChanged } = this.constructor;\n    if (isFunction(attributeChanged)) {\n      DEBUG && deprecated(this, 'static attributeChanged', 'attributeChangedCallback');\n      attributeChanged(this, { name, newValue, oldValue });\n    }\n  }\n\n  // Skate\n  updatedCallback (prevProps) {\n    if (this.constructor.hasOwnProperty('updated')) {\n      DEBUG && deprecated(this, 'static updated', 'updatedCallback');\n    }\n    return this.constructor.updated(this, prevProps);\n  }\n\n  // Skate\n  renderedCallback () {\n    if (this.constructor.hasOwnProperty('rendered')) {\n      DEBUG && deprecated(this, 'static rendered', 'renderedCallback');\n    }\n    return this.constructor.rendered(this);\n  }\n\n  // Skate\n  //\n  // Maps to the static renderer() callback. That logic should be moved here\n  // when that is finally removed.\n  // TODO: finalize how to support different rendering strategies.\n  rendererCallback () {\n    // TODO: cannot move code here because tests expects renderer function to still exist on constructor!\n    return this.constructor.renderer(this);\n  }\n\n  // Skate\n  // @internal\n  // Invokes the complete render lifecycle.\n  [$renderer] () {\n    if (this[$rendering] || !this[$connected]) {\n      return;\n    }\n\n    // Flag as rendering. This prevents anything from trying to render - or\n    // queueing a render - while there is a pending render.\n    this[$rendering] = true;\n    if (this[$updated]() && isFunction(this.renderCallback)) {\n      this.rendererCallback();\n      this.renderedCallback();\n    }\n\n    this[$rendering] = false;\n  }\n\n  // Skate\n  // @internal\n  // Calls the updatedCallback() with previous props.\n  [$updated] () {\n    const prevProps = this[$props];\n    this[$props] = getSetProps(this);\n    return this.updatedCallback(prevProps);\n  }\n\n  // Skate\n  static extend (definition = {}, Base = this) {\n    // Create class for the user.\n    class Ctor extends Base {}\n\n    // For inheriting from the object literal.\n    const opts = getOwnPropertyDescriptors(definition);\n    const prot = getOwnPropertyDescriptors(definition.prototype);\n\n    // Prototype is non configurable (but is writable).\n    delete opts.prototype;\n\n    // Pass on static and instance members from the definition.\n    Object.defineProperties(Ctor, opts);\n    Object.defineProperties(Ctor.prototype, prot);\n\n    return Ctor;\n  }\n\n  // Skate\n  //\n  // DEPRECATED\n  //\n  // Stubbed in case any subclasses are calling it.\n  static rendered () {}\n\n  // Skate\n  //\n  // DEPRECATED\n  //\n  // Move this to rendererCallback() before removing.\n  static renderer (elem) {\n    if (!elem.shadowRoot) {\n      elem.attachShadow({ mode: 'open' });\n    }\n    patchInner(elem.shadowRoot, () => {\n      const possibleFn = elem.renderCallback(elem);\n      if (isFunction(possibleFn)) {\n        possibleFn();\n      } else if (Array.isArray(possibleFn)) {\n        possibleFn.forEach((fn) => {\n          if (isFunction(fn)) {\n            fn();\n          }\n        });\n      }\n    });\n  }\n\n  // Skate\n  //\n  // DEPRECATED\n  //\n  // Move this to updatedCallback() before removing.\n  static updated (elem, previousProps) {\n    // The 'previousProps' will be undefined if it is the initial render.\n    if (!previousProps) {\n      return true;\n    }\n\n    // The 'previousProps' will always contain all of the keys.\n    //\n    // Use classic loop because:\n    // 'for ... in' skips symbols and 'for ... of' is not working yet with IE!?\n    // for (let nameOrSymbol of getPropNamesAndSymbols(previousProps)) {\n    const namesAndSymbols = getPropNamesAndSymbols(previousProps);\n    for (let i = 0; i < namesAndSymbols.length; i++) {\n      const nameOrSymbol = namesAndSymbols[i];\n\n      // With Object.is NaN is equal to NaN\n      if (!objectIs(previousProps[nameOrSymbol], elem[nameOrSymbol])) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n}\n","export default function uniqueId (prefix) {\n  // http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript/2117523#2117523\n  const rand = 'xxxxxxxx'.replace(/[xy]/g, (c) => {\n    const r = Math.random() * 16 | 0;\n    // eslint-disable-next-line no-mixed-operators\n    const v = c === 'x' ? r : (r & 0x3 | 0x8);\n    return v.toString(16);\n  });\n  return `${prefix || 'x'}-${rand}`;\n}\n","import { name as $name } from '../util/symbols';\nimport Component from './component';\nimport uniqueId from '../util/unique-id';\nimport root from 'window-or-global';\n\nexport default function (...args) {\n  const { customElements } = root;\n  let [ name, Ctor ] = args;\n\n  if (!customElements) {\n    throw new Error('Skate requires native custom element support or a polyfill.');\n  }\n\n  // Support passing an anonymous definition.\n  if (args.length === 1) {\n    // We are checking string for now, but once we remove the ability to pass\n    // an object literal, we can change this to check \"function\" and invert the\n    // blocks of logic.\n    if (typeof name === 'string') {\n      throw new Error('When passing only one argument to define(), it must be a custom element constructor.');\n    } else {\n      Ctor = name;\n      name = uniqueId();\n    }\n  }\n\n  // Ensure there's no conflicts.\n  if (customElements.get(name)) {\n    name = uniqueId(name);\n  }\n\n  // DEPRECATED\n  //\n  // Object literals.\n  if (typeof Ctor === 'object') {\n    Ctor = Component.extend(Ctor);\n  }\n\n  // This allows us to check this before instantiating the custom element to\n  // find its name from the constructor in the vdom module, thus improving\n  // performance but still falling back to a robust method.\n  Ctor[$name] = name;\n\n  // Sipmle define. Not supporting customised built-ins yet.\n  customElements.define(name, Ctor);\n\n  // The spec doesn't return but this allows for a simpler, more concise API.\n  return Ctor;\n}\n","import root from 'window-or-global';\n\nconst Event = ((TheEvent) => {\n  if (TheEvent) {\n    try {\n      new TheEvent('emit-init'); // eslint-disable-line no-new\n    } catch (e) {\n      return undefined;\n    }\n  }\n  return TheEvent;\n})(root.Event);\n\nfunction createCustomEvent (name, opts = {}) {\n  const { detail } = opts;\n  delete opts.detail;\n\n  let e;\n  if (Event) {\n    e = new Event(name, opts);\n    Object.defineProperty(e, 'detail', { value: detail });\n  } else {\n    e = document.createEvent('CustomEvent');\n    Object.defineProperty(e, 'composed', { value: opts.composed });\n    e.initCustomEvent(name, opts.bubbles, opts.cancelable, detail);\n  }\n  return e;\n}\n\nexport default function (elem, name, opts = {}) {\n  if (opts.bubbles === undefined) {\n    opts.bubbles = true;\n  }\n  if (opts.cancelable === undefined) {\n    opts.cancelable = true;\n  }\n  if (opts.composed === undefined) {\n    opts.composed = true;\n  }\n  return elem.dispatchEvent(createCustomEvent(name, opts));\n}\n","import * as prop from './api/prop';\nimport * as symbols from './api/symbols';\nimport * as vdom from './api/vdom';\nimport Component from './api/component';\nimport define from './api/define';\nimport emit from './api/emit';\nimport link from './api/link';\nimport props from './api/props';\nimport ready from './api/ready';\n\nconst h = vdom.builder();\n\nexport {\n  Component,\n  define,\n  emit,\n  h,\n  link,\n  prop,\n  props,\n  ready,\n  symbols,\n  vdom\n};\n","/*! Kefir.js v3.7.0\n *  https://github.com/rpominov/kefir\n */\n\n(function (global, factory) {\n\ttypeof exports === 'object' && typeof module !== 'undefined' ? factory(exports) :\n\ttypeof define === 'function' && define.amd ? define(['exports'], factory) :\n\t(factory((global.Kefir = global.Kefir || {})));\n}(this, function (exports) { 'use strict';\n\n\tfunction createObj(proto) {\n\t  var F = function () {};\n\t  F.prototype = proto;\n\t  return new F();\n\t}\n\n\tfunction extend(target /*, mixin1, mixin2...*/) {\n\t  var length = arguments.length,\n\t      i = void 0,\n\t      prop = void 0;\n\t  for (i = 1; i < length; i++) {\n\t    for (prop in arguments[i]) {\n\t      target[prop] = arguments[i][prop];\n\t    }\n\t  }\n\t  return target;\n\t}\n\n\tfunction inherit(Child, Parent /*, mixin1, mixin2...*/) {\n\t  var length = arguments.length,\n\t      i = void 0;\n\t  Child.prototype = createObj(Parent.prototype);\n\t  Child.prototype.constructor = Child;\n\t  for (i = 2; i < length; i++) {\n\t    extend(Child.prototype, arguments[i]);\n\t  }\n\t  return Child;\n\t}\n\n\tvar NOTHING = ['<nothing>'];\n\tvar END = 'end';\n\tvar VALUE = 'value';\n\tvar ERROR = 'error';\n\tvar ANY = 'any';\n\n\tfunction concat(a, b) {\n\t  var result = void 0,\n\t      length = void 0,\n\t      i = void 0,\n\t      j = void 0;\n\t  if (a.length === 0) {\n\t    return b;\n\t  }\n\t  if (b.length === 0) {\n\t    return a;\n\t  }\n\t  j = 0;\n\t  result = new Array(a.length + b.length);\n\t  length = a.length;\n\t  for (i = 0; i < length; i++, j++) {\n\t    result[j] = a[i];\n\t  }\n\t  length = b.length;\n\t  for (i = 0; i < length; i++, j++) {\n\t    result[j] = b[i];\n\t  }\n\t  return result;\n\t}\n\n\tfunction find(arr, value) {\n\t  var length = arr.length,\n\t      i = void 0;\n\t  for (i = 0; i < length; i++) {\n\t    if (arr[i] === value) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\tfunction findByPred(arr, pred) {\n\t  var length = arr.length,\n\t      i = void 0;\n\t  for (i = 0; i < length; i++) {\n\t    if (pred(arr[i])) {\n\t      return i;\n\t    }\n\t  }\n\t  return -1;\n\t}\n\n\tfunction cloneArray(input) {\n\t  var length = input.length,\n\t      result = new Array(length),\n\t      i = void 0;\n\t  for (i = 0; i < length; i++) {\n\t    result[i] = input[i];\n\t  }\n\t  return result;\n\t}\n\n\tfunction remove(input, index) {\n\t  var length = input.length,\n\t      result = void 0,\n\t      i = void 0,\n\t      j = void 0;\n\t  if (index >= 0 && index < length) {\n\t    if (length === 1) {\n\t      return [];\n\t    } else {\n\t      result = new Array(length - 1);\n\t      for (i = 0, j = 0; i < length; i++) {\n\t        if (i !== index) {\n\t          result[j] = input[i];\n\t          j++;\n\t        }\n\t      }\n\t      return result;\n\t    }\n\t  } else {\n\t    return input;\n\t  }\n\t}\n\n\tfunction map(input, fn) {\n\t  var length = input.length,\n\t      result = new Array(length),\n\t      i = void 0;\n\t  for (i = 0; i < length; i++) {\n\t    result[i] = fn(input[i]);\n\t  }\n\t  return result;\n\t}\n\n\tfunction forEach(arr, fn) {\n\t  var length = arr.length,\n\t      i = void 0;\n\t  for (i = 0; i < length; i++) {\n\t    fn(arr[i]);\n\t  }\n\t}\n\n\tfunction fillArray(arr, value) {\n\t  var length = arr.length,\n\t      i = void 0;\n\t  for (i = 0; i < length; i++) {\n\t    arr[i] = value;\n\t  }\n\t}\n\n\tfunction contains(arr, value) {\n\t  return find(arr, value) !== -1;\n\t}\n\n\tfunction slide(cur, next, max) {\n\t  var length = Math.min(max, cur.length + 1),\n\t      offset = cur.length - length + 1,\n\t      result = new Array(length),\n\t      i = void 0;\n\t  for (i = offset; i < length; i++) {\n\t    result[i - offset] = cur[i];\n\t  }\n\t  result[length - 1] = next;\n\t  return result;\n\t}\n\n\tfunction callSubscriber(type, fn, event) {\n\t  if (type === ANY) {\n\t    fn(event);\n\t  } else if (type === event.type) {\n\t    if (type === VALUE || type === ERROR) {\n\t      fn(event.value);\n\t    } else {\n\t      fn();\n\t    }\n\t  }\n\t}\n\n\tfunction Dispatcher() {\n\t  this._items = [];\n\t  this._spies = [];\n\t  this._inLoop = 0;\n\t  this._removedItems = null;\n\t}\n\n\textend(Dispatcher.prototype, {\n\t  add: function (type, fn) {\n\t    this._items = concat(this._items, [{ type: type, fn: fn }]);\n\t    return this._items.length;\n\t  },\n\t  remove: function (type, fn) {\n\t    var index = findByPred(this._items, function (x) {\n\t      return x.type === type && x.fn === fn;\n\t    });\n\n\t    // if we're currently in a notification loop,\n\t    // remember this subscriber was removed\n\t    if (this._inLoop !== 0 && index !== -1) {\n\t      if (this._removedItems === null) {\n\t        this._removedItems = [];\n\t      }\n\t      this._removedItems.push(this._items[index]);\n\t    }\n\n\t    this._items = remove(this._items, index);\n\t    return this._items.length;\n\t  },\n\t  addSpy: function (fn) {\n\t    this._spies = concat(this._spies, [fn]);\n\t    return this._spies.length;\n\t  },\n\n\n\t  // Because spies are only ever a function that perform logging as\n\t  // their only side effect, we don't need the same complicated\n\t  // removal logic like in remove()\n\t  removeSpy: function (fn) {\n\t    this._spies = remove(this._spies, this._spies.indexOf(fn));\n\t    return this._spies.length;\n\t  },\n\t  dispatch: function (event) {\n\t    this._inLoop++;\n\t    for (var i = 0, spies = this._spies; this._spies !== null && i < spies.length; i++) {\n\t      spies[i](event);\n\t    }\n\n\t    for (var _i = 0, items = this._items; _i < items.length; _i++) {\n\n\t      // cleanup was called\n\t      if (this._items === null) {\n\t        break;\n\t      }\n\n\t      // this subscriber was removed\n\t      if (this._removedItems !== null && contains(this._removedItems, items[_i])) {\n\t        continue;\n\t      }\n\n\t      callSubscriber(items[_i].type, items[_i].fn, event);\n\t    }\n\t    this._inLoop--;\n\t    if (this._inLoop === 0) {\n\t      this._removedItems = null;\n\t    }\n\t  },\n\t  cleanup: function () {\n\t    this._items = null;\n\t    this._spies = null;\n\t  }\n\t});\n\n\tfunction Observable() {\n\t  this._dispatcher = new Dispatcher();\n\t  this._active = false;\n\t  this._alive = true;\n\t  this._activating = false;\n\t  this._logHandlers = null;\n\t  this._spyHandlers = null;\n\t}\n\n\textend(Observable.prototype, {\n\n\t  _name: 'observable',\n\n\t  _onActivation: function () {},\n\t  _onDeactivation: function () {},\n\t  _setActive: function (active) {\n\t    if (this._active !== active) {\n\t      this._active = active;\n\t      if (active) {\n\t        this._activating = true;\n\t        this._onActivation();\n\t        this._activating = false;\n\t      } else {\n\t        this._onDeactivation();\n\t      }\n\t    }\n\t  },\n\t  _clear: function () {\n\t    this._setActive(false);\n\t    this._dispatcher.cleanup();\n\t    this._dispatcher = null;\n\t    this._logHandlers = null;\n\t  },\n\t  _emit: function (type, x) {\n\t    switch (type) {\n\t      case VALUE:\n\t        return this._emitValue(x);\n\t      case ERROR:\n\t        return this._emitError(x);\n\t      case END:\n\t        return this._emitEnd();\n\t    }\n\t  },\n\t  _emitValue: function (value) {\n\t    if (this._alive) {\n\t      this._dispatcher.dispatch({ type: VALUE, value: value });\n\t    }\n\t  },\n\t  _emitError: function (value) {\n\t    if (this._alive) {\n\t      this._dispatcher.dispatch({ type: ERROR, value: value });\n\t    }\n\t  },\n\t  _emitEnd: function () {\n\t    if (this._alive) {\n\t      this._alive = false;\n\t      this._dispatcher.dispatch({ type: END });\n\t      this._clear();\n\t    }\n\t  },\n\t  _on: function (type, fn) {\n\t    if (this._alive) {\n\t      this._dispatcher.add(type, fn);\n\t      this._setActive(true);\n\t    } else {\n\t      callSubscriber(type, fn, { type: END });\n\t    }\n\t    return this;\n\t  },\n\t  _off: function (type, fn) {\n\t    if (this._alive) {\n\t      var count = this._dispatcher.remove(type, fn);\n\t      if (count === 0) {\n\t        this._setActive(false);\n\t      }\n\t    }\n\t    return this;\n\t  },\n\t  onValue: function (fn) {\n\t    return this._on(VALUE, fn);\n\t  },\n\t  onError: function (fn) {\n\t    return this._on(ERROR, fn);\n\t  },\n\t  onEnd: function (fn) {\n\t    return this._on(END, fn);\n\t  },\n\t  onAny: function (fn) {\n\t    return this._on(ANY, fn);\n\t  },\n\t  offValue: function (fn) {\n\t    return this._off(VALUE, fn);\n\t  },\n\t  offError: function (fn) {\n\t    return this._off(ERROR, fn);\n\t  },\n\t  offEnd: function (fn) {\n\t    return this._off(END, fn);\n\t  },\n\t  offAny: function (fn) {\n\t    return this._off(ANY, fn);\n\t  },\n\t  observe: function (observerOrOnValue, onError, onEnd) {\n\t    var _this = this;\n\t    var closed = false;\n\n\t    var observer = !observerOrOnValue || typeof observerOrOnValue === 'function' ? { value: observerOrOnValue, error: onError, end: onEnd } : observerOrOnValue;\n\n\t    var handler = function (event) {\n\t      if (event.type === END) {\n\t        closed = true;\n\t      }\n\t      if (event.type === VALUE && observer.value) {\n\t        observer.value(event.value);\n\t      } else if (event.type === ERROR && observer.error) {\n\t        observer.error(event.value);\n\t      } else if (event.type === END && observer.end) {\n\t        observer.end(event.value);\n\t      }\n\t    };\n\n\t    this.onAny(handler);\n\n\t    return {\n\t      unsubscribe: function () {\n\t        if (!closed) {\n\t          _this.offAny(handler);\n\t          closed = true;\n\t        }\n\t      },\n\n\t      get closed() {\n\t        return closed;\n\t      }\n\t    };\n\t  },\n\n\n\t  // A and B must be subclasses of Stream and Property (order doesn't matter)\n\t  _ofSameType: function (A, B) {\n\t    return A.prototype.getType() === this.getType() ? A : B;\n\t  },\n\t  setName: function (sourceObs /* optional */, selfName) {\n\t    this._name = selfName ? sourceObs._name + '.' + selfName : sourceObs;\n\t    return this;\n\t  },\n\t  log: function () {\n\t    var name = arguments.length <= 0 || arguments[0] === undefined ? this.toString() : arguments[0];\n\n\n\t    var isCurrent = void 0;\n\t    var handler = function (event) {\n\t      var type = '<' + event.type + (isCurrent ? ':current' : '') + '>';\n\t      if (event.type === END) {\n\t        console.log(name, type);\n\t      } else {\n\t        console.log(name, type, event.value);\n\t      }\n\t    };\n\n\t    if (this._alive) {\n\t      if (!this._logHandlers) {\n\t        this._logHandlers = [];\n\t      }\n\t      this._logHandlers.push({ name: name, handler: handler });\n\t    }\n\n\t    isCurrent = true;\n\t    this.onAny(handler);\n\t    isCurrent = false;\n\n\t    return this;\n\t  },\n\t  offLog: function () {\n\t    var name = arguments.length <= 0 || arguments[0] === undefined ? this.toString() : arguments[0];\n\n\n\t    if (this._logHandlers) {\n\t      var handlerIndex = findByPred(this._logHandlers, function (obj) {\n\t        return obj.name === name;\n\t      });\n\t      if (handlerIndex !== -1) {\n\t        this.offAny(this._logHandlers[handlerIndex].handler);\n\t        this._logHandlers.splice(handlerIndex, 1);\n\t      }\n\t    }\n\n\t    return this;\n\t  },\n\t  spy: function () {\n\t    var name = arguments.length <= 0 || arguments[0] === undefined ? this.toString() : arguments[0];\n\n\t    var handler = function (event) {\n\t      var type = '<' + event.type + '>';\n\t      if (event.type === END) {\n\t        console.log(name, type);\n\t      } else {\n\t        console.log(name, type, event.value);\n\t      }\n\t    };\n\t    if (this._alive) {\n\t      if (!this._spyHandlers) {\n\t        this._spyHandlers = [];\n\t      }\n\t      this._spyHandlers.push({ name: name, handler: handler });\n\t      this._dispatcher.addSpy(handler);\n\t    }\n\t    return this;\n\t  },\n\t  offSpy: function () {\n\t    var name = arguments.length <= 0 || arguments[0] === undefined ? this.toString() : arguments[0];\n\n\t    if (this._spyHandlers) {\n\t      var handlerIndex = findByPred(this._spyHandlers, function (obj) {\n\t        return obj.name === name;\n\t      });\n\t      if (handlerIndex !== -1) {\n\t        this._dispatcher.removeSpy(this._spyHandlers[handlerIndex].handler);\n\t        this._spyHandlers.splice(handlerIndex, 1);\n\t      }\n\t    }\n\t    return this;\n\t  }\n\t});\n\n\t// extend() can't handle `toString` in IE8\n\tObservable.prototype.toString = function () {\n\t  return '[' + this._name + ']';\n\t};\n\n\tfunction Stream() {\n\t  Observable.call(this);\n\t}\n\n\tinherit(Stream, Observable, {\n\n\t  _name: 'stream',\n\n\t  getType: function () {\n\t    return 'stream';\n\t  }\n\t});\n\n\tfunction Property() {\n\t  Observable.call(this);\n\t  this._currentEvent = null;\n\t}\n\n\tinherit(Property, Observable, {\n\n\t  _name: 'property',\n\n\t  _emitValue: function (value) {\n\t    if (this._alive) {\n\t      this._currentEvent = { type: VALUE, value: value };\n\t      if (!this._activating) {\n\t        this._dispatcher.dispatch({ type: VALUE, value: value });\n\t      }\n\t    }\n\t  },\n\t  _emitError: function (value) {\n\t    if (this._alive) {\n\t      this._currentEvent = { type: ERROR, value: value };\n\t      if (!this._activating) {\n\t        this._dispatcher.dispatch({ type: ERROR, value: value });\n\t      }\n\t    }\n\t  },\n\t  _emitEnd: function () {\n\t    if (this._alive) {\n\t      this._alive = false;\n\t      if (!this._activating) {\n\t        this._dispatcher.dispatch({ type: END });\n\t      }\n\t      this._clear();\n\t    }\n\t  },\n\t  _on: function (type, fn) {\n\t    if (this._alive) {\n\t      this._dispatcher.add(type, fn);\n\t      this._setActive(true);\n\t    }\n\t    if (this._currentEvent !== null) {\n\t      callSubscriber(type, fn, this._currentEvent);\n\t    }\n\t    if (!this._alive) {\n\t      callSubscriber(type, fn, { type: END });\n\t    }\n\t    return this;\n\t  },\n\t  getType: function () {\n\t    return 'property';\n\t  }\n\t});\n\n\tvar neverS = new Stream();\n\tneverS._emitEnd();\n\tneverS._name = 'never';\n\n\tfunction never() {\n\t  return neverS;\n\t}\n\n\tfunction timeBased(mixin) {\n\n\t  function AnonymousStream(wait, options) {\n\t    var _this = this;\n\n\t    Stream.call(this);\n\t    this._wait = wait;\n\t    this._intervalId = null;\n\t    this._$onTick = function () {\n\t      return _this._onTick();\n\t    };\n\t    this._init(options);\n\t  }\n\n\t  inherit(AnonymousStream, Stream, {\n\t    _init: function () {},\n\t    _free: function () {},\n\t    _onTick: function () {},\n\t    _onActivation: function () {\n\t      this._intervalId = setInterval(this._$onTick, this._wait);\n\t    },\n\t    _onDeactivation: function () {\n\t      if (this._intervalId !== null) {\n\t        clearInterval(this._intervalId);\n\t        this._intervalId = null;\n\t      }\n\t    },\n\t    _clear: function () {\n\t      Stream.prototype._clear.call(this);\n\t      this._$onTick = null;\n\t      this._free();\n\t    }\n\t  }, mixin);\n\n\t  return AnonymousStream;\n\t}\n\n\tvar S = timeBased({\n\n\t  _name: 'later',\n\n\t  _init: function (_ref) {\n\t    var x = _ref.x;\n\n\t    this._x = x;\n\t  },\n\t  _free: function () {\n\t    this._x = null;\n\t  },\n\t  _onTick: function () {\n\t    this._emitValue(this._x);\n\t    this._emitEnd();\n\t  }\n\t});\n\n\tfunction later(wait, x) {\n\t  return new S(wait, { x: x });\n\t}\n\n\tvar S$1 = timeBased({\n\n\t  _name: 'interval',\n\n\t  _init: function (_ref) {\n\t    var x = _ref.x;\n\n\t    this._x = x;\n\t  },\n\t  _free: function () {\n\t    this._x = null;\n\t  },\n\t  _onTick: function () {\n\t    this._emitValue(this._x);\n\t  }\n\t});\n\n\tfunction interval(wait, x) {\n\t  return new S$1(wait, { x: x });\n\t}\n\n\tvar S$2 = timeBased({\n\n\t  _name: 'sequentially',\n\n\t  _init: function (_ref) {\n\t    var xs = _ref.xs;\n\n\t    this._xs = cloneArray(xs);\n\t  },\n\t  _free: function () {\n\t    this._xs = null;\n\t  },\n\t  _onTick: function () {\n\t    if (this._xs.length === 1) {\n\t      this._emitValue(this._xs[0]);\n\t      this._emitEnd();\n\t    } else {\n\t      this._emitValue(this._xs.shift());\n\t    }\n\t  }\n\t});\n\n\tfunction sequentially(wait, xs) {\n\t  return xs.length === 0 ? never() : new S$2(wait, { xs: xs });\n\t}\n\n\tvar S$3 = timeBased({\n\n\t  _name: 'fromPoll',\n\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _onTick: function () {\n\t    var fn = this._fn;\n\t    this._emitValue(fn());\n\t  }\n\t});\n\n\tfunction fromPoll(wait, fn) {\n\t  return new S$3(wait, { fn: fn });\n\t}\n\n\tfunction emitter(obs) {\n\n\t  function value(x) {\n\t    obs._emitValue(x);\n\t    return obs._active;\n\t  }\n\n\t  function error(x) {\n\t    obs._emitError(x);\n\t    return obs._active;\n\t  }\n\n\t  function end() {\n\t    obs._emitEnd();\n\t    return obs._active;\n\t  }\n\n\t  function event(e) {\n\t    obs._emit(e.type, e.value);\n\t    return obs._active;\n\t  }\n\n\t  return {\n\t    value: value,\n\t    error: error,\n\t    end: end,\n\t    event: event,\n\n\t    // legacy\n\t    emit: value,\n\t    emitEvent: event\n\t  };\n\t}\n\n\tvar S$4 = timeBased({\n\n\t  _name: 'withInterval',\n\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t    this._emitter = emitter(this);\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t    this._emitter = null;\n\t  },\n\t  _onTick: function () {\n\t    var fn = this._fn;\n\t    fn(this._emitter);\n\t  }\n\t});\n\n\tfunction withInterval(wait, fn) {\n\t  return new S$4(wait, { fn: fn });\n\t}\n\n\tfunction S$5(fn) {\n\t  Stream.call(this);\n\t  this._fn = fn;\n\t  this._unsubscribe = null;\n\t}\n\n\tinherit(S$5, Stream, {\n\n\t  _name: 'stream',\n\n\t  _onActivation: function () {\n\t    var fn = this._fn;\n\t    var unsubscribe = fn(emitter(this));\n\t    this._unsubscribe = typeof unsubscribe === 'function' ? unsubscribe : null;\n\n\t    // fix https://github.com/rpominov/kefir/issues/35\n\t    if (!this._active) {\n\t      this._callUnsubscribe();\n\t    }\n\t  },\n\t  _callUnsubscribe: function () {\n\t    if (this._unsubscribe !== null) {\n\t      this._unsubscribe();\n\t      this._unsubscribe = null;\n\t    }\n\t  },\n\t  _onDeactivation: function () {\n\t    this._callUnsubscribe();\n\t  },\n\t  _clear: function () {\n\t    Stream.prototype._clear.call(this);\n\t    this._fn = null;\n\t  }\n\t});\n\n\tfunction stream(fn) {\n\t  return new S$5(fn);\n\t}\n\n\tfunction fromCallback(callbackConsumer) {\n\n\t  var called = false;\n\n\t  return stream(function (emitter) {\n\n\t    if (!called) {\n\t      callbackConsumer(function (x) {\n\t        emitter.emit(x);\n\t        emitter.end();\n\t      });\n\t      called = true;\n\t    }\n\t  }).setName('fromCallback');\n\t}\n\n\tfunction fromNodeCallback(callbackConsumer) {\n\n\t  var called = false;\n\n\t  return stream(function (emitter) {\n\n\t    if (!called) {\n\t      callbackConsumer(function (error, x) {\n\t        if (error) {\n\t          emitter.error(error);\n\t        } else {\n\t          emitter.emit(x);\n\t        }\n\t        emitter.end();\n\t      });\n\t      called = true;\n\t    }\n\t  }).setName('fromNodeCallback');\n\t}\n\n\tfunction spread(fn, length) {\n\t  switch (length) {\n\t    case 0:\n\t      return function () {\n\t        return fn();\n\t      };\n\t    case 1:\n\t      return function (a) {\n\t        return fn(a[0]);\n\t      };\n\t    case 2:\n\t      return function (a) {\n\t        return fn(a[0], a[1]);\n\t      };\n\t    case 3:\n\t      return function (a) {\n\t        return fn(a[0], a[1], a[2]);\n\t      };\n\t    case 4:\n\t      return function (a) {\n\t        return fn(a[0], a[1], a[2], a[3]);\n\t      };\n\t    default:\n\t      return function (a) {\n\t        return fn.apply(null, a);\n\t      };\n\t  }\n\t}\n\n\tfunction apply(fn, c, a) {\n\t  var aLength = a ? a.length : 0;\n\t  if (c == null) {\n\t    switch (aLength) {\n\t      case 0:\n\t        return fn();\n\t      case 1:\n\t        return fn(a[0]);\n\t      case 2:\n\t        return fn(a[0], a[1]);\n\t      case 3:\n\t        return fn(a[0], a[1], a[2]);\n\t      case 4:\n\t        return fn(a[0], a[1], a[2], a[3]);\n\t      default:\n\t        return fn.apply(null, a);\n\t    }\n\t  } else {\n\t    switch (aLength) {\n\t      case 0:\n\t        return fn.call(c);\n\t      default:\n\t        return fn.apply(c, a);\n\t    }\n\t  }\n\t}\n\n\tfunction fromSubUnsub(sub, unsub, transformer /* Function | falsey */) {\n\t  return stream(function (emitter) {\n\n\t    var handler = transformer ? function () {\n\t      emitter.emit(apply(transformer, this, arguments));\n\t    } : function (x) {\n\t      emitter.emit(x);\n\t    };\n\n\t    sub(handler);\n\t    return function () {\n\t      return unsub(handler);\n\t    };\n\t  }).setName('fromSubUnsub');\n\t}\n\n\tvar pairs = [['addEventListener', 'removeEventListener'], ['addListener', 'removeListener'], ['on', 'off']];\n\n\tfunction fromEvents(target, eventName, transformer) {\n\t  var sub = void 0,\n\t      unsub = void 0;\n\n\t  for (var i = 0; i < pairs.length; i++) {\n\t    if (typeof target[pairs[i][0]] === 'function' && typeof target[pairs[i][1]] === 'function') {\n\t      sub = pairs[i][0];\n\t      unsub = pairs[i][1];\n\t      break;\n\t    }\n\t  }\n\n\t  if (sub === undefined) {\n\t    throw new Error('target don\\'t support any of ' + 'addEventListener/removeEventListener, addListener/removeListener, on/off method pair');\n\t  }\n\n\t  return fromSubUnsub(function (handler) {\n\t    return target[sub](eventName, handler);\n\t  }, function (handler) {\n\t    return target[unsub](eventName, handler);\n\t  }, transformer).setName('fromEvents');\n\t}\n\n\t// HACK:\n\t//   We don't call parent Class constructor, but instead putting all necessary\n\t//   properties into prototype to simulate ended Property\n\t//   (see Propperty and Observable classes).\n\n\tfunction P(value) {\n\t  this._currentEvent = { type: 'value', value: value, current: true };\n\t}\n\n\tinherit(P, Property, {\n\t  _name: 'constant',\n\t  _active: false,\n\t  _activating: false,\n\t  _alive: false,\n\t  _dispatcher: null,\n\t  _logHandlers: null\n\t});\n\n\tfunction constant(x) {\n\t  return new P(x);\n\t}\n\n\t// HACK:\n\t//   We don't call parent Class constructor, but instead putting all necessary\n\t//   properties into prototype to simulate ended Property\n\t//   (see Propperty and Observable classes).\n\n\tfunction P$1(value) {\n\t  this._currentEvent = { type: 'error', value: value, current: true };\n\t}\n\n\tinherit(P$1, Property, {\n\t  _name: 'constantError',\n\t  _active: false,\n\t  _activating: false,\n\t  _alive: false,\n\t  _dispatcher: null,\n\t  _logHandlers: null\n\t});\n\n\tfunction constantError(x) {\n\t  return new P$1(x);\n\t}\n\n\tfunction createConstructor(BaseClass, name) {\n\t  return function AnonymousObservable(source, options) {\n\t    var _this = this;\n\n\t    BaseClass.call(this);\n\t    this._source = source;\n\t    this._name = source._name + '.' + name;\n\t    this._init(options);\n\t    this._$handleAny = function (event) {\n\t      return _this._handleAny(event);\n\t    };\n\t  };\n\t}\n\n\tfunction createClassMethods(BaseClass) {\n\t  return {\n\t    _init: function () {},\n\t    _free: function () {},\n\t    _handleValue: function (x) {\n\t      this._emitValue(x);\n\t    },\n\t    _handleError: function (x) {\n\t      this._emitError(x);\n\t    },\n\t    _handleEnd: function () {\n\t      this._emitEnd();\n\t    },\n\t    _handleAny: function (event) {\n\t      switch (event.type) {\n\t        case VALUE:\n\t          return this._handleValue(event.value);\n\t        case ERROR:\n\t          return this._handleError(event.value);\n\t        case END:\n\t          return this._handleEnd();\n\t      }\n\t    },\n\t    _onActivation: function () {\n\t      this._source.onAny(this._$handleAny);\n\t    },\n\t    _onDeactivation: function () {\n\t      this._source.offAny(this._$handleAny);\n\t    },\n\t    _clear: function () {\n\t      BaseClass.prototype._clear.call(this);\n\t      this._source = null;\n\t      this._$handleAny = null;\n\t      this._free();\n\t    }\n\t  };\n\t}\n\n\tfunction createStream(name, mixin) {\n\t  var S = createConstructor(Stream, name);\n\t  inherit(S, Stream, createClassMethods(Stream), mixin);\n\t  return S;\n\t}\n\n\tfunction createProperty(name, mixin) {\n\t  var P = createConstructor(Property, name);\n\t  inherit(P, Property, createClassMethods(Property), mixin);\n\t  return P;\n\t}\n\n\tvar P$2 = createProperty('toProperty', {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._getInitialCurrent = fn;\n\t  },\n\t  _onActivation: function () {\n\t    if (this._getInitialCurrent !== null) {\n\t      var getInitial = this._getInitialCurrent;\n\t      this._emitValue(getInitial());\n\t    }\n\t    this._source.onAny(this._$handleAny); // copied from patterns/one-source\n\t  }\n\t});\n\n\tfunction toProperty(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\n\t  if (fn !== null && typeof fn !== 'function') {\n\t    throw new Error('You should call toProperty() with a function or no arguments.');\n\t  }\n\t  return new P$2(obs, { fn: fn });\n\t}\n\n\tvar S$6 = createStream('changes', {\n\t  _handleValue: function (x) {\n\t    if (!this._activating) {\n\t      this._emitValue(x);\n\t    }\n\t  },\n\t  _handleError: function (x) {\n\t    if (!this._activating) {\n\t      this._emitError(x);\n\t    }\n\t  }\n\t});\n\n\tfunction changes(obs) {\n\t  return new S$6(obs);\n\t}\n\n\tfunction fromPromise(promise) {\n\n\t  var called = false;\n\n\t  var result = stream(function (emitter) {\n\t    if (!called) {\n\t      var onValue = function (x) {\n\t        emitter.emit(x);\n\t        emitter.end();\n\t      };\n\t      var onError = function (x) {\n\t        emitter.error(x);\n\t        emitter.end();\n\t      };\n\t      var _promise = promise.then(onValue, onError);\n\n\t      // prevent libraries like 'Q' or 'when' from swallowing exceptions\n\t      if (_promise && typeof _promise.done === 'function') {\n\t        _promise.done();\n\t      }\n\n\t      called = true;\n\t    }\n\t  });\n\n\t  return toProperty(result, null).setName('fromPromise');\n\t}\n\n\tfunction getGlodalPromise() {\n\t  if (typeof Promise === 'function') {\n\t    return Promise;\n\t  } else {\n\t    throw new Error('There isn\\'t default Promise, use shim or parameter');\n\t  }\n\t}\n\n\tfunction toPromise (obs) {\n\t  var Promise = arguments.length <= 1 || arguments[1] === undefined ? getGlodalPromise() : arguments[1];\n\n\t  var last = null;\n\t  return new Promise(function (resolve, reject) {\n\t    obs.onAny(function (event) {\n\t      if (event.type === END && last !== null) {\n\t        (last.type === VALUE ? resolve : reject)(last.value);\n\t        last = null;\n\t      } else {\n\t        last = event;\n\t      }\n\t    });\n\t  });\n\t}\n\n\tvar commonjsGlobal = typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {}\n\n\tfunction createCommonjsModule(fn, module) {\n\t\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n\t}\n\n\tvar ponyfill = createCommonjsModule(function (module, exports) {\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\texports['default'] = symbolObservablePonyfill;\n\tfunction symbolObservablePonyfill(root) {\n\t\tvar result;\n\t\tvar _Symbol = root.Symbol;\n\n\t\tif (typeof _Symbol === 'function') {\n\t\t\tif (_Symbol.observable) {\n\t\t\t\tresult = _Symbol.observable;\n\t\t\t} else {\n\t\t\t\tresult = _Symbol('observable');\n\t\t\t\t_Symbol.observable = result;\n\t\t\t}\n\t\t} else {\n\t\t\tresult = '@@observable';\n\t\t}\n\n\t\treturn result;\n\t};\n\t});\n\n\tvar require$$0$1 = (ponyfill && typeof ponyfill === 'object' && 'default' in ponyfill ? ponyfill['default'] : ponyfill);\n\n\tvar index$1 = createCommonjsModule(function (module, exports) {\n\t'use strict';\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t\tvalue: true\n\t});\n\n\tvar _ponyfill = require$$0$1;\n\n\tvar _ponyfill2 = _interopRequireDefault(_ponyfill);\n\n\tfunction _interopRequireDefault(obj) {\n\t\treturn obj && obj.__esModule ? obj : { 'default': obj };\n\t}\n\n\tvar root = undefined; /* global window */\n\n\tif (typeof commonjsGlobal !== 'undefined') {\n\t\troot = commonjsGlobal;\n\t} else if (typeof window !== 'undefined') {\n\t\troot = window;\n\t}\n\n\tvar result = (0, _ponyfill2['default'])(root);\n\texports['default'] = result;\n\t});\n\n\tvar require$$0 = (index$1 && typeof index$1 === 'object' && 'default' in index$1 ? index$1['default'] : index$1);\n\n\tvar index = createCommonjsModule(function (module) {\n\tmodule.exports = require$$0;\n\t});\n\n\tvar $$observable = (index && typeof index === 'object' && 'default' in index ? index['default'] : index);\n\n\tfunction fromESObservable(_observable) {\n\t  var observable = _observable[$$observable] ? _observable[$$observable]() : _observable;\n\t  return stream(function (emitter) {\n\t    var unsub = observable.subscribe({\n\t      error: function (error) {\n\t        emitter.error(error);\n\t        emitter.end();\n\t      },\n\t      next: function (value) {\n\t        emitter.emit(value);\n\t      },\n\t      complete: function () {\n\t        emitter.end();\n\t      }\n\t    });\n\n\t    if (unsub.unsubscribe) {\n\t      return function () {\n\t        unsub.unsubscribe();\n\t      };\n\t    } else {\n\t      return unsub;\n\t    }\n\t  }).setName('fromESObservable');\n\t}\n\n\tfunction ESObservable(observable) {\n\t  this._observable = observable.takeErrors(1);\n\t}\n\n\textend(ESObservable.prototype, {\n\t  subscribe: function (observerOrOnNext, onError, onComplete) {\n\t    var _this = this;\n\n\t    var observer = typeof observerOrOnNext === 'function' ? { next: observerOrOnNext, error: onError, complete: onComplete } : observerOrOnNext;\n\n\t    var fn = function (event) {\n\t      if (event.type === END) {\n\t        closed = true;\n\t      }\n\n\t      if (event.type === VALUE && observer.next) {\n\t        observer.next(event.value);\n\t      } else if (event.type === ERROR && observer.error) {\n\t        observer.error(event.value);\n\t      } else if (event.type === END && observer.complete) {\n\t        observer.complete(event.value);\n\t      }\n\t    };\n\n\t    this._observable.onAny(fn);\n\t    var closed = false;\n\n\t    var subscription = {\n\t      unsubscribe: function () {\n\t        closed = true;\n\t        _this._observable.offAny(fn);\n\t      },\n\t      get closed() {\n\t        return closed;\n\t      }\n\t    };\n\t    return subscription;\n\t  }\n\t});\n\n\t// Need to assign directly b/c Symbols aren't enumerable.\n\tESObservable.prototype[$$observable] = function () {\n\t  return this;\n\t};\n\n\tfunction toESObservable() {\n\t  return new ESObservable(this);\n\t}\n\n\tfunction collect(source, keys, values) {\n\t  for (var prop in source) {\n\t    if (source.hasOwnProperty(prop)) {\n\t      keys.push(prop);\n\t      values.push(source[prop]);\n\t    }\n\t  }\n\t}\n\n\tfunction defaultErrorsCombinator(errors) {\n\t  var latestError = void 0;\n\t  for (var i = 0; i < errors.length; i++) {\n\t    if (errors[i] !== undefined) {\n\t      if (latestError === undefined || latestError.index < errors[i].index) {\n\t        latestError = errors[i];\n\t      }\n\t    }\n\t  }\n\t  return latestError.error;\n\t}\n\n\tfunction Combine(active, passive, combinator) {\n\t  var _this = this;\n\n\t  Stream.call(this);\n\t  this._activeCount = active.length;\n\t  this._sources = concat(active, passive);\n\t  this._combinator = combinator;\n\t  this._aliveCount = 0;\n\t  this._latestValues = new Array(this._sources.length);\n\t  this._latestErrors = new Array(this._sources.length);\n\t  fillArray(this._latestValues, NOTHING);\n\t  this._emitAfterActivation = false;\n\t  this._endAfterActivation = false;\n\t  this._latestErrorIndex = 0;\n\n\t  this._$handlers = [];\n\n\t  var _loop = function (i) {\n\t    _this._$handlers.push(function (event) {\n\t      return _this._handleAny(i, event);\n\t    });\n\t  };\n\n\t  for (var i = 0; i < this._sources.length; i++) {\n\t    _loop(i);\n\t  }\n\t}\n\n\tinherit(Combine, Stream, {\n\n\t  _name: 'combine',\n\n\t  _onActivation: function () {\n\t    this._aliveCount = this._activeCount;\n\n\t    // we need to suscribe to _passive_ sources before _active_\n\t    // (see https://github.com/rpominov/kefir/issues/98)\n\t    for (var i = this._activeCount; i < this._sources.length; i++) {\n\t      this._sources[i].onAny(this._$handlers[i]);\n\t    }\n\t    for (var _i = 0; _i < this._activeCount; _i++) {\n\t      this._sources[_i].onAny(this._$handlers[_i]);\n\t    }\n\n\t    if (this._emitAfterActivation) {\n\t      this._emitAfterActivation = false;\n\t      this._emitIfFull();\n\t    }\n\t    if (this._endAfterActivation) {\n\t      this._emitEnd();\n\t    }\n\t  },\n\t  _onDeactivation: function () {\n\t    var length = this._sources.length,\n\t        i = void 0;\n\t    for (i = 0; i < length; i++) {\n\t      this._sources[i].offAny(this._$handlers[i]);\n\t    }\n\t  },\n\t  _emitIfFull: function () {\n\t    var hasAllValues = true;\n\t    var hasErrors = false;\n\t    var length = this._latestValues.length;\n\t    var valuesCopy = new Array(length);\n\t    var errorsCopy = new Array(length);\n\n\t    for (var i = 0; i < length; i++) {\n\t      valuesCopy[i] = this._latestValues[i];\n\t      errorsCopy[i] = this._latestErrors[i];\n\n\t      if (valuesCopy[i] === NOTHING) {\n\t        hasAllValues = false;\n\t      }\n\n\t      if (errorsCopy[i] !== undefined) {\n\t        hasErrors = true;\n\t      }\n\t    }\n\n\t    if (hasAllValues) {\n\t      var combinator = this._combinator;\n\t      this._emitValue(combinator(valuesCopy));\n\t    }\n\t    if (hasErrors) {\n\t      this._emitError(defaultErrorsCombinator(errorsCopy));\n\t    }\n\t  },\n\t  _handleAny: function (i, event) {\n\n\t    if (event.type === VALUE || event.type === ERROR) {\n\n\t      if (event.type === VALUE) {\n\t        this._latestValues[i] = event.value;\n\t        this._latestErrors[i] = undefined;\n\t      }\n\t      if (event.type === ERROR) {\n\t        this._latestValues[i] = NOTHING;\n\t        this._latestErrors[i] = {\n\t          index: this._latestErrorIndex++,\n\t          error: event.value\n\t        };\n\t      }\n\n\t      if (i < this._activeCount) {\n\t        if (this._activating) {\n\t          this._emitAfterActivation = true;\n\t        } else {\n\t          this._emitIfFull();\n\t        }\n\t      }\n\t    } else {\n\t      // END\n\n\t      if (i < this._activeCount) {\n\t        this._aliveCount--;\n\t        if (this._aliveCount === 0) {\n\t          if (this._activating) {\n\t            this._endAfterActivation = true;\n\t          } else {\n\t            this._emitEnd();\n\t          }\n\t        }\n\t      }\n\t    }\n\t  },\n\t  _clear: function () {\n\t    Stream.prototype._clear.call(this);\n\t    this._sources = null;\n\t    this._latestValues = null;\n\t    this._latestErrors = null;\n\t    this._combinator = null;\n\t    this._$handlers = null;\n\t  }\n\t});\n\n\tfunction combineAsArray(active) {\n\t  var passive = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\t  var combinator = arguments[2];\n\n\t  if (!Array.isArray(passive)) {\n\t    throw new Error('Combine can only combine active and passive collections of the same type.');\n\t  }\n\n\t  combinator = combinator ? spread(combinator, active.length + passive.length) : function (x) {\n\t    return x;\n\t  };\n\t  return active.length === 0 ? never() : new Combine(active, passive, combinator);\n\t}\n\n\tfunction combineAsObject(active) {\n\t  var passive = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n\t  var combinator = arguments[2];\n\n\t  if (typeof passive !== 'object' || Array.isArray(passive)) {\n\t    throw new Error('Combine can only combine active and passive collections of the same type.');\n\t  }\n\n\t  var keys = [],\n\t      activeObservables = [],\n\t      passiveObservables = [];\n\n\t  collect(active, keys, activeObservables);\n\t  collect(passive, keys, passiveObservables);\n\n\t  var objectify = function (values) {\n\t    var event = {};\n\t    for (var i = values.length - 1; 0 <= i; i--) {\n\t      event[keys[i]] = values[i];\n\t    }\n\t    return combinator ? combinator(event) : event;\n\t  };\n\n\t  return activeObservables.length === 0 ? never() : new Combine(activeObservables, passiveObservables, objectify);\n\t}\n\n\tfunction combine(active, passive, combinator) {\n\t  if (typeof passive === 'function') {\n\t    combinator = passive;\n\t    passive = undefined;\n\t  }\n\n\t  return Array.isArray(active) ? combineAsArray(active, passive, combinator) : combineAsObject(active, passive, combinator);\n\t}\n\n\tvar Observable$1 = {\n\t  empty: function () {\n\t    return never();\n\t  },\n\n\n\t  // Monoid based on merge() seems more useful than one based on concat().\n\t  concat: function (a, b) {\n\t    return a.merge(b);\n\t  },\n\t  of: function (x) {\n\t    return constant(x);\n\t  },\n\t  map: function (fn, obs) {\n\t    return obs.map(fn);\n\t  },\n\t  bimap: function (fnErr, fnVal, obs) {\n\t    return obs.mapErrors(fnErr).map(fnVal);\n\t  },\n\n\n\t  // This ap strictly speaking incompatible with chain. If we derive ap from chain we get\n\t  // different (not very useful) behavior. But spec requires that if method can be derived\n\t  // it must have the same behavior as hand-written method. We intentionally violate the spec\n\t  // in hope that it won't cause many troubles in practice. And in return we have more useful type.\n\t  ap: function (obsFn, obsVal) {\n\t    return combine([obsFn, obsVal], function (fn, val) {\n\t      return fn(val);\n\t    });\n\t  },\n\t  chain: function (fn, obs) {\n\t    return obs.flatMap(fn);\n\t  }\n\t};\n\n\n\n\tvar staticLand = Object.freeze({\n\t  Observable: Observable$1\n\t});\n\n\tvar mixin = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    var fn = this._fn;\n\t    this._emitValue(fn(x));\n\t  }\n\t};\n\n\tvar S$7 = createStream('map', mixin);\n\tvar P$3 = createProperty('map', mixin);\n\n\tvar id = function (x) {\n\t  return x;\n\t};\n\n\tfunction map$1(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? id : arguments[1];\n\n\t  return new (obs._ofSameType(S$7, P$3))(obs, { fn: fn });\n\t}\n\n\tvar mixin$1 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    var fn = this._fn;\n\t    if (fn(x)) {\n\t      this._emitValue(x);\n\t    }\n\t  }\n\t};\n\n\tvar S$8 = createStream('filter', mixin$1);\n\tvar P$4 = createProperty('filter', mixin$1);\n\n\tvar id$1 = function (x) {\n\t  return x;\n\t};\n\n\tfunction filter(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? id$1 : arguments[1];\n\n\t  return new (obs._ofSameType(S$8, P$4))(obs, { fn: fn });\n\t}\n\n\tvar mixin$2 = {\n\t  _init: function (_ref) {\n\t    var n = _ref.n;\n\n\t    this._n = n;\n\t    if (n <= 0) {\n\t      this._emitEnd();\n\t    }\n\t  },\n\t  _handleValue: function (x) {\n\t    this._n--;\n\t    this._emitValue(x);\n\t    if (this._n === 0) {\n\t      this._emitEnd();\n\t    }\n\t  }\n\t};\n\n\tvar S$9 = createStream('take', mixin$2);\n\tvar P$5 = createProperty('take', mixin$2);\n\n\tfunction take(obs, n) {\n\t  return new (obs._ofSameType(S$9, P$5))(obs, { n: n });\n\t}\n\n\tvar mixin$3 = {\n\t  _init: function (_ref) {\n\t    var n = _ref.n;\n\n\t    this._n = n;\n\t    if (n <= 0) {\n\t      this._emitEnd();\n\t    }\n\t  },\n\t  _handleError: function (x) {\n\t    this._n--;\n\t    this._emitError(x);\n\t    if (this._n === 0) {\n\t      this._emitEnd();\n\t    }\n\t  }\n\t};\n\n\tvar S$10 = createStream('takeErrors', mixin$3);\n\tvar P$6 = createProperty('takeErrors', mixin$3);\n\n\tfunction takeErrors(obs, n) {\n\t  return new (obs._ofSameType(S$10, P$6))(obs, { n: n });\n\t}\n\n\tvar mixin$4 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    var fn = this._fn;\n\t    if (fn(x)) {\n\t      this._emitValue(x);\n\t    } else {\n\t      this._emitEnd();\n\t    }\n\t  }\n\t};\n\n\tvar S$11 = createStream('takeWhile', mixin$4);\n\tvar P$7 = createProperty('takeWhile', mixin$4);\n\n\tvar id$2 = function (x) {\n\t  return x;\n\t};\n\n\tfunction takeWhile(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? id$2 : arguments[1];\n\n\t  return new (obs._ofSameType(S$11, P$7))(obs, { fn: fn });\n\t}\n\n\tvar mixin$5 = {\n\t  _init: function () {\n\t    this._lastValue = NOTHING;\n\t  },\n\t  _free: function () {\n\t    this._lastValue = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    this._lastValue = x;\n\t  },\n\t  _handleEnd: function () {\n\t    if (this._lastValue !== NOTHING) {\n\t      this._emitValue(this._lastValue);\n\t    }\n\t    this._emitEnd();\n\t  }\n\t};\n\n\tvar S$12 = createStream('last', mixin$5);\n\tvar P$8 = createProperty('last', mixin$5);\n\n\tfunction last(obs) {\n\t  return new (obs._ofSameType(S$12, P$8))(obs);\n\t}\n\n\tvar mixin$6 = {\n\t  _init: function (_ref) {\n\t    var n = _ref.n;\n\n\t    this._n = Math.max(0, n);\n\t  },\n\t  _handleValue: function (x) {\n\t    if (this._n === 0) {\n\t      this._emitValue(x);\n\t    } else {\n\t      this._n--;\n\t    }\n\t  }\n\t};\n\n\tvar S$13 = createStream('skip', mixin$6);\n\tvar P$9 = createProperty('skip', mixin$6);\n\n\tfunction skip(obs, n) {\n\t  return new (obs._ofSameType(S$13, P$9))(obs, { n: n });\n\t}\n\n\tvar mixin$7 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    var fn = this._fn;\n\t    if (this._fn !== null && !fn(x)) {\n\t      this._fn = null;\n\t    }\n\t    if (this._fn === null) {\n\t      this._emitValue(x);\n\t    }\n\t  }\n\t};\n\n\tvar S$14 = createStream('skipWhile', mixin$7);\n\tvar P$10 = createProperty('skipWhile', mixin$7);\n\n\tvar id$3 = function (x) {\n\t  return x;\n\t};\n\n\tfunction skipWhile(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? id$3 : arguments[1];\n\n\t  return new (obs._ofSameType(S$14, P$10))(obs, { fn: fn });\n\t}\n\n\tvar mixin$8 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t    this._prev = NOTHING;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t    this._prev = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    var fn = this._fn;\n\t    if (this._prev === NOTHING || !fn(this._prev, x)) {\n\t      this._prev = x;\n\t      this._emitValue(x);\n\t    }\n\t  }\n\t};\n\n\tvar S$15 = createStream('skipDuplicates', mixin$8);\n\tvar P$11 = createProperty('skipDuplicates', mixin$8);\n\n\tvar eq = function (a, b) {\n\t  return a === b;\n\t};\n\n\tfunction skipDuplicates(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? eq : arguments[1];\n\n\t  return new (obs._ofSameType(S$15, P$11))(obs, { fn: fn });\n\t}\n\n\tvar mixin$9 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\t    var seed = _ref.seed;\n\n\t    this._fn = fn;\n\t    this._prev = seed;\n\t  },\n\t  _free: function () {\n\t    this._prev = null;\n\t    this._fn = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    if (this._prev !== NOTHING) {\n\t      var fn = this._fn;\n\t      this._emitValue(fn(this._prev, x));\n\t    }\n\t    this._prev = x;\n\t  }\n\t};\n\n\tvar S$16 = createStream('diff', mixin$9);\n\tvar P$12 = createProperty('diff', mixin$9);\n\n\tfunction defaultFn(a, b) {\n\t  return [a, b];\n\t}\n\n\tfunction diff(obs, fn) {\n\t  var seed = arguments.length <= 2 || arguments[2] === undefined ? NOTHING : arguments[2];\n\n\t  return new (obs._ofSameType(S$16, P$12))(obs, { fn: fn || defaultFn, seed: seed });\n\t}\n\n\tvar P$13 = createProperty('scan', {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\t    var seed = _ref.seed;\n\n\t    this._fn = fn;\n\t    this._seed = seed;\n\t    if (seed !== NOTHING) {\n\t      this._emitValue(seed);\n\t    }\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t    this._seed = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    var fn = this._fn;\n\t    if (this._currentEvent === null || this._currentEvent.type === ERROR) {\n\t      this._emitValue(this._seed === NOTHING ? x : fn(this._seed, x));\n\t    } else {\n\t      this._emitValue(fn(this._currentEvent.value, x));\n\t    }\n\t  }\n\t});\n\n\tfunction scan(obs, fn) {\n\t  var seed = arguments.length <= 2 || arguments[2] === undefined ? NOTHING : arguments[2];\n\n\t  return new P$13(obs, { fn: fn, seed: seed });\n\t}\n\n\tvar mixin$10 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    var fn = this._fn;\n\t    var xs = fn(x);\n\t    for (var i = 0; i < xs.length; i++) {\n\t      this._emitValue(xs[i]);\n\t    }\n\t  }\n\t};\n\n\tvar S$17 = createStream('flatten', mixin$10);\n\n\tvar id$4 = function (x) {\n\t  return x;\n\t};\n\n\tfunction flatten(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? id$4 : arguments[1];\n\n\t  return new S$17(obs, { fn: fn });\n\t}\n\n\tvar END_MARKER = {};\n\n\tvar mixin$11 = {\n\t  _init: function (_ref) {\n\t    var _this = this;\n\n\t    var wait = _ref.wait;\n\n\t    this._wait = Math.max(0, wait);\n\t    this._buff = [];\n\t    this._$shiftBuff = function () {\n\t      var value = _this._buff.shift();\n\t      if (value === END_MARKER) {\n\t        _this._emitEnd();\n\t      } else {\n\t        _this._emitValue(value);\n\t      }\n\t    };\n\t  },\n\t  _free: function () {\n\t    this._buff = null;\n\t    this._$shiftBuff = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    if (this._activating) {\n\t      this._emitValue(x);\n\t    } else {\n\t      this._buff.push(x);\n\t      setTimeout(this._$shiftBuff, this._wait);\n\t    }\n\t  },\n\t  _handleEnd: function () {\n\t    if (this._activating) {\n\t      this._emitEnd();\n\t    } else {\n\t      this._buff.push(END_MARKER);\n\t      setTimeout(this._$shiftBuff, this._wait);\n\t    }\n\t  }\n\t};\n\n\tvar S$18 = createStream('delay', mixin$11);\n\tvar P$14 = createProperty('delay', mixin$11);\n\n\tfunction delay(obs, wait) {\n\t  return new (obs._ofSameType(S$18, P$14))(obs, { wait: wait });\n\t}\n\n\tvar now = Date.now ? function () {\n\t  return Date.now();\n\t} : function () {\n\t  return new Date().getTime();\n\t};\n\n\tvar mixin$12 = {\n\t  _init: function (_ref) {\n\t    var _this = this;\n\n\t    var wait = _ref.wait;\n\t    var leading = _ref.leading;\n\t    var trailing = _ref.trailing;\n\n\t    this._wait = Math.max(0, wait);\n\t    this._leading = leading;\n\t    this._trailing = trailing;\n\t    this._trailingValue = null;\n\t    this._timeoutId = null;\n\t    this._endLater = false;\n\t    this._lastCallTime = 0;\n\t    this._$trailingCall = function () {\n\t      return _this._trailingCall();\n\t    };\n\t  },\n\t  _free: function () {\n\t    this._trailingValue = null;\n\t    this._$trailingCall = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    if (this._activating) {\n\t      this._emitValue(x);\n\t    } else {\n\t      var curTime = now();\n\t      if (this._lastCallTime === 0 && !this._leading) {\n\t        this._lastCallTime = curTime;\n\t      }\n\t      var remaining = this._wait - (curTime - this._lastCallTime);\n\t      if (remaining <= 0) {\n\t        this._cancelTrailing();\n\t        this._lastCallTime = curTime;\n\t        this._emitValue(x);\n\t      } else if (this._trailing) {\n\t        this._cancelTrailing();\n\t        this._trailingValue = x;\n\t        this._timeoutId = setTimeout(this._$trailingCall, remaining);\n\t      }\n\t    }\n\t  },\n\t  _handleEnd: function () {\n\t    if (this._activating) {\n\t      this._emitEnd();\n\t    } else {\n\t      if (this._timeoutId) {\n\t        this._endLater = true;\n\t      } else {\n\t        this._emitEnd();\n\t      }\n\t    }\n\t  },\n\t  _cancelTrailing: function () {\n\t    if (this._timeoutId !== null) {\n\t      clearTimeout(this._timeoutId);\n\t      this._timeoutId = null;\n\t    }\n\t  },\n\t  _trailingCall: function () {\n\t    this._emitValue(this._trailingValue);\n\t    this._timeoutId = null;\n\t    this._trailingValue = null;\n\t    this._lastCallTime = !this._leading ? 0 : now();\n\t    if (this._endLater) {\n\t      this._emitEnd();\n\t    }\n\t  }\n\t};\n\n\tvar S$19 = createStream('throttle', mixin$12);\n\tvar P$15 = createProperty('throttle', mixin$12);\n\n\tfunction throttle(obs, wait) {\n\t  var _ref2 = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n\t  var _ref2$leading = _ref2.leading;\n\t  var leading = _ref2$leading === undefined ? true : _ref2$leading;\n\t  var _ref2$trailing = _ref2.trailing;\n\t  var trailing = _ref2$trailing === undefined ? true : _ref2$trailing;\n\n\t  return new (obs._ofSameType(S$19, P$15))(obs, { wait: wait, leading: leading, trailing: trailing });\n\t}\n\n\tvar mixin$13 = {\n\t  _init: function (_ref) {\n\t    var _this = this;\n\n\t    var wait = _ref.wait;\n\t    var immediate = _ref.immediate;\n\n\t    this._wait = Math.max(0, wait);\n\t    this._immediate = immediate;\n\t    this._lastAttempt = 0;\n\t    this._timeoutId = null;\n\t    this._laterValue = null;\n\t    this._endLater = false;\n\t    this._$later = function () {\n\t      return _this._later();\n\t    };\n\t  },\n\t  _free: function () {\n\t    this._laterValue = null;\n\t    this._$later = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    if (this._activating) {\n\t      this._emitValue(x);\n\t    } else {\n\t      this._lastAttempt = now();\n\t      if (this._immediate && !this._timeoutId) {\n\t        this._emitValue(x);\n\t      }\n\t      if (!this._timeoutId) {\n\t        this._timeoutId = setTimeout(this._$later, this._wait);\n\t      }\n\t      if (!this._immediate) {\n\t        this._laterValue = x;\n\t      }\n\t    }\n\t  },\n\t  _handleEnd: function () {\n\t    if (this._activating) {\n\t      this._emitEnd();\n\t    } else {\n\t      if (this._timeoutId && !this._immediate) {\n\t        this._endLater = true;\n\t      } else {\n\t        this._emitEnd();\n\t      }\n\t    }\n\t  },\n\t  _later: function () {\n\t    var last = now() - this._lastAttempt;\n\t    if (last < this._wait && last >= 0) {\n\t      this._timeoutId = setTimeout(this._$later, this._wait - last);\n\t    } else {\n\t      this._timeoutId = null;\n\t      if (!this._immediate) {\n\t        this._emitValue(this._laterValue);\n\t        this._laterValue = null;\n\t      }\n\t      if (this._endLater) {\n\t        this._emitEnd();\n\t      }\n\t    }\n\t  }\n\t};\n\n\tvar S$20 = createStream('debounce', mixin$13);\n\tvar P$16 = createProperty('debounce', mixin$13);\n\n\tfunction debounce(obs, wait) {\n\t  var _ref2 = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n\t  var _ref2$immediate = _ref2.immediate;\n\t  var immediate = _ref2$immediate === undefined ? false : _ref2$immediate;\n\n\t  return new (obs._ofSameType(S$20, P$16))(obs, { wait: wait, immediate: immediate });\n\t}\n\n\tvar mixin$14 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleError: function (x) {\n\t    var fn = this._fn;\n\t    this._emitError(fn(x));\n\t  }\n\t};\n\n\tvar S$21 = createStream('mapErrors', mixin$14);\n\tvar P$17 = createProperty('mapErrors', mixin$14);\n\n\tvar id$5 = function (x) {\n\t  return x;\n\t};\n\n\tfunction mapErrors(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? id$5 : arguments[1];\n\n\t  return new (obs._ofSameType(S$21, P$17))(obs, { fn: fn });\n\t}\n\n\tvar mixin$15 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleError: function (x) {\n\t    var fn = this._fn;\n\t    if (fn(x)) {\n\t      this._emitError(x);\n\t    }\n\t  }\n\t};\n\n\tvar S$22 = createStream('filterErrors', mixin$15);\n\tvar P$18 = createProperty('filterErrors', mixin$15);\n\n\tvar id$6 = function (x) {\n\t  return x;\n\t};\n\n\tfunction filterErrors(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? id$6 : arguments[1];\n\n\t  return new (obs._ofSameType(S$22, P$18))(obs, { fn: fn });\n\t}\n\n\tvar mixin$16 = {\n\t  _handleValue: function () {}\n\t};\n\n\tvar S$23 = createStream('ignoreValues', mixin$16);\n\tvar P$19 = createProperty('ignoreValues', mixin$16);\n\n\tfunction ignoreValues(obs) {\n\t  return new (obs._ofSameType(S$23, P$19))(obs);\n\t}\n\n\tvar mixin$17 = {\n\t  _handleError: function () {}\n\t};\n\n\tvar S$24 = createStream('ignoreErrors', mixin$17);\n\tvar P$20 = createProperty('ignoreErrors', mixin$17);\n\n\tfunction ignoreErrors(obs) {\n\t  return new (obs._ofSameType(S$24, P$20))(obs);\n\t}\n\n\tvar mixin$18 = {\n\t  _handleEnd: function () {}\n\t};\n\n\tvar S$25 = createStream('ignoreEnd', mixin$18);\n\tvar P$21 = createProperty('ignoreEnd', mixin$18);\n\n\tfunction ignoreEnd(obs) {\n\t  return new (obs._ofSameType(S$25, P$21))(obs);\n\t}\n\n\tvar mixin$19 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleEnd: function () {\n\t    var fn = this._fn;\n\t    this._emitValue(fn());\n\t    this._emitEnd();\n\t  }\n\t};\n\n\tvar S$26 = createStream('beforeEnd', mixin$19);\n\tvar P$22 = createProperty('beforeEnd', mixin$19);\n\n\tfunction beforeEnd(obs, fn) {\n\t  return new (obs._ofSameType(S$26, P$22))(obs, { fn: fn });\n\t}\n\n\tvar mixin$20 = {\n\t  _init: function (_ref) {\n\t    var min = _ref.min;\n\t    var max = _ref.max;\n\n\t    this._max = max;\n\t    this._min = min;\n\t    this._buff = [];\n\t  },\n\t  _free: function () {\n\t    this._buff = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    this._buff = slide(this._buff, x, this._max);\n\t    if (this._buff.length >= this._min) {\n\t      this._emitValue(this._buff);\n\t    }\n\t  }\n\t};\n\n\tvar S$27 = createStream('slidingWindow', mixin$20);\n\tvar P$23 = createProperty('slidingWindow', mixin$20);\n\n\tfunction slidingWindow(obs, max) {\n\t  var min = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\n\t  return new (obs._ofSameType(S$27, P$23))(obs, { min: min, max: max });\n\t}\n\n\tvar mixin$21 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\t    var flushOnEnd = _ref.flushOnEnd;\n\n\t    this._fn = fn;\n\t    this._flushOnEnd = flushOnEnd;\n\t    this._buff = [];\n\t  },\n\t  _free: function () {\n\t    this._buff = null;\n\t  },\n\t  _flush: function () {\n\t    if (this._buff !== null && this._buff.length !== 0) {\n\t      this._emitValue(this._buff);\n\t      this._buff = [];\n\t    }\n\t  },\n\t  _handleValue: function (x) {\n\t    this._buff.push(x);\n\t    var fn = this._fn;\n\t    if (!fn(x)) {\n\t      this._flush();\n\t    }\n\t  },\n\t  _handleEnd: function () {\n\t    if (this._flushOnEnd) {\n\t      this._flush();\n\t    }\n\t    this._emitEnd();\n\t  }\n\t};\n\n\tvar S$28 = createStream('bufferWhile', mixin$21);\n\tvar P$24 = createProperty('bufferWhile', mixin$21);\n\n\tvar id$7 = function (x) {\n\t  return x;\n\t};\n\n\tfunction bufferWhile(obs, fn) {\n\t  var _ref2 = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n\t  var _ref2$flushOnEnd = _ref2.flushOnEnd;\n\t  var flushOnEnd = _ref2$flushOnEnd === undefined ? true : _ref2$flushOnEnd;\n\n\t  return new (obs._ofSameType(S$28, P$24))(obs, { fn: fn || id$7, flushOnEnd: flushOnEnd });\n\t}\n\n\tvar mixin$22 = {\n\t  _init: function (_ref) {\n\t    var count = _ref.count;\n\t    var flushOnEnd = _ref.flushOnEnd;\n\n\t    this._count = count;\n\t    this._flushOnEnd = flushOnEnd;\n\t    this._buff = [];\n\t  },\n\t  _free: function () {\n\t    this._buff = null;\n\t  },\n\t  _flush: function () {\n\t    if (this._buff !== null && this._buff.length !== 0) {\n\t      this._emitValue(this._buff);\n\t      this._buff = [];\n\t    }\n\t  },\n\t  _handleValue: function (x) {\n\t    this._buff.push(x);\n\t    if (this._buff.length >= this._count) {\n\t      this._flush();\n\t    }\n\t  },\n\t  _handleEnd: function () {\n\t    if (this._flushOnEnd) {\n\t      this._flush();\n\t    }\n\t    this._emitEnd();\n\t  }\n\t};\n\n\tvar S$29 = createStream('bufferWithCount', mixin$22);\n\tvar P$25 = createProperty('bufferWithCount', mixin$22);\n\n\tfunction bufferWhile$1(obs, count) {\n\t  var _ref2 = arguments.length <= 2 || arguments[2] === undefined ? {} : arguments[2];\n\n\t  var _ref2$flushOnEnd = _ref2.flushOnEnd;\n\t  var flushOnEnd = _ref2$flushOnEnd === undefined ? true : _ref2$flushOnEnd;\n\n\t  return new (obs._ofSameType(S$29, P$25))(obs, { count: count, flushOnEnd: flushOnEnd });\n\t}\n\n\tvar mixin$23 = {\n\t  _init: function (_ref) {\n\t    var _this = this;\n\n\t    var wait = _ref.wait;\n\t    var count = _ref.count;\n\t    var flushOnEnd = _ref.flushOnEnd;\n\n\t    this._wait = wait;\n\t    this._count = count;\n\t    this._flushOnEnd = flushOnEnd;\n\t    this._intervalId = null;\n\t    this._$onTick = function () {\n\t      return _this._flush();\n\t    };\n\t    this._buff = [];\n\t  },\n\t  _free: function () {\n\t    this._$onTick = null;\n\t    this._buff = null;\n\t  },\n\t  _flush: function () {\n\t    if (this._buff !== null) {\n\t      this._emitValue(this._buff);\n\t      this._buff = [];\n\t    }\n\t  },\n\t  _handleValue: function (x) {\n\t    this._buff.push(x);\n\t    if (this._buff.length >= this._count) {\n\t      clearInterval(this._intervalId);\n\t      this._flush();\n\t      this._intervalId = setInterval(this._$onTick, this._wait);\n\t    }\n\t  },\n\t  _handleEnd: function () {\n\t    if (this._flushOnEnd && this._buff.length !== 0) {\n\t      this._flush();\n\t    }\n\t    this._emitEnd();\n\t  },\n\t  _onActivation: function () {\n\t    this._intervalId = setInterval(this._$onTick, this._wait);\n\t    this._source.onAny(this._$handleAny); // copied from patterns/one-source\n\t  },\n\t  _onDeactivation: function () {\n\t    if (this._intervalId !== null) {\n\t      clearInterval(this._intervalId);\n\t      this._intervalId = null;\n\t    }\n\t    this._source.offAny(this._$handleAny); // copied from patterns/one-source\n\t  }\n\t};\n\n\tvar S$30 = createStream('bufferWithTimeOrCount', mixin$23);\n\tvar P$26 = createProperty('bufferWithTimeOrCount', mixin$23);\n\n\tfunction bufferWithTimeOrCount(obs, wait, count) {\n\t  var _ref2 = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\n\t  var _ref2$flushOnEnd = _ref2.flushOnEnd;\n\t  var flushOnEnd = _ref2$flushOnEnd === undefined ? true : _ref2$flushOnEnd;\n\n\t  return new (obs._ofSameType(S$30, P$26))(obs, { wait: wait, count: count, flushOnEnd: flushOnEnd });\n\t}\n\n\tfunction xformForObs(obs) {\n\t  return {\n\t    '@@transducer/step': function (res, input) {\n\t      obs._emitValue(input);\n\t      return null;\n\t    },\n\t    '@@transducer/result': function () {\n\t      obs._emitEnd();\n\t      return null;\n\t    }\n\t  };\n\t}\n\n\tvar mixin$24 = {\n\t  _init: function (_ref) {\n\t    var transducer = _ref.transducer;\n\n\t    this._xform = transducer(xformForObs(this));\n\t  },\n\t  _free: function () {\n\t    this._xform = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    if (this._xform['@@transducer/step'](null, x) !== null) {\n\t      this._xform['@@transducer/result'](null);\n\t    }\n\t  },\n\t  _handleEnd: function () {\n\t    this._xform['@@transducer/result'](null);\n\t  }\n\t};\n\n\tvar S$31 = createStream('transduce', mixin$24);\n\tvar P$27 = createProperty('transduce', mixin$24);\n\n\tfunction transduce(obs, transducer) {\n\t  return new (obs._ofSameType(S$31, P$27))(obs, { transducer: transducer });\n\t}\n\n\tvar mixin$25 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._handler = fn;\n\t    this._emitter = emitter(this);\n\t  },\n\t  _free: function () {\n\t    this._handler = null;\n\t    this._emitter = null;\n\t  },\n\t  _handleAny: function (event) {\n\t    this._handler(this._emitter, event);\n\t  }\n\t};\n\n\tvar S$32 = createStream('withHandler', mixin$25);\n\tvar P$28 = createProperty('withHandler', mixin$25);\n\n\tfunction withHandler(obs, fn) {\n\t  return new (obs._ofSameType(S$32, P$28))(obs, { fn: fn });\n\t}\n\n\tvar isArray = Array.isArray || function (xs) {\n\t  return Object.prototype.toString.call(xs) === '[object Array]';\n\t};\n\n\tfunction Zip(sources, combinator) {\n\t  var _this = this;\n\n\t  Stream.call(this);\n\n\t  this._buffers = map(sources, function (source) {\n\t    return isArray(source) ? cloneArray(source) : [];\n\t  });\n\t  this._sources = map(sources, function (source) {\n\t    return isArray(source) ? never() : source;\n\t  });\n\n\t  this._combinator = combinator ? spread(combinator, this._sources.length) : function (x) {\n\t    return x;\n\t  };\n\t  this._aliveCount = 0;\n\n\t  this._$handlers = [];\n\n\t  var _loop = function (i) {\n\t    _this._$handlers.push(function (event) {\n\t      return _this._handleAny(i, event);\n\t    });\n\t  };\n\n\t  for (var i = 0; i < this._sources.length; i++) {\n\t    _loop(i);\n\t  }\n\t}\n\n\tinherit(Zip, Stream, {\n\n\t  _name: 'zip',\n\n\t  _onActivation: function () {\n\n\t    // if all sources are arrays\n\t    while (this._isFull()) {\n\t      this._emit();\n\t    }\n\n\t    var length = this._sources.length;\n\t    this._aliveCount = length;\n\t    for (var i = 0; i < length && this._active; i++) {\n\t      this._sources[i].onAny(this._$handlers[i]);\n\t    }\n\t  },\n\t  _onDeactivation: function () {\n\t    for (var i = 0; i < this._sources.length; i++) {\n\t      this._sources[i].offAny(this._$handlers[i]);\n\t    }\n\t  },\n\t  _emit: function () {\n\t    var values = new Array(this._buffers.length);\n\t    for (var i = 0; i < this._buffers.length; i++) {\n\t      values[i] = this._buffers[i].shift();\n\t    }\n\t    var combinator = this._combinator;\n\t    this._emitValue(combinator(values));\n\t  },\n\t  _isFull: function () {\n\t    for (var i = 0; i < this._buffers.length; i++) {\n\t      if (this._buffers[i].length === 0) {\n\t        return false;\n\t      }\n\t    }\n\t    return true;\n\t  },\n\t  _handleAny: function (i, event) {\n\t    if (event.type === VALUE) {\n\t      this._buffers[i].push(event.value);\n\t      if (this._isFull()) {\n\t        this._emit();\n\t      }\n\t    }\n\t    if (event.type === ERROR) {\n\t      this._emitError(event.value);\n\t    }\n\t    if (event.type === END) {\n\t      this._aliveCount--;\n\t      if (this._aliveCount === 0) {\n\t        this._emitEnd();\n\t      }\n\t    }\n\t  },\n\t  _clear: function () {\n\t    Stream.prototype._clear.call(this);\n\t    this._sources = null;\n\t    this._buffers = null;\n\t    this._combinator = null;\n\t    this._$handlers = null;\n\t  }\n\t});\n\n\tfunction zip(observables, combinator /* Function | falsey */) {\n\t  return observables.length === 0 ? never() : new Zip(observables, combinator);\n\t}\n\n\tvar id$8 = function (x) {\n\t  return x;\n\t};\n\n\tfunction AbstractPool() {\n\t  var _this = this;\n\n\t  var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n\t  var _ref$queueLim = _ref.queueLim;\n\t  var queueLim = _ref$queueLim === undefined ? 0 : _ref$queueLim;\n\t  var _ref$concurLim = _ref.concurLim;\n\t  var concurLim = _ref$concurLim === undefined ? -1 : _ref$concurLim;\n\t  var _ref$drop = _ref.drop;\n\t  var drop = _ref$drop === undefined ? 'new' : _ref$drop;\n\n\t  Stream.call(this);\n\n\t  this._queueLim = queueLim < 0 ? -1 : queueLim;\n\t  this._concurLim = concurLim < 0 ? -1 : concurLim;\n\t  this._drop = drop;\n\t  this._queue = [];\n\t  this._curSources = [];\n\t  this._$handleSubAny = function (event) {\n\t    return _this._handleSubAny(event);\n\t  };\n\t  this._$endHandlers = [];\n\t  this._currentlyAdding = null;\n\n\t  if (this._concurLim === 0) {\n\t    this._emitEnd();\n\t  }\n\t}\n\n\tinherit(AbstractPool, Stream, {\n\n\t  _name: 'abstractPool',\n\n\t  _add: function (obj, toObs /* Function | falsey */) {\n\t    toObs = toObs || id$8;\n\t    if (this._concurLim === -1 || this._curSources.length < this._concurLim) {\n\t      this._addToCur(toObs(obj));\n\t    } else {\n\t      if (this._queueLim === -1 || this._queue.length < this._queueLim) {\n\t        this._addToQueue(toObs(obj));\n\t      } else if (this._drop === 'old') {\n\t        this._removeOldest();\n\t        this._add(obj, toObs);\n\t      }\n\t    }\n\t  },\n\t  _addAll: function (obss) {\n\t    var _this2 = this;\n\n\t    forEach(obss, function (obs) {\n\t      return _this2._add(obs);\n\t    });\n\t  },\n\t  _remove: function (obs) {\n\t    if (this._removeCur(obs) === -1) {\n\t      this._removeQueue(obs);\n\t    }\n\t  },\n\t  _addToQueue: function (obs) {\n\t    this._queue = concat(this._queue, [obs]);\n\t  },\n\t  _addToCur: function (obs) {\n\t    if (this._active) {\n\n\t      // HACK:\n\t      //\n\t      // We have two optimizations for cases when `obs` is ended. We don't want\n\t      // to add such observable to the list, but only want to emit events\n\t      // from it (if it has some).\n\t      //\n\t      // Instead of this hacks, we could just did following,\n\t      // but it would be 5-8 times slower:\n\t      //\n\t      //     this._curSources = concat(this._curSources, [obs]);\n\t      //     this._subscribe(obs);\n\t      //\n\n\t      // #1\n\t      // This one for cases when `obs` already ended\n\t      // e.g., Kefir.constant() or Kefir.never()\n\t      if (!obs._alive) {\n\t        if (obs._currentEvent) {\n\t          this._emit(obs._currentEvent.type, obs._currentEvent.value);\n\t        }\n\t        return;\n\t      }\n\n\t      // #2\n\t      // This one is for cases when `obs` going to end synchronously on\n\t      // first subscriber e.g., Kefir.stream(em => {em.emit(1); em.end()})\n\t      this._currentlyAdding = obs;\n\t      obs.onAny(this._$handleSubAny);\n\t      this._currentlyAdding = null;\n\t      if (obs._alive) {\n\t        this._curSources = concat(this._curSources, [obs]);\n\t        if (this._active) {\n\t          this._subToEnd(obs);\n\t        }\n\t      }\n\t    } else {\n\t      this._curSources = concat(this._curSources, [obs]);\n\t    }\n\t  },\n\t  _subToEnd: function (obs) {\n\t    var _this3 = this;\n\n\t    var onEnd = function () {\n\t      return _this3._removeCur(obs);\n\t    };\n\t    this._$endHandlers.push({ obs: obs, handler: onEnd });\n\t    obs.onEnd(onEnd);\n\t  },\n\t  _subscribe: function (obs) {\n\t    obs.onAny(this._$handleSubAny);\n\n\t    // it can become inactive in responce of subscribing to `obs.onAny` above\n\t    if (this._active) {\n\t      this._subToEnd(obs);\n\t    }\n\t  },\n\t  _unsubscribe: function (obs) {\n\t    obs.offAny(this._$handleSubAny);\n\n\t    var onEndI = findByPred(this._$endHandlers, function (obj) {\n\t      return obj.obs === obs;\n\t    });\n\t    if (onEndI !== -1) {\n\t      obs.offEnd(this._$endHandlers[onEndI].handler);\n\t      this._$endHandlers.splice(onEndI, 1);\n\t    }\n\t  },\n\t  _handleSubAny: function (event) {\n\t    if (event.type === VALUE) {\n\t      this._emitValue(event.value);\n\t    } else if (event.type === ERROR) {\n\t      this._emitError(event.value);\n\t    }\n\t  },\n\t  _removeQueue: function (obs) {\n\t    var index = find(this._queue, obs);\n\t    this._queue = remove(this._queue, index);\n\t    return index;\n\t  },\n\t  _removeCur: function (obs) {\n\t    if (this._active) {\n\t      this._unsubscribe(obs);\n\t    }\n\t    var index = find(this._curSources, obs);\n\t    this._curSources = remove(this._curSources, index);\n\t    if (index !== -1) {\n\t      if (this._queue.length !== 0) {\n\t        this._pullQueue();\n\t      } else if (this._curSources.length === 0) {\n\t        this._onEmpty();\n\t      }\n\t    }\n\t    return index;\n\t  },\n\t  _removeOldest: function () {\n\t    this._removeCur(this._curSources[0]);\n\t  },\n\t  _pullQueue: function () {\n\t    if (this._queue.length !== 0) {\n\t      this._queue = cloneArray(this._queue);\n\t      this._addToCur(this._queue.shift());\n\t    }\n\t  },\n\t  _onActivation: function () {\n\t    for (var i = 0, sources = this._curSources; i < sources.length && this._active; i++) {\n\t      this._subscribe(sources[i]);\n\t    }\n\t  },\n\t  _onDeactivation: function () {\n\t    for (var i = 0, sources = this._curSources; i < sources.length; i++) {\n\t      this._unsubscribe(sources[i]);\n\t    }\n\t    if (this._currentlyAdding !== null) {\n\t      this._unsubscribe(this._currentlyAdding);\n\t    }\n\t  },\n\t  _isEmpty: function () {\n\t    return this._curSources.length === 0;\n\t  },\n\t  _onEmpty: function () {},\n\t  _clear: function () {\n\t    Stream.prototype._clear.call(this);\n\t    this._queue = null;\n\t    this._curSources = null;\n\t    this._$handleSubAny = null;\n\t    this._$endHandlers = null;\n\t  }\n\t});\n\n\tfunction Merge(sources) {\n\t  AbstractPool.call(this);\n\t  this._addAll(sources);\n\t  this._initialised = true;\n\t}\n\n\tinherit(Merge, AbstractPool, {\n\n\t  _name: 'merge',\n\n\t  _onEmpty: function () {\n\t    if (this._initialised) {\n\t      this._emitEnd();\n\t    }\n\t  }\n\t});\n\n\tfunction merge(observables) {\n\t  return observables.length === 0 ? never() : new Merge(observables);\n\t}\n\n\tfunction S$33(generator) {\n\t  var _this = this;\n\n\t  Stream.call(this);\n\t  this._generator = generator;\n\t  this._source = null;\n\t  this._inLoop = false;\n\t  this._iteration = 0;\n\t  this._$handleAny = function (event) {\n\t    return _this._handleAny(event);\n\t  };\n\t}\n\n\tinherit(S$33, Stream, {\n\n\t  _name: 'repeat',\n\n\t  _handleAny: function (event) {\n\t    if (event.type === END) {\n\t      this._source = null;\n\t      this._getSource();\n\t    } else {\n\t      this._emit(event.type, event.value);\n\t    }\n\t  },\n\t  _getSource: function () {\n\t    if (!this._inLoop) {\n\t      this._inLoop = true;\n\t      var generator = this._generator;\n\t      while (this._source === null && this._alive && this._active) {\n\t        this._source = generator(this._iteration++);\n\t        if (this._source) {\n\t          this._source.onAny(this._$handleAny);\n\t        } else {\n\t          this._emitEnd();\n\t        }\n\t      }\n\t      this._inLoop = false;\n\t    }\n\t  },\n\t  _onActivation: function () {\n\t    if (this._source) {\n\t      this._source.onAny(this._$handleAny);\n\t    } else {\n\t      this._getSource();\n\t    }\n\t  },\n\t  _onDeactivation: function () {\n\t    if (this._source) {\n\t      this._source.offAny(this._$handleAny);\n\t    }\n\t  },\n\t  _clear: function () {\n\t    Stream.prototype._clear.call(this);\n\t    this._generator = null;\n\t    this._source = null;\n\t    this._$handleAny = null;\n\t  }\n\t});\n\n\tfunction repeat (generator) {\n\t  return new S$33(generator);\n\t}\n\n\tfunction concat$1(observables) {\n\t  return repeat(function (index) {\n\t    return observables.length > index ? observables[index] : false;\n\t  }).setName('concat');\n\t}\n\n\tfunction Pool() {\n\t  AbstractPool.call(this);\n\t}\n\n\tinherit(Pool, AbstractPool, {\n\n\t  _name: 'pool',\n\n\t  plug: function (obs) {\n\t    this._add(obs);\n\t    return this;\n\t  },\n\t  unplug: function (obs) {\n\t    this._remove(obs);\n\t    return this;\n\t  }\n\t});\n\n\tfunction FlatMap(source, fn, options) {\n\t  var _this = this;\n\n\t  AbstractPool.call(this, options);\n\t  this._source = source;\n\t  this._fn = fn;\n\t  this._mainEnded = false;\n\t  this._lastCurrent = null;\n\t  this._$handleMain = function (event) {\n\t    return _this._handleMain(event);\n\t  };\n\t}\n\n\tinherit(FlatMap, AbstractPool, {\n\t  _onActivation: function () {\n\t    AbstractPool.prototype._onActivation.call(this);\n\t    if (this._active) {\n\t      this._source.onAny(this._$handleMain);\n\t    }\n\t  },\n\t  _onDeactivation: function () {\n\t    AbstractPool.prototype._onDeactivation.call(this);\n\t    this._source.offAny(this._$handleMain);\n\t    this._hadNoEvSinceDeact = true;\n\t  },\n\t  _handleMain: function (event) {\n\n\t    if (event.type === VALUE) {\n\t      // Is latest value before deactivation survived, and now is 'current' on this activation?\n\t      // We don't want to handle such values, to prevent to constantly add\n\t      // same observale on each activation/deactivation when our main source\n\t      // is a `Kefir.conatant()` for example.\n\t      var sameCurr = this._activating && this._hadNoEvSinceDeact && this._lastCurrent === event.value;\n\t      if (!sameCurr) {\n\t        this._add(event.value, this._fn);\n\t      }\n\t      this._lastCurrent = event.value;\n\t      this._hadNoEvSinceDeact = false;\n\t    }\n\n\t    if (event.type === ERROR) {\n\t      this._emitError(event.value);\n\t    }\n\n\t    if (event.type === END) {\n\t      if (this._isEmpty()) {\n\t        this._emitEnd();\n\t      } else {\n\t        this._mainEnded = true;\n\t      }\n\t    }\n\t  },\n\t  _onEmpty: function () {\n\t    if (this._mainEnded) {\n\t      this._emitEnd();\n\t    }\n\t  },\n\t  _clear: function () {\n\t    AbstractPool.prototype._clear.call(this);\n\t    this._source = null;\n\t    this._lastCurrent = null;\n\t    this._$handleMain = null;\n\t  }\n\t});\n\n\tfunction FlatMapErrors(source, fn) {\n\t  FlatMap.call(this, source, fn);\n\t}\n\n\tinherit(FlatMapErrors, FlatMap, {\n\n\t  // Same as in FlatMap, only VALUE/ERROR flipped\n\t  _handleMain: function (event) {\n\n\t    if (event.type === ERROR) {\n\t      var sameCurr = this._activating && this._hadNoEvSinceDeact && this._lastCurrent === event.value;\n\t      if (!sameCurr) {\n\t        this._add(event.value, this._fn);\n\t      }\n\t      this._lastCurrent = event.value;\n\t      this._hadNoEvSinceDeact = false;\n\t    }\n\n\t    if (event.type === VALUE) {\n\t      this._emitValue(event.value);\n\t    }\n\n\t    if (event.type === END) {\n\t      if (this._isEmpty()) {\n\t        this._emitEnd();\n\t      } else {\n\t        this._mainEnded = true;\n\t      }\n\t    }\n\t  }\n\t});\n\n\tfunction createConstructor$1(BaseClass, name) {\n\t  return function AnonymousObservable(primary, secondary, options) {\n\t    var _this = this;\n\n\t    BaseClass.call(this);\n\t    this._primary = primary;\n\t    this._secondary = secondary;\n\t    this._name = primary._name + '.' + name;\n\t    this._lastSecondary = NOTHING;\n\t    this._$handleSecondaryAny = function (event) {\n\t      return _this._handleSecondaryAny(event);\n\t    };\n\t    this._$handlePrimaryAny = function (event) {\n\t      return _this._handlePrimaryAny(event);\n\t    };\n\t    this._init(options);\n\t  };\n\t}\n\n\tfunction createClassMethods$1(BaseClass) {\n\t  return {\n\t    _init: function () {},\n\t    _free: function () {},\n\t    _handlePrimaryValue: function (x) {\n\t      this._emitValue(x);\n\t    },\n\t    _handlePrimaryError: function (x) {\n\t      this._emitError(x);\n\t    },\n\t    _handlePrimaryEnd: function () {\n\t      this._emitEnd();\n\t    },\n\t    _handleSecondaryValue: function (x) {\n\t      this._lastSecondary = x;\n\t    },\n\t    _handleSecondaryError: function (x) {\n\t      this._emitError(x);\n\t    },\n\t    _handleSecondaryEnd: function () {},\n\t    _handlePrimaryAny: function (event) {\n\t      switch (event.type) {\n\t        case VALUE:\n\t          return this._handlePrimaryValue(event.value);\n\t        case ERROR:\n\t          return this._handlePrimaryError(event.value);\n\t        case END:\n\t          return this._handlePrimaryEnd(event.value);\n\t      }\n\t    },\n\t    _handleSecondaryAny: function (event) {\n\t      switch (event.type) {\n\t        case VALUE:\n\t          return this._handleSecondaryValue(event.value);\n\t        case ERROR:\n\t          return this._handleSecondaryError(event.value);\n\t        case END:\n\t          this._handleSecondaryEnd(event.value);\n\t          this._removeSecondary();\n\t      }\n\t    },\n\t    _removeSecondary: function () {\n\t      if (this._secondary !== null) {\n\t        this._secondary.offAny(this._$handleSecondaryAny);\n\t        this._$handleSecondaryAny = null;\n\t        this._secondary = null;\n\t      }\n\t    },\n\t    _onActivation: function () {\n\t      if (this._secondary !== null) {\n\t        this._secondary.onAny(this._$handleSecondaryAny);\n\t      }\n\t      if (this._active) {\n\t        this._primary.onAny(this._$handlePrimaryAny);\n\t      }\n\t    },\n\t    _onDeactivation: function () {\n\t      if (this._secondary !== null) {\n\t        this._secondary.offAny(this._$handleSecondaryAny);\n\t      }\n\t      this._primary.offAny(this._$handlePrimaryAny);\n\t    },\n\t    _clear: function () {\n\t      BaseClass.prototype._clear.call(this);\n\t      this._primary = null;\n\t      this._secondary = null;\n\t      this._lastSecondary = null;\n\t      this._$handleSecondaryAny = null;\n\t      this._$handlePrimaryAny = null;\n\t      this._free();\n\t    }\n\t  };\n\t}\n\n\tfunction createStream$1(name, mixin) {\n\t  var S = createConstructor$1(Stream, name);\n\t  inherit(S, Stream, createClassMethods$1(Stream), mixin);\n\t  return S;\n\t}\n\n\tfunction createProperty$1(name, mixin) {\n\t  var P = createConstructor$1(Property, name);\n\t  inherit(P, Property, createClassMethods$1(Property), mixin);\n\t  return P;\n\t}\n\n\tvar mixin$26 = {\n\t  _handlePrimaryValue: function (x) {\n\t    if (this._lastSecondary !== NOTHING && this._lastSecondary) {\n\t      this._emitValue(x);\n\t    }\n\t  },\n\t  _handleSecondaryEnd: function () {\n\t    if (this._lastSecondary === NOTHING || !this._lastSecondary) {\n\t      this._emitEnd();\n\t    }\n\t  }\n\t};\n\n\tvar S$34 = createStream$1('filterBy', mixin$26);\n\tvar P$29 = createProperty$1('filterBy', mixin$26);\n\n\tfunction filterBy(primary, secondary) {\n\t  return new (primary._ofSameType(S$34, P$29))(primary, secondary);\n\t}\n\n\tvar id2 = function (_, x) {\n\t  return x;\n\t};\n\n\tfunction sampledBy(passive, active, combinator) {\n\t  var _combinator = combinator ? function (a, b) {\n\t    return combinator(b, a);\n\t  } : id2;\n\t  return combine([active], [passive], _combinator).setName(passive, 'sampledBy');\n\t}\n\n\tvar mixin$27 = {\n\t  _handlePrimaryValue: function (x) {\n\t    if (this._lastSecondary !== NOTHING) {\n\t      this._emitValue(x);\n\t    }\n\t  },\n\t  _handleSecondaryEnd: function () {\n\t    if (this._lastSecondary === NOTHING) {\n\t      this._emitEnd();\n\t    }\n\t  }\n\t};\n\n\tvar S$35 = createStream$1('skipUntilBy', mixin$27);\n\tvar P$30 = createProperty$1('skipUntilBy', mixin$27);\n\n\tfunction skipUntilBy(primary, secondary) {\n\t  return new (primary._ofSameType(S$35, P$30))(primary, secondary);\n\t}\n\n\tvar mixin$28 = {\n\t  _handleSecondaryValue: function () {\n\t    this._emitEnd();\n\t  }\n\t};\n\n\tvar S$36 = createStream$1('takeUntilBy', mixin$28);\n\tvar P$31 = createProperty$1('takeUntilBy', mixin$28);\n\n\tfunction takeUntilBy(primary, secondary) {\n\t  return new (primary._ofSameType(S$36, P$31))(primary, secondary);\n\t}\n\n\tvar mixin$29 = {\n\t  _init: function () {\n\t    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n\t    var _ref$flushOnEnd = _ref.flushOnEnd;\n\t    var flushOnEnd = _ref$flushOnEnd === undefined ? true : _ref$flushOnEnd;\n\n\t    this._buff = [];\n\t    this._flushOnEnd = flushOnEnd;\n\t  },\n\t  _free: function () {\n\t    this._buff = null;\n\t  },\n\t  _flush: function () {\n\t    if (this._buff !== null) {\n\t      this._emitValue(this._buff);\n\t      this._buff = [];\n\t    }\n\t  },\n\t  _handlePrimaryEnd: function () {\n\t    if (this._flushOnEnd) {\n\t      this._flush();\n\t    }\n\t    this._emitEnd();\n\t  },\n\t  _onActivation: function () {\n\t    this._primary.onAny(this._$handlePrimaryAny);\n\t    if (this._alive && this._secondary !== null) {\n\t      this._secondary.onAny(this._$handleSecondaryAny);\n\t    }\n\t  },\n\t  _handlePrimaryValue: function (x) {\n\t    this._buff.push(x);\n\t  },\n\t  _handleSecondaryValue: function () {\n\t    this._flush();\n\t  },\n\t  _handleSecondaryEnd: function () {\n\t    if (!this._flushOnEnd) {\n\t      this._emitEnd();\n\t    }\n\t  }\n\t};\n\n\tvar S$37 = createStream$1('bufferBy', mixin$29);\n\tvar P$32 = createProperty$1('bufferBy', mixin$29);\n\n\tfunction bufferBy(primary, secondary, options /* optional */) {\n\t  return new (primary._ofSameType(S$37, P$32))(primary, secondary, options);\n\t}\n\n\tvar mixin$30 = {\n\t  _init: function () {\n\t    var _ref = arguments.length <= 0 || arguments[0] === undefined ? {} : arguments[0];\n\n\t    var _ref$flushOnEnd = _ref.flushOnEnd;\n\t    var flushOnEnd = _ref$flushOnEnd === undefined ? true : _ref$flushOnEnd;\n\t    var _ref$flushOnChange = _ref.flushOnChange;\n\t    var flushOnChange = _ref$flushOnChange === undefined ? false : _ref$flushOnChange;\n\n\t    this._buff = [];\n\t    this._flushOnEnd = flushOnEnd;\n\t    this._flushOnChange = flushOnChange;\n\t  },\n\t  _free: function () {\n\t    this._buff = null;\n\t  },\n\t  _flush: function () {\n\t    if (this._buff !== null) {\n\t      this._emitValue(this._buff);\n\t      this._buff = [];\n\t    }\n\t  },\n\t  _handlePrimaryEnd: function () {\n\t    if (this._flushOnEnd) {\n\t      this._flush();\n\t    }\n\t    this._emitEnd();\n\t  },\n\t  _handlePrimaryValue: function (x) {\n\t    this._buff.push(x);\n\t    if (this._lastSecondary !== NOTHING && !this._lastSecondary) {\n\t      this._flush();\n\t    }\n\t  },\n\t  _handleSecondaryEnd: function () {\n\t    if (!this._flushOnEnd && (this._lastSecondary === NOTHING || this._lastSecondary)) {\n\t      this._emitEnd();\n\t    }\n\t  },\n\t  _handleSecondaryValue: function (x) {\n\t    if (this._flushOnChange && !x) {\n\t      this._flush();\n\t    }\n\n\t    // from default _handleSecondaryValue\n\t    this._lastSecondary = x;\n\t  }\n\t};\n\n\tvar S$38 = createStream$1('bufferWhileBy', mixin$30);\n\tvar P$33 = createProperty$1('bufferWhileBy', mixin$30);\n\n\tfunction bufferWhileBy(primary, secondary, options /* optional */) {\n\t  return new (primary._ofSameType(S$38, P$33))(primary, secondary, options);\n\t}\n\n\tvar f = function () {\n\t  return false;\n\t};\n\tvar t = function () {\n\t  return true;\n\t};\n\n\tfunction awaiting(a, b) {\n\t  var result = merge([map$1(a, t), map$1(b, f)]);\n\t  result = skipDuplicates(result);\n\t  result = toProperty(result, f);\n\t  return result.setName(a, 'awaiting');\n\t}\n\n\tvar mixin$31 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleValue: function (x) {\n\t    var fn = this._fn;\n\t    var result = fn(x);\n\t    if (result.convert) {\n\t      this._emitError(result.error);\n\t    } else {\n\t      this._emitValue(x);\n\t    }\n\t  }\n\t};\n\n\tvar S$39 = createStream('valuesToErrors', mixin$31);\n\tvar P$34 = createProperty('valuesToErrors', mixin$31);\n\n\tvar defFn = function (x) {\n\t  return { convert: true, error: x };\n\t};\n\n\tfunction valuesToErrors(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? defFn : arguments[1];\n\n\t  return new (obs._ofSameType(S$39, P$34))(obs, { fn: fn });\n\t}\n\n\tvar mixin$32 = {\n\t  _init: function (_ref) {\n\t    var fn = _ref.fn;\n\n\t    this._fn = fn;\n\t  },\n\t  _free: function () {\n\t    this._fn = null;\n\t  },\n\t  _handleError: function (x) {\n\t    var fn = this._fn;\n\t    var result = fn(x);\n\t    if (result.convert) {\n\t      this._emitValue(result.value);\n\t    } else {\n\t      this._emitError(x);\n\t    }\n\t  }\n\t};\n\n\tvar S$40 = createStream('errorsToValues', mixin$32);\n\tvar P$35 = createProperty('errorsToValues', mixin$32);\n\n\tvar defFn$1 = function (x) {\n\t  return { convert: true, value: x };\n\t};\n\n\tfunction errorsToValues(obs) {\n\t  var fn = arguments.length <= 1 || arguments[1] === undefined ? defFn$1 : arguments[1];\n\n\t  return new (obs._ofSameType(S$40, P$35))(obs, { fn: fn });\n\t}\n\n\tvar mixin$33 = {\n\t  _handleError: function (x) {\n\t    this._emitError(x);\n\t    this._emitEnd();\n\t  }\n\t};\n\n\tvar S$41 = createStream('endOnError', mixin$33);\n\tvar P$36 = createProperty('endOnError', mixin$33);\n\n\tfunction endOnError(obs) {\n\t  return new (obs._ofSameType(S$41, P$36))(obs);\n\t}\n\n\tObservable.prototype.toProperty = function (fn) {\n\t  return toProperty(this, fn);\n\t};\n\n\tObservable.prototype.changes = function () {\n\t  return changes(this);\n\t};\n\n\tObservable.prototype.toPromise = function (Promise) {\n\t  return toPromise(this, Promise);\n\t};\n\n\tObservable.prototype.toESObservable = toESObservable;\n\tObservable.prototype[$$observable] = toESObservable;\n\n\tObservable.prototype.map = function (fn) {\n\t  return map$1(this, fn);\n\t};\n\n\tObservable.prototype.filter = function (fn) {\n\t  return filter(this, fn);\n\t};\n\n\tObservable.prototype.take = function (n) {\n\t  return take(this, n);\n\t};\n\n\tObservable.prototype.takeErrors = function (n) {\n\t  return takeErrors(this, n);\n\t};\n\n\tObservable.prototype.takeWhile = function (fn) {\n\t  return takeWhile(this, fn);\n\t};\n\n\tObservable.prototype.last = function () {\n\t  return last(this);\n\t};\n\n\tObservable.prototype.skip = function (n) {\n\t  return skip(this, n);\n\t};\n\n\tObservable.prototype.skipWhile = function (fn) {\n\t  return skipWhile(this, fn);\n\t};\n\n\tObservable.prototype.skipDuplicates = function (fn) {\n\t  return skipDuplicates(this, fn);\n\t};\n\n\tObservable.prototype.diff = function (fn, seed) {\n\t  return diff(this, fn, seed);\n\t};\n\n\tObservable.prototype.scan = function (fn, seed) {\n\t  return scan(this, fn, seed);\n\t};\n\n\tObservable.prototype.flatten = function (fn) {\n\t  return flatten(this, fn);\n\t};\n\n\tObservable.prototype.delay = function (wait) {\n\t  return delay(this, wait);\n\t};\n\n\tObservable.prototype.throttle = function (wait, options) {\n\t  return throttle(this, wait, options);\n\t};\n\n\tObservable.prototype.debounce = function (wait, options) {\n\t  return debounce(this, wait, options);\n\t};\n\n\tObservable.prototype.mapErrors = function (fn) {\n\t  return mapErrors(this, fn);\n\t};\n\n\tObservable.prototype.filterErrors = function (fn) {\n\t  return filterErrors(this, fn);\n\t};\n\n\tObservable.prototype.ignoreValues = function () {\n\t  return ignoreValues(this);\n\t};\n\n\tObservable.prototype.ignoreErrors = function () {\n\t  return ignoreErrors(this);\n\t};\n\n\tObservable.prototype.ignoreEnd = function () {\n\t  return ignoreEnd(this);\n\t};\n\n\tObservable.prototype.beforeEnd = function (fn) {\n\t  return beforeEnd(this, fn);\n\t};\n\n\tObservable.prototype.slidingWindow = function (max, min) {\n\t  return slidingWindow(this, max, min);\n\t};\n\n\tObservable.prototype.bufferWhile = function (fn, options) {\n\t  return bufferWhile(this, fn, options);\n\t};\n\n\tObservable.prototype.bufferWithCount = function (count, options) {\n\t  return bufferWhile$1(this, count, options);\n\t};\n\n\tObservable.prototype.bufferWithTimeOrCount = function (wait, count, options) {\n\t  return bufferWithTimeOrCount(this, wait, count, options);\n\t};\n\n\tObservable.prototype.transduce = function (transducer) {\n\t  return transduce(this, transducer);\n\t};\n\n\tObservable.prototype.withHandler = function (fn) {\n\t  return withHandler(this, fn);\n\t};\n\n\tObservable.prototype.combine = function (other, combinator) {\n\t  return combine([this, other], combinator);\n\t};\n\n\tObservable.prototype.zip = function (other, combinator) {\n\t  return zip([this, other], combinator);\n\t};\n\n\tObservable.prototype.merge = function (other) {\n\t  return merge([this, other]);\n\t};\n\n\tObservable.prototype.concat = function (other) {\n\t  return concat$1([this, other]);\n\t};\n\n\tvar pool = function () {\n\t  return new Pool();\n\t};\n\n\tObservable.prototype.flatMap = function (fn) {\n\t  return new FlatMap(this, fn).setName(this, 'flatMap');\n\t};\n\tObservable.prototype.flatMapLatest = function (fn) {\n\t  return new FlatMap(this, fn, { concurLim: 1, drop: 'old' }).setName(this, 'flatMapLatest');\n\t};\n\tObservable.prototype.flatMapFirst = function (fn) {\n\t  return new FlatMap(this, fn, { concurLim: 1 }).setName(this, 'flatMapFirst');\n\t};\n\tObservable.prototype.flatMapConcat = function (fn) {\n\t  return new FlatMap(this, fn, { queueLim: -1, concurLim: 1 }).setName(this, 'flatMapConcat');\n\t};\n\tObservable.prototype.flatMapConcurLimit = function (fn, limit) {\n\t  return new FlatMap(this, fn, { queueLim: -1, concurLim: limit }).setName(this, 'flatMapConcurLimit');\n\t};\n\n\tObservable.prototype.flatMapErrors = function (fn) {\n\t  return new FlatMapErrors(this, fn).setName(this, 'flatMapErrors');\n\t};\n\n\tObservable.prototype.filterBy = function (other) {\n\t  return filterBy(this, other);\n\t};\n\n\tObservable.prototype.sampledBy = function (other, combinator) {\n\t  return sampledBy(this, other, combinator);\n\t};\n\n\tObservable.prototype.skipUntilBy = function (other) {\n\t  return skipUntilBy(this, other);\n\t};\n\n\tObservable.prototype.takeUntilBy = function (other) {\n\t  return takeUntilBy(this, other);\n\t};\n\n\tObservable.prototype.bufferBy = function (other, options) {\n\t  return bufferBy(this, other, options);\n\t};\n\n\tObservable.prototype.bufferWhileBy = function (other, options) {\n\t  return bufferWhileBy(this, other, options);\n\t};\n\n\t// Deprecated\n\t// -----------------------------------------------------------------------------\n\n\tvar DEPRECATION_WARNINGS = true;\n\tfunction dissableDeprecationWarnings() {\n\t  DEPRECATION_WARNINGS = false;\n\t}\n\n\tfunction warn(msg) {\n\t  if (DEPRECATION_WARNINGS && console && typeof console.warn === 'function') {\n\t    var msg2 = '\\nHere is an Error object for you containing the call stack:';\n\t    console.warn(msg, msg2, new Error());\n\t  }\n\t}\n\n\tObservable.prototype.awaiting = function (other) {\n\t  warn('You are using deprecated .awaiting() method, see https://github.com/rpominov/kefir/issues/145');\n\t  return awaiting(this, other);\n\t};\n\n\tObservable.prototype.valuesToErrors = function (fn) {\n\t  warn('You are using deprecated .valuesToErrors() method, see https://github.com/rpominov/kefir/issues/149');\n\t  return valuesToErrors(this, fn);\n\t};\n\n\tObservable.prototype.errorsToValues = function (fn) {\n\t  warn('You are using deprecated .errorsToValues() method, see https://github.com/rpominov/kefir/issues/149');\n\t  return errorsToValues(this, fn);\n\t};\n\n\tObservable.prototype.endOnError = function () {\n\t  warn('You are using deprecated .endOnError() method, see https://github.com/rpominov/kefir/issues/150');\n\t  return endOnError(this);\n\t};\n\n\t// Exports\n\t// --------------------------------------------------------------------------\n\n\tvar Kefir = { Observable: Observable, Stream: Stream, Property: Property, never: never, later: later, interval: interval, sequentially: sequentially,\n\t  fromPoll: fromPoll, withInterval: withInterval, fromCallback: fromCallback, fromNodeCallback: fromNodeCallback, fromEvents: fromEvents, stream: stream,\n\t  constant: constant, constantError: constantError, fromPromise: fromPromise, fromESObservable: fromESObservable, combine: combine, zip: zip, merge: merge,\n\t  concat: concat$1, Pool: Pool, pool: pool, repeat: repeat, staticLand: staticLand };\n\n\tKefir.Kefir = Kefir;\n\n\texports.dissableDeprecationWarnings = dissableDeprecationWarnings;\n\texports.Kefir = Kefir;\n\texports.Observable = Observable;\n\texports.Stream = Stream;\n\texports.Property = Property;\n\texports.never = never;\n\texports.later = later;\n\texports.interval = interval;\n\texports.sequentially = sequentially;\n\texports.fromPoll = fromPoll;\n\texports.withInterval = withInterval;\n\texports.fromCallback = fromCallback;\n\texports.fromNodeCallback = fromNodeCallback;\n\texports.fromEvents = fromEvents;\n\texports.stream = stream;\n\texports.constant = constant;\n\texports.constantError = constantError;\n\texports.fromPromise = fromPromise;\n\texports.fromESObservable = fromESObservable;\n\texports.combine = combine;\n\texports.zip = zip;\n\texports.merge = merge;\n\texports.concat = concat$1;\n\texports.Pool = Pool;\n\texports.pool = pool;\n\texports.repeat = repeat;\n\texports.staticLand = staticLand;\n\texports['default'] = Kefir;\n\n\tObject.defineProperty(exports, '__esModule', { value: true });\n\n}));","import Kefir from 'kefir';\n\nfunction eventsPositionDiff(prevEvent, nextEvent) {\n  //console.log(prevEvent,nextEvent);\n    if(nextEvent.touches) {\n        nextEvent = nextEvent.touches[0];\n    } \n    if(prevEvent.touches) {\n        prevEvent = prevEvent.touches[0];\n    }\n  return {\n    x: nextEvent.clientX - prevEvent.clientX,\n    y: nextEvent.clientY - prevEvent.clientY\n  };\n}\n\nfunction applyMove(currentPosition, move) {\n  //console.log(move);\n  return {\n    x: currentPosition.x + move.x,\n    y: currentPosition.y + move.y\n  };\n}\nconst preventDefault = (event) => { event.preventDefault(); }\nconst drag = Symbol()\n\nexport function startDragging(elem,timeout){\n  timeout = timeout ? timeout : 200;\n  setTimeout(function(){\n    // console.log(elem.style.left,elem.style.top)\n    elem.style.cursor = 'move'\n    elem.style.userSelect = 'none'\n\n    var drag = function(pos) {\n      elem.style.top = pos.y + 'px';\n      elem.style.left = pos.x + 'px';\n    }\n\n    var mouseUps = Kefir.fromEvents(document, 'mouseup').merge(Kefir.fromEvents(document,'touchend'));\n    var mouseMoves = Kefir.fromEvents(document, 'mousemove').merge(Kefir.fromEvents(document,'touchmove'));\n    var mouseDowns = Kefir.fromEvents(elem, 'mousedown').merge(Kefir.fromEvents(elem,'touchstart'));\n    mouseDowns.onValue( preventDefault );\n\n    var moves = mouseDowns.flatMap(function(downEvent) {\n      return mouseMoves.takeUntilBy(mouseUps)\n        .diff(eventsPositionDiff, downEvent);\n    });\n    var rect = elem.getBoundingClientRect();\n    var style = window.getComputedStyle(elem);\n    // console.log(style);\n    var currentPosition = { x: parseInt(rect.left)-parseInt(style.marginLeft),\n                        y: parseInt(rect.top)-parseInt(style.marginTop) };\n                        // console.log(currentPosition);\n    var position = moves.scan(applyMove, currentPosition);\n\n    setTimeout(function(){\n      elem.style.position = \"absolute\";\n      position.onValue(drag);\n    },timeout)\n\n    elem[stopDragging] = function (){\n      elem.style.cursor = 'default'\n      elem.style.userSelect = 'default'\n      position.offValue(drag);\n      mouseDowns.offValue( preventDefault );\n    }\n  },50);\n}\n\nexport function stopDragging(elem){\n  elem[stopDragging]();\n}\n\nexport const draggableHostStyle = `:host {\n  cursor: move;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n  position: relative;\n}`\n","import { define, h } from 'skatejs';\nimport {startDragging, stopDragging, draggableHostStyle} from './draggable.js';\n\nconst css = ` :host {display: inline-table} handle-box {display: inline-table}`\n\nconst HandleBox = define(\"handle-box\",{\n    attached(elem){\n      startDragging(elem);\n    },\n    detached(elem){\n      stopDragging(elem);\n    },\n    render(elem){\n      return [h(\"slot\",\"\"),h(\"style\",draggableHostStyle+css)]\n    },\n    rendered(elem){\n    }\n})\n\nexport default HandleBox\n","const reattacher = Symbol()\n\nexport function detach(elem,timeout){\n  timeout = timeout ? timeout : 200;\n  setTimeout(function(){\n    var rect = elem.getBoundingClientRect();\n    var style = window.getComputedStyle(elem);\n    var oldStyle = elem.style;\n    // console.log(style);\n    var currentPosition = { x: parseInt(rect.left)-parseInt(style.marginLeft),\n                        y: parseInt(rect.top)-parseInt(style.marginTop) };\n\n    setTimeout(function(){\n      elem.style.position = \"absolute\";\n      elem.style.top = currentPosition.y + 'px';\n      elem.style.left = currentPosition.x + 'px';\n    },timeout)\n\n    elem[reattacher] = function (){\n      elem.style = oldStyle\n    }\n  },50);\n}\n\nexport function reattach(elem){\n  elem[reattacher]();\n}\n","import { define, h } from 'skatejs';\nimport {detach, reattach} from './detachable.js';\n\nconst css = ` :host {display: inline-table} loose-box {display: inline-table}`\n\nconst DetachedBox = define(\"detached-box\",{\n    attached(elem){\n      detach(elem);\n    },\n    detached(elem){\n      reattach(elem);\n    },\n    render(elem){\n      return [h(\"slot\",\"\"),h(\"style\",css)]\n    },\n    rendered(elem){\n    }\n})\n\nexport default DetachedBox\n","// from http://stackoverflow.com/a/38149758/1189799\n\nexport const parentSelector = function(el, selector, stopSelector) {\n  var retval = null;\n  while (el) {\n    if (el.matches(selector)) {\n      retval = el;\n      break\n    } else if (stopSelector && el.matches(stopSelector)) {\n      break\n    }\n    el = el.parentElement;\n  }\n  return retval;\n}\n","import {define, h} from 'skatejs'\nimport {parentSelector} from './parentSelector.js'\n\nconst animate = function(elem){\n  elem.dispatchEvent(new Event('animate'));\n  setTimeout( () => { window.requestAnimationFrame( () => {animate(elem)} ) }, 1000/elem.fps );\n}\n\nconst css = `graph-container, :host {display: inline-table}`\n\nconst GraphContainer = define('graph-container',\n {\n   props: {\n     fps: { attribute: true, default: 120 }\n   },\n   attached(elem) {\n     animate(elem);\n  },\n  attributeChanged(elem) {\n  },\n  render(elem) {\n    return [\n      h('slot', {\n        onSlotchange: (e) => {elem.dispatchEvent(new Event(\"graph-updated\"))}\n      }),\n      h('style',css)\n    ]\n  },\n  updated(elem){\n    // console.log(\"updated\")\n    return true;\n  }\n});\n\nexport function parentGraphContainer(elem){\n  return parentSelector(elem,'graph-container')\n}\n\nexport default GraphContainer\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name;\n}\n","import namespace from \"./namespace\";\nimport {xhtml} from \"./namespaces\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","var matcher = function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n};\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!element.matches) {\n    var vendorMatches = element.webkitMatchesSelector\n        || element.msMatchesSelector\n        || element.mozMatchesSelector\n        || element.oMatchesSelector;\n    matcher = function(selector) {\n      return function() {\n        return vendorMatches.call(this, selector);\n      };\n    };\n  }\n}\n\nexport default matcher;\n","var filterEvents = {};\n\nexport var event = null;\n\nif (typeof document !== \"undefined\") {\n  var element = document.documentElement;\n  if (!(\"onmouseenter\" in element)) {\n    filterEvents = {mouseenter: \"mouseover\", mouseleave: \"mouseout\"};\n  }\n}\n\nfunction filterContextListener(listener, index, group) {\n  listener = contextListener(listener, index, group);\n  return function(event) {\n    var related = event.relatedTarget;\n    if (!related || (related !== this && !(related.compareDocumentPosition(this) & 8))) {\n      listener.call(this, event);\n    }\n  };\n}\n\nfunction contextListener(listener, index, group) {\n  return function(event1) {\n    var event0 = event; // Events can be reentrant (e.g., focus).\n    event = event1;\n    try {\n      listener.call(this, this.__data__, index, group);\n    } finally {\n      event = event0;\n    }\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, capture) {\n  var wrap = filterEvents.hasOwnProperty(typename.type) ? filterContextListener : contextListener;\n  return function(d, i, group) {\n    var on = this.__on, o, listener = wrap(value, i, group);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.capture);\n        this.addEventListener(o.type, o.listener = listener, o.capture = capture);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, capture);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, capture: capture};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, capture) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  if (capture == null) capture = false;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, capture));\n  return this;\n}\n\nexport function customEvent(event1, listener, that, args) {\n  var event0 = event;\n  event1.sourceEvent = event;\n  event = event1;\n  try {\n    return listener.apply(that, args);\n  } finally {\n    event = event0;\n  }\n}\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selector from \"../selector\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index\";\nimport selectorAll from \"../selectorAll\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","import {Selection} from \"./index\";\nimport matcher from \"../matcher\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import {Selection} from \"./index\";\nimport {EnterNode} from \"./enter\";\nimport constant from \"../constant\";\n\nvar keyPrefix = \"$\"; // Protect against keys like __proto__.\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = {},\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = keyPrefix + key.call(node, node.__data__, i, group);\n      if (keyValue in nodeByKeyValue) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue[keyValue] = node;\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = keyPrefix + key.call(parent, data[i], i, data);\n    if (node = nodeByKeyValue[keyValue]) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue[keyValue] = null;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue[keyValues[i]] === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nexport default function(value, key) {\n  if (!value) {\n    data = new Array(this.size()), j = -1;\n    this.each(function(d) { data[++j] = d; });\n    return data;\n  }\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = value.call(parent, parent && parent.__data__, j, parents),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n","import sparse from \"./sparse\";\nimport {Selection} from \"./index\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","import {Selection} from \"./index\";\n\nexport default function(selection) {\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && next !== node.nextSibling) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","import {Selection} from \"./index\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  var nodes = new Array(this.size()), i = -1;\n  this.each(function() { nodes[++i] = this; });\n  return nodes;\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  var size = 0;\n  this.each(function() { ++size; });\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import namespace from \"../namespace\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  var node;\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : defaultView(node = this.node())\n          .getComputedStyle(node, null)\n          .getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import creator from \"../creator\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","import creator from \"../creator\";\nimport selector from \"../selector\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","import defaultView from \"../window\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (event) {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select\";\nimport selection_selectAll from \"./selectAll\";\nimport selection_filter from \"./filter\";\nimport selection_data from \"./data\";\nimport selection_enter from \"./enter\";\nimport selection_exit from \"./exit\";\nimport selection_merge from \"./merge\";\nimport selection_order from \"./order\";\nimport selection_sort from \"./sort\";\nimport selection_call from \"./call\";\nimport selection_nodes from \"./nodes\";\nimport selection_node from \"./node\";\nimport selection_size from \"./size\";\nimport selection_empty from \"./empty\";\nimport selection_each from \"./each\";\nimport selection_attr from \"./attr\";\nimport selection_style from \"./style\";\nimport selection_property from \"./property\";\nimport selection_classed from \"./classed\";\nimport selection_text from \"./text\";\nimport selection_html from \"./html\";\nimport selection_raise from \"./raise\";\nimport selection_lower from \"./lower\";\nimport selection_append from \"./append\";\nimport selection_insert from \"./insert\";\nimport selection_remove from \"./remove\";\nimport selection_datum from \"./datum\";\nimport selection_on from \"./on\";\nimport selection_dispatch from \"./dispatch\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  merge: selection_merge,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch\n};\n\nexport default selection;\n","import {Selection, root} from \"./selection/index\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([document.querySelectorAll(selector)], [document.documentElement])\n      : new Selection([selector == null ? [] : selector], root);\n}\n","export var epsilon = 1e-12;\nexport var pi = Math.PI;\nexport var halfPi = pi / 2;\nexport var tau = 2 * pi;\n","var sqrt3 = Math.sqrt(3);\n\nexport default {\n  draw: function(context, size) {\n    var y = -Math.sqrt(size / (sqrt3 * 3));\n    context.moveTo(0, y * 2);\n    context.lineTo(-sqrt3 * y, -y);\n    context.lineTo(sqrt3 * y, -y);\n    context.closePath();\n  }\n};\n","export default function() {}\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    (2 * that._x0 + that._x1) / 3,\n    (2 * that._y0 + that._y1) / 3,\n    (that._x0 + 2 * that._x1) / 3,\n    (that._y0 + 2 * that._y1) / 3,\n    (that._x0 + 4 * that._x1 + x) / 6,\n    (that._y0 + 4 * that._y1 + y) / 6\n  );\n}\n\nexport function Basis(context) {\n  this._context = context;\n}\n\nBasis.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 3: point(this, this._x1, this._y1); // proceed\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._context.lineTo((5 * this._x0 + this._x1) / 6, (5 * this._y0 + this._y1) / 6); // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n  }\n};\n\nexport default function(context) {\n  return new Basis(context);\n}\n","import {Basis} from \"./basis\";\n\nfunction Bundle(context, beta) {\n  this._basis = new Basis(context);\n  this._beta = beta;\n}\n\nBundle.prototype = {\n  lineStart: function() {\n    this._x = [];\n    this._y = [];\n    this._basis.lineStart();\n  },\n  lineEnd: function() {\n    var x = this._x,\n        y = this._y,\n        j = x.length - 1;\n\n    if (j > 0) {\n      var x0 = x[0],\n          y0 = y[0],\n          dx = x[j] - x0,\n          dy = y[j] - y0,\n          i = -1,\n          t;\n\n      while (++i <= j) {\n        t = i / j;\n        this._basis.point(\n          this._beta * x[i] + (1 - this._beta) * (x0 + t * dx),\n          this._beta * y[i] + (1 - this._beta) * (y0 + t * dy)\n        );\n      }\n    }\n\n    this._x = this._y = null;\n    this._basis.lineEnd();\n  },\n  point: function(x, y) {\n    this._x.push(+x);\n    this._y.push(+y);\n  }\n};\n\nexport default (function custom(beta) {\n\n  function bundle(context) {\n    return beta === 1 ? new Basis(context) : new Bundle(context, beta);\n  }\n\n  bundle.beta = function(beta) {\n    return custom(+beta);\n  };\n\n  return bundle;\n})(0.85);\n","export function point(that, x, y) {\n  that._context.bezierCurveTo(\n    that._x1 + that._k * (that._x2 - that._x0),\n    that._y1 + that._k * (that._y2 - that._y0),\n    that._x2 + that._k * (that._x1 - x),\n    that._y2 + that._k * (that._y1 - y),\n    that._x2,\n    that._y2\n  );\n}\n\nexport function Cardinal(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinal.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: point(this, this._x1, this._y1); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; this._x1 = x, this._y1 = y; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new Cardinal(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import noop from \"../noop\";\nimport {point} from \"./cardinal\";\n\nexport function CardinalClosed(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalClosed(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {point} from \"./cardinal\";\n\nexport function CardinalOpen(context, tension) {\n  this._context = context;\n  this._k = (1 - tension) / 6;\n}\n\nCardinalOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(tension) {\n\n  function cardinal(context) {\n    return new CardinalOpen(context, tension);\n  }\n\n  cardinal.tension = function(tension) {\n    return custom(+tension);\n  };\n\n  return cardinal;\n})(0);\n","import {epsilon} from \"../math\";\nimport {Cardinal} from \"./cardinal\";\n\nexport function point(that, x, y) {\n  var x1 = that._x1,\n      y1 = that._y1,\n      x2 = that._x2,\n      y2 = that._y2;\n\n  if (that._l01_a > epsilon) {\n    var a = 2 * that._l01_2a + 3 * that._l01_a * that._l12_a + that._l12_2a,\n        n = 3 * that._l01_a * (that._l01_a + that._l12_a);\n    x1 = (x1 * a - that._x0 * that._l12_2a + that._x2 * that._l01_2a) / n;\n    y1 = (y1 * a - that._y0 * that._l12_2a + that._y2 * that._l01_2a) / n;\n  }\n\n  if (that._l23_a > epsilon) {\n    var b = 2 * that._l23_2a + 3 * that._l23_a * that._l12_a + that._l12_2a,\n        m = 3 * that._l23_a * (that._l23_a + that._l12_a);\n    x2 = (x2 * b + that._x1 * that._l23_2a - x * that._l12_2a) / m;\n    y2 = (y2 * b + that._y1 * that._l23_2a - y * that._l12_2a) / m;\n  }\n\n  that._context.bezierCurveTo(x1, y1, x2, y2, that._x2, that._y2);\n}\n\nfunction CatmullRom(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRom.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x2, this._y2); break;\n      case 3: this.point(this._x2, this._y2); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRom(context, alpha) : new Cardinal(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalClosed} from \"./cardinalClosed\";\nimport noop from \"../noop\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomClosed(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomClosed.prototype = {\n  areaStart: noop,\n  areaEnd: noop,\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 = this._x3 = this._x4 = this._x5 =\n    this._y0 = this._y1 = this._y2 = this._y3 = this._y4 = this._y5 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 1: {\n        this._context.moveTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 2: {\n        this._context.lineTo(this._x3, this._y3);\n        this._context.closePath();\n        break;\n      }\n      case 3: {\n        this.point(this._x3, this._y3);\n        this.point(this._x4, this._y4);\n        this.point(this._x5, this._y5);\n        break;\n      }\n    }\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; this._x3 = x, this._y3 = y; break;\n      case 1: this._point = 2; this._context.moveTo(this._x4 = x, this._y4 = y); break;\n      case 2: this._point = 3; this._x5 = x, this._y5 = y; break;\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomClosed(context, alpha) : new CardinalClosed(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","import {CardinalOpen} from \"./cardinalOpen\";\nimport {point} from \"./catmullRom\";\n\nfunction CatmullRomOpen(context, alpha) {\n  this._context = context;\n  this._alpha = alpha;\n}\n\nCatmullRomOpen.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 = this._x2 =\n    this._y0 = this._y1 = this._y2 = NaN;\n    this._l01_a = this._l12_a = this._l23_a =\n    this._l01_2a = this._l12_2a = this._l23_2a =\n    this._point = 0;\n  },\n  lineEnd: function() {\n    if (this._line || (this._line !== 0 && this._point === 3)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    x = +x, y = +y;\n\n    if (this._point) {\n      var x23 = this._x2 - x,\n          y23 = this._y2 - y;\n      this._l23_a = Math.sqrt(this._l23_2a = Math.pow(x23 * x23 + y23 * y23, this._alpha));\n    }\n\n    switch (this._point) {\n      case 0: this._point = 1; break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; this._line ? this._context.lineTo(this._x2, this._y2) : this._context.moveTo(this._x2, this._y2); break;\n      case 3: this._point = 4; // proceed\n      default: point(this, x, y); break;\n    }\n\n    this._l01_a = this._l12_a, this._l12_a = this._l23_a;\n    this._l01_2a = this._l12_2a, this._l12_2a = this._l23_2a;\n    this._x0 = this._x1, this._x1 = this._x2, this._x2 = x;\n    this._y0 = this._y1, this._y1 = this._y2, this._y2 = y;\n  }\n};\n\nexport default (function custom(alpha) {\n\n  function catmullRom(context) {\n    return alpha ? new CatmullRomOpen(context, alpha) : new CardinalOpen(context, 0);\n  }\n\n  catmullRom.alpha = function(alpha) {\n    return custom(+alpha);\n  };\n\n  return catmullRom;\n})(0.5);\n","function sign(x) {\n  return x < 0 ? -1 : 1;\n}\n\n// Calculate the slopes of the tangents (Hermite-type interpolation) based on\n// the following paper: Steffen, M. 1990. A Simple Method for Monotonic\n// Interpolation in One Dimension. Astronomy and Astrophysics, Vol. 239, NO.\n// NOV(II), P. 443, 1990.\nfunction slope3(that, x2, y2) {\n  var h0 = that._x1 - that._x0,\n      h1 = x2 - that._x1,\n      s0 = (that._y1 - that._y0) / (h0 || h1 < 0 && -0),\n      s1 = (y2 - that._y1) / (h1 || h0 < 0 && -0),\n      p = (s0 * h1 + s1 * h0) / (h0 + h1);\n  return (sign(s0) + sign(s1)) * Math.min(Math.abs(s0), Math.abs(s1), 0.5 * Math.abs(p)) || 0;\n}\n\n// Calculate a one-sided slope.\nfunction slope2(that, t) {\n  var h = that._x1 - that._x0;\n  return h ? (3 * (that._y1 - that._y0) / h - t) / 2 : t;\n}\n\n// According to https://en.wikipedia.org/wiki/Cubic_Hermite_spline#Representations\n// \"you can express cubic Hermite interpolation in terms of cubic Bzier curves\n// with respect to the four values p0, p0 + m0 / 3, p1 - m1 / 3, p1\".\nfunction point(that, t0, t1) {\n  var x0 = that._x0,\n      y0 = that._y0,\n      x1 = that._x1,\n      y1 = that._y1,\n      dx = (x1 - x0) / 3;\n  that._context.bezierCurveTo(x0 + dx, y0 + dx * t0, x1 - dx, y1 - dx * t1, x1, y1);\n}\n\nfunction MonotoneX(context) {\n  this._context = context;\n}\n\nMonotoneX.prototype = {\n  areaStart: function() {\n    this._line = 0;\n  },\n  areaEnd: function() {\n    this._line = NaN;\n  },\n  lineStart: function() {\n    this._x0 = this._x1 =\n    this._y0 = this._y1 =\n    this._t0 = NaN;\n    this._point = 0;\n  },\n  lineEnd: function() {\n    switch (this._point) {\n      case 2: this._context.lineTo(this._x1, this._y1); break;\n      case 3: point(this, this._t0, slope2(this, this._t0)); break;\n    }\n    if (this._line || (this._line !== 0 && this._point === 1)) this._context.closePath();\n    this._line = 1 - this._line;\n  },\n  point: function(x, y) {\n    var t1 = NaN;\n\n    x = +x, y = +y;\n    if (x === this._x1 && y === this._y1) return; // Ignore coincident points.\n    switch (this._point) {\n      case 0: this._point = 1; this._line ? this._context.lineTo(x, y) : this._context.moveTo(x, y); break;\n      case 1: this._point = 2; break;\n      case 2: this._point = 3; point(this, slope2(this, t1 = slope3(this, x, y)), t1); break;\n      default: point(this, this._t0, t1 = slope3(this, x, y)); break;\n    }\n\n    this._x0 = this._x1, this._x1 = x;\n    this._y0 = this._y1, this._y1 = y;\n    this._t0 = t1;\n  }\n}\n\nfunction MonotoneY(context) {\n  this._context = new ReflectContext(context);\n}\n\n(MonotoneY.prototype = Object.create(MonotoneX.prototype)).point = function(x, y) {\n  MonotoneX.prototype.point.call(this, y, x);\n};\n\nfunction ReflectContext(context) {\n  this._context = context;\n}\n\nReflectContext.prototype = {\n  moveTo: function(x, y) { this._context.moveTo(y, x); },\n  closePath: function() { this._context.closePath(); },\n  lineTo: function(x, y) { this._context.lineTo(y, x); },\n  bezierCurveTo: function(x1, y1, x2, y2, x, y) { this._context.bezierCurveTo(y1, x1, y2, x2, y, x); }\n};\n\nexport function monotoneX(context) {\n  return new MonotoneX(context);\n}\n\nexport function monotoneY(context) {\n  return new MonotoneY(context);\n}\n","/*\n * $Id: combinatorics.js,v 0.25 2013/03/11 15:42:14 dankogai Exp dankogai $\n *\n *  Licensed under the MIT license.\n *  http://www.opensource.org/licenses/mit-license.php\n *\n *  References:\n *    http://www.ruby-doc.org/core-2.0/Array.html#method-i-combination\n *    http://www.ruby-doc.org/core-2.0/Array.html#method-i-permutation\n *    http://en.wikipedia.org/wiki/Factorial_number_system\n */\n(function (root, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define([], factory);\n    } else if (typeof exports === 'object') {\n        module.exports = factory();\n    } else {\n        root.Combinatorics = factory();\n    }\n}(this, function () {\n    'use strict';\n    var version = \"0.5.2\";\n    /* combinatory arithmetics */\n    var P = function(m, n) {\n        var p = 1;\n        while (n--) p *= m--;\n        return p;\n    };\n    var C = function(m, n) {\n        if (n > m) {\n            return 0;\n        }\n        return P(m, n) / P(n, n);\n    };\n    var factorial = function(n) {\n        return P(n, n);\n    };\n    var factoradic = function(n, d) {\n        var f = 1;\n        if (!d) {\n            for (d = 1; f < n; f *= ++d);\n            if (f > n) f /= d--;\n        } else {\n            f = factorial(d);\n        }\n        var result = [0];\n        for (; d; f /= d--) {\n            result[d] = Math.floor(n / f);\n            n %= f;\n        }\n        return result;\n    };\n    /* common methods */\n    var addProperties = function(dst, src) {\n        Object.keys(src).forEach(function(p) {\n            Object.defineProperty(dst, p, {\n                value: src[p],\n                configurable: p == 'next'\n            });\n        });\n    };\n    var hideProperty = function(o, p) {\n        Object.defineProperty(o, p, {\n            writable: true\n        });\n    };\n    var toArray = function(f) {\n        var e, result = [];\n        this.init();\n        while (e = this.next()) result.push(f ? f(e) : e);\n        this.init();\n        return result;\n    };\n    var common = {\n        toArray: toArray,\n        map: toArray,\n        forEach: function(f) {\n            var e;\n            this.init();\n            while (e = this.next()) f(e);\n            this.init();\n        },\n        filter: function(f) {\n            var e, result = [];\n            this.init();\n            while (e = this.next()) if (f(e)) result.push(e);\n            this.init();\n            return result;\n        },\n        lazyMap: function(f) {\n            this._lazyMap = f;\n            return this;\n        },\n        lazyFilter: function(f) {\n            Object.defineProperty(this, 'next', {\n                writable: true\n            });\n            if (typeof f !== 'function') {\n                this.next = this._next;\n            } else {\n                if (typeof (this._next) !== 'function') {\n                    this._next = this.next;\n                }\n                var _next = this._next.bind(this);\n                this.next = (function() {\n                    var e;\n                    while (e = _next()) {\n                        if (f(e))\n                            return e;\n                    }\n                    return e;\n                }).bind(this);\n            }\n            Object.defineProperty(this, 'next', {\n                writable: false\n            });\n            return this;\n        }\n\n    };\n    /* power set */\n    var power = function(ary, fun) {\n        var size = 1 << ary.length,\n            sizeOf = function() {\n                return size;\n            },\n            that = Object.create(ary.slice(), {\n                length: {\n                    get: sizeOf\n                }\n            });\n        hideProperty(that, 'index');\n        addProperties(that, {\n            valueOf: sizeOf,\n            init: function() {\n                that.index = 0;\n            },\n            nth: function(n) {\n                if (n >= size) return;\n                var i = 0,\n                    result = [];\n                for (; n; n >>>= 1, i++) if (n & 1) result.push(this[i]);\n                return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n            },\n            next: function() {\n                return this.nth(this.index++);\n            }\n        });\n        addProperties(that, common);\n        that.init();\n        return (typeof (fun) === 'function') ? that.map(fun) : that;\n    };\n    /* combination */\n    var nextIndex = function(n) {\n        var smallest = n & -n,\n            ripple = n + smallest,\n            new_smallest = ripple & -ripple,\n            ones = ((new_smallest / smallest) >> 1) - 1;\n        return ripple | ones;\n    };\n    var combination = function(ary, nelem, fun) {\n        if (!nelem) nelem = ary.length;\n        if (nelem < 1) throw new RangeError;\n        if (nelem > ary.length) throw new RangeError;\n        var first = (1 << nelem) - 1,\n            size = C(ary.length, nelem),\n            maxIndex = 1 << ary.length,\n            sizeOf = function() {\n                return size;\n            },\n            that = Object.create(ary.slice(), {\n                length: {\n                    get: sizeOf\n                }\n            });\n        hideProperty(that, 'index');\n        addProperties(that, {\n            valueOf: sizeOf,\n            init: function() {\n                this.index = first;\n            },\n            next: function() {\n                if (this.index >= maxIndex) return;\n                var i = 0,\n                    n = this.index,\n                    result = [];\n                for (; n; n >>>= 1, i++) {\n                    if (n & 1) result[result.length] = this[i];\n                }\n\n                this.index = nextIndex(this.index);\n                return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n            }\n        });\n        addProperties(that, common);\n        that.init();\n        return (typeof (fun) === 'function') ? that.map(fun) : that;\n    };\n    /* bigcombination */\n    var bigNextIndex = function(n, nelem) {\n\n        var result = n;\n        var j = nelem;\n        var i = 0;\n        for (i = result.length - 1; i >= 0; i--) {\n            if (result[i] == 1) {\n                j--;\n            } else {\n                break;\n            }\n        } \n        if (j == 0) {\n            // Overflow\n            result[result.length] = 1;\n            for (var k = result.length - 2; k >= 0; k--) {\n                result[k] = (k < nelem-1)?1:0;\n            }\n        } else {\n            // Normal\n\n            // first zero after 1\n            var i1 = -1;\n            var i0 = -1;\n            for (var i = 0; i < result.length; i++) {\n                if (result[i] == 0 && i1 != -1) {\n                    i0 = i;\n                }\n                if (result[i] == 1) {\n                    i1 = i;\n                }\n                if (i0 != -1 && i1 != -1) {\n                    result[i0] = 1;\n                    result[i1] = 0;\n                    break;\n                }\n            }\n\n            j = nelem;\n            for (var i = result.length - 1; i >= i1; i--) {\n                if (result[i] == 1)\n                    j--;\n            }\n            for (var i = 0; i < i1; i++) {\n                result[i] = (i < j)?1:0;\n            }\n        }\n\n        return result;\n\n    };\n    var buildFirst = function(nelem) {\n        var result = [];\n        for (var i = 0; i < nelem; i++) {\n            result[i] = 1;\n        }\n        result[0] = 1;\n        return result;\n    };\n    var bigCombination = function(ary, nelem, fun) {\n        if (!nelem) nelem = ary.length;\n        if (nelem < 1) throw new RangeError;\n        if (nelem > ary.length) throw new RangeError;\n        var first = buildFirst(nelem),\n            size = C(ary.length, nelem),\n            maxIndex = ary.length,\n            sizeOf = function() {\n                return size;\n            },\n            that = Object.create(ary.slice(), {\n                length: {\n                    get: sizeOf\n                }\n            });\n        hideProperty(that, 'index');\n        addProperties(that, {\n            valueOf: sizeOf,\n            init: function() {\n                this.index = first.concat();\n            },\n            next: function() {\n                if (this.index.length > maxIndex) return;\n                var i = 0,\n                    n = this.index,\n                    result = [];\n                for (var j = 0; j < n.length; j++, i++) {\n                    if (n[j])\n                        result[result.length] = this[i];\n                }\n                bigNextIndex(this.index, nelem);\n                return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n            }\n        });\n        addProperties(that, common);\n        that.init();\n        return (typeof (fun) === 'function') ? that.map(fun) : that;\n    };\n    /* permutation */\n    var _permutation = function(ary) {\n        var that = ary.slice(),\n            size = factorial(that.length);\n        that.index = 0;\n        that.next = function() {\n            if (this.index >= size) return;\n            var copy = this.slice(),\n                digits = factoradic(this.index, this.length),\n                result = [],\n                i = this.length - 1;\n            for (; i >= 0; --i) result.push(copy.splice(digits[i], 1)[0]);\n            this.index++;\n            return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n        };\n        return that;\n    };\n    // which is really a permutation of combination\n    var permutation = function(ary, nelem, fun) {\n        if (!nelem) nelem = ary.length;\n        if (nelem < 1) throw new RangeError;\n        if (nelem > ary.length) throw new RangeError;\n        var size = P(ary.length, nelem),\n            sizeOf = function() {\n                return size;\n            },\n            that = Object.create(ary.slice(), {\n                length: {\n                    get: sizeOf\n                }\n            });\n        hideProperty(that, 'cmb');\n        hideProperty(that, 'per');\n        addProperties(that, {\n            valueOf: function() {\n                return size;\n            },\n            init: function() {\n                this.cmb = combination(ary, nelem);\n                this.per = _permutation(this.cmb.next());\n            },\n            next: function() {\n                var result = this.per.next();\n                if (!result) {\n                    var cmb = this.cmb.next();\n                    if (!cmb) return;\n                    this.per = _permutation(cmb);\n                    return this.next();\n                }\n                return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n            }\n        });\n        addProperties(that, common);\n        that.init();\n        return (typeof (fun) === 'function') ? that.map(fun) : that;\n    };\n\n    var PC = function(m) {\n        var total = 0;\n        for (var n = 1; n <= m; n++) {\n            var p = P(m,n);\n            total += p;\n        };\n        return total;\n    };\n    // which is really a permutation of combination\n    var permutationCombination = function(ary, fun) {\n        // if (!nelem) nelem = ary.length;\n        // if (nelem < 1) throw new RangeError;\n        // if (nelem > ary.length) throw new RangeError;\n        var size = PC(ary.length),\n            sizeOf = function() {\n                return size;\n            },\n            that = Object.create(ary.slice(), {\n                length: {\n                    get: sizeOf\n                }\n            });\n        hideProperty(that, 'cmb');\n        hideProperty(that, 'per');\n        hideProperty(that, 'nelem');\n        addProperties(that, {\n            valueOf: function() {\n                return size;\n            },\n            init: function() {\n                this.nelem = 1;\n                // console.log(\"Starting nelem: \" + this.nelem);\n                this.cmb = combination(ary, this.nelem);\n                this.per = _permutation(this.cmb.next());\n            },\n            next: function() {\n                var result = this.per.next();\n                if (!result) {\n                    var cmb = this.cmb.next();\n                    if (!cmb) {\n                        this.nelem++;\n                        // console.log(\"increment nelem: \" + this.nelem + \" vs \" + ary.length);\n                        if (this.nelem > ary.length) return;\n                        this.cmb = combination(ary, this.nelem);\n                        cmb = this.cmb.next();\n                        if (!cmb) return;\n                    }\n                    this.per = _permutation(cmb);\n                    return this.next();\n                }\n                return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n            }\n        });\n        addProperties(that, common);\n        that.init();\n        return (typeof (fun) === 'function') ? that.map(fun) : that;\n    };\n    /* Cartesian Product */\n    var arraySlice = Array.prototype.slice;\n    var cartesianProduct = function() {\n        if (!arguments.length) throw new RangeError;\n        var args = arraySlice.call(arguments),\n            size = args.reduce(function(p, a) {\n                return p * a.length;\n            }, 1),\n            sizeOf = function() {\n                return size;\n            },\n            dim = args.length,\n            that = Object.create(args, {\n                length: {\n                    get: sizeOf\n                }\n            });\n        if (!size) throw new RangeError;\n        hideProperty(that, 'index');\n        addProperties(that, {\n            valueOf: sizeOf,\n            dim: dim,\n            init: function() {\n                this.index = 0;\n            },\n            get: function() {\n                if (arguments.length !== this.length) return;\n                var result = [],\n                    d = 0;\n                for (; d < dim; d++) {\n                    var i = arguments[d];\n                    if (i >= this[d].length) return;\n                    result.push(this[d][i]);\n                }\n                return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n            },\n            nth: function(n) {\n                var result = [],\n                    d = 0;\n                for (; d < dim; d++) {\n                    var l = this[d].length;\n                    var i = n % l;\n                    result.push(this[d][i]);\n                    n -= i;\n                    n /= l;\n                }\n                return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n            },\n            next: function() {\n                if (this.index >= size) return;\n                var result = this.nth(this.index);\n                this.index++;\n                return result;\n            }\n        });\n        addProperties(that, common);\n        that.init();\n        return that;\n    };\n    /* baseN */\n    var baseN = function(ary, nelem, fun) {\n                if (!nelem) nelem = ary.length;\n        if (nelem < 1) throw new RangeError;\n        var base = ary.length,\n                size = Math.pow(base, nelem);\n        var sizeOf = function() {\n                return size;\n            },\n            that = Object.create(ary.slice(), {\n                length: {\n                    get: sizeOf\n                }\n            });\n        hideProperty(that, 'index');\n        addProperties(that, {\n            valueOf: sizeOf,\n            init: function() {\n                that.index = 0;\n            },\n            nth: function(n) {\n                if (n >= size) return;\n                var result = [];\n                for (var i = 0; i < nelem; i++) {\n                    var d = n % base;\n                    result.push(ary[d])\n                    n -= d; n /= base\n                }\n                return (typeof (that._lazyMap) === 'function')?that._lazyMap(result):result;\n            },\n            next: function() {\n                return this.nth(this.index++);\n            }\n        });\n        addProperties(that, common);\n        that.init();\n        return (typeof (fun) === 'function') ? that.map(fun) : that;\n    };\n\n    /* export */\n    var Combinatorics = Object.create(null);\n    addProperties(Combinatorics, {\n        C: C,\n        P: P,\n        factorial: factorial,\n        factoradic: factoradic,\n        cartesianProduct: cartesianProduct,\n        combination: combination,\n        bigCombination: bigCombination,\n        permutation: permutation,\n        permutationCombination: permutationCombination,\n        power: power,\n        baseN: baseN,\n        VERSION: version\n    });\n    return Combinatorics;\n}));\n","exports = module.exports = Victor;\n\n/**\n * # Victor - A JavaScript 2D vector class with methods for common vector operations\n */\n\n/**\n * Constructor. Will also work without the `new` keyword\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = Victor(42, 1337);\n *\n * @param {Number} x Value of the x axis\n * @param {Number} y Value of the y axis\n * @return {Victor}\n * @api public\n */\nfunction Victor (x, y) {\n\tif (!(this instanceof Victor)) {\n\t\treturn new Victor(x, y);\n\t}\n\n\t/**\n\t * The X axis\n\t *\n\t * ### Examples:\n\t *     var vec = new Victor.fromArray(42, 21);\n\t *\n\t *     vec.x;\n\t *     // => 42\n\t *\n\t * @api public\n\t */\n\tthis.x = x || 0;\n\n\t/**\n\t * The Y axis\n\t *\n\t * ### Examples:\n\t *     var vec = new Victor.fromArray(42, 21);\n\t *\n\t *     vec.y;\n\t *     // => 21\n\t *\n\t * @api public\n\t */\n\tthis.y = y || 0;\n};\n\n/**\n * # Static\n */\n\n/**\n * Creates a new instance from an array\n *\n * ### Examples:\n *     var vec = Victor.fromArray([42, 21]);\n *\n *     vec.toString();\n *     // => x:42, y:21\n *\n * @name Victor.fromArray\n * @param {Array} array Array with the x and y values at index 0 and 1 respectively\n * @return {Victor} The new instance\n * @api public\n */\nVictor.fromArray = function (arr) {\n\treturn new Victor(arr[0] || 0, arr[1] || 0);\n};\n\n/**\n * Creates a new instance from an object\n *\n * ### Examples:\n *     var vec = Victor.fromObject({ x: 42, y: 21 });\n *\n *     vec.toString();\n *     // => x:42, y:21\n *\n * @name Victor.fromObject\n * @param {Object} obj Object with the values for x and y\n * @return {Victor} The new instance\n * @api public\n */\nVictor.fromObject = function (obj) {\n\treturn new Victor(obj.x || 0, obj.y || 0);\n};\n\n/**\n * # Manipulation\n *\n * These functions are chainable.\n */\n\n/**\n * Adds another vector's X axis to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.addX(vec2);\n *     vec1.toString();\n *     // => x:30, y:10\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addX = function (vec) {\n\tthis.x += vec.x;\n\treturn this;\n};\n\n/**\n * Adds another vector's Y axis to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.addY(vec2);\n *     vec1.toString();\n *     // => x:10, y:40\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addY = function (vec) {\n\tthis.y += vec.y;\n\treturn this;\n};\n\n/**\n * Adds another vector to this one\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.add(vec2);\n *     vec1.toString();\n *     // => x:30, y:40\n *\n * @param {Victor} vector The other vector you want to add to this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.add = function (vec) {\n\tthis.x += vec.x;\n\tthis.y += vec.y;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to both vector axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalar(2);\n *     vec.toString();\n *     // => x: 3, y: 4\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalar = function (scalar) {\n\tthis.x += scalar;\n\tthis.y += scalar;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to the X axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalarX(2);\n *     vec.toString();\n *     // => x: 3, y: 2\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalarX = function (scalar) {\n\tthis.x += scalar;\n\treturn this;\n};\n\n/**\n * Adds the given scalar to the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(1, 2);\n *\n *     vec.addScalarY(2);\n *     vec.toString();\n *     // => x: 1, y: 4\n *\n * @param {Number} scalar The scalar to add\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.addScalarY = function (scalar) {\n\tthis.y += scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the X axis of another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtractX(vec2);\n *     vec1.toString();\n *     // => x:80, y:50\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractX = function (vec) {\n\tthis.x -= vec.x;\n\treturn this;\n};\n\n/**\n * Subtracts the Y axis of another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtractY(vec2);\n *     vec1.toString();\n *     // => x:100, y:20\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractY = function (vec) {\n\tthis.y -= vec.y;\n\treturn this;\n};\n\n/**\n * Subtracts another vector from this one\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(20, 30);\n *\n *     vec1.subtract(vec2);\n *     vec1.toString();\n *     // => x:80, y:20\n *\n * @param {Victor} vector The other vector you want subtract from this one\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtract = function (vec) {\n\tthis.x -= vec.x;\n\tthis.y -= vec.y;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from both axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalar(20);\n *     vec.toString();\n *     // => x: 80, y: 180\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalar = function (scalar) {\n\tthis.x -= scalar;\n\tthis.y -= scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from the X axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalarX(20);\n *     vec.toString();\n *     // => x: 80, y: 200\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalarX = function (scalar) {\n\tthis.x -= scalar;\n\treturn this;\n};\n\n/**\n * Subtracts the given scalar from the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 200);\n *\n *     vec.subtractScalarY(20);\n *     vec.toString();\n *     // => x: 100, y: 180\n *\n * @param {Number} scalar The scalar to subtract\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.subtractScalarY = function (scalar) {\n\tthis.y -= scalar;\n\treturn this;\n};\n\n/**\n * Divides the X axis by the x component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 0);\n *\n *     vec.divideX(vec2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Victor} vector The other vector you want divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideX = function (vector) {\n\tthis.x /= vector.x;\n\treturn this;\n};\n\n/**\n * Divides the Y axis by the y component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(0, 2);\n *\n *     vec.divideY(vec2);\n *     vec.toString();\n *     // => x:100, y:25\n *\n * @param {Victor} vector The other vector you want divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideY = function (vector) {\n\tthis.y /= vector.y;\n\treturn this;\n};\n\n/**\n * Divides both vector axis by a axis values of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 2);\n *\n *     vec.divide(vec2);\n *     vec.toString();\n *     // => x:50, y:25\n *\n * @param {Victor} vector The vector to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divide = function (vector) {\n\tthis.x /= vector.x;\n\tthis.y /= vector.y;\n\treturn this;\n};\n\n/**\n * Divides both vector axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalar(2);\n *     vec.toString();\n *     // => x:50, y:25\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalar = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.x /= scalar;\n\t\tthis.y /= scalar;\n\t} else {\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\t}\n\n\treturn this;\n};\n\n/**\n * Divides the X axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalarX(2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalarX = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.x /= scalar;\n\t} else {\n\t\tthis.x = 0;\n\t}\n\treturn this;\n};\n\n/**\n * Divides the Y axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.divideScalarY(2);\n *     vec.toString();\n *     // => x:100, y:25\n *\n * @param {Number} The scalar to divide by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.divideScalarY = function (scalar) {\n\tif (scalar !== 0) {\n\t\tthis.y /= scalar;\n\t} else {\n\t\tthis.y = 0;\n\t}\n\treturn this;\n};\n\n/**\n * Inverts the X axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invertX();\n *     vec.toString();\n *     // => x:-100, y:50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invertX = function () {\n\tthis.x *= -1;\n\treturn this;\n};\n\n/**\n * Inverts the Y axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invertY();\n *     vec.toString();\n *     // => x:100, y:-50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invertY = function () {\n\tthis.y *= -1;\n\treturn this;\n};\n\n/**\n * Inverts both axis\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.invert();\n *     vec.toString();\n *     // => x:-100, y:-50\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.invert = function () {\n\tthis.invertX();\n\tthis.invertY();\n\treturn this;\n};\n\n/**\n * Multiplies the X axis by X component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 0);\n *\n *     vec.multiplyX(vec2);\n *     vec.toString();\n *     // => x:200, y:50\n *\n * @param {Victor} vector The vector to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyX = function (vector) {\n\tthis.x *= vector.x;\n\treturn this;\n};\n\n/**\n * Multiplies the Y axis by Y component of given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(0, 2);\n *\n *     vec.multiplyX(vec2);\n *     vec.toString();\n *     // => x:100, y:100\n *\n * @param {Victor} vector The vector to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyY = function (vector) {\n\tthis.y *= vector.y;\n\treturn this;\n};\n\n/**\n * Multiplies both vector axis by values from a given vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     var vec2 = new Victor(2, 2);\n *\n *     vec.multiply(vec2);\n *     vec.toString();\n *     // => x:200, y:100\n *\n * @param {Victor} vector The vector to multiply by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiply = function (vector) {\n\tthis.x *= vector.x;\n\tthis.y *= vector.y;\n\treturn this;\n};\n\n/**\n * Multiplies both vector axis by the given scalar value\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalar(2);\n *     vec.toString();\n *     // => x:200, y:100\n *\n * @param {Number} The scalar to multiply by\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalar = function (scalar) {\n\tthis.x *= scalar;\n\tthis.y *= scalar;\n\treturn this;\n};\n\n/**\n * Multiplies the X axis by the given scalar\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalarX(2);\n *     vec.toString();\n *     // => x:200, y:50\n *\n * @param {Number} The scalar to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalarX = function (scalar) {\n\tthis.x *= scalar;\n\treturn this;\n};\n\n/**\n * Multiplies the Y axis by the given scalar\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.multiplyScalarY(2);\n *     vec.toString();\n *     // => x:100, y:100\n *\n * @param {Number} The scalar to multiply the axis with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.multiplyScalarY = function (scalar) {\n\tthis.y *= scalar;\n\treturn this;\n};\n\n/**\n * Normalize\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.normalize = function () {\n\tvar length = this.length();\n\n\tif (length === 0) {\n\t\tthis.x = 1;\n\t\tthis.y = 0;\n\t} else {\n\t\tthis.divide(Victor(length, length));\n\t}\n\treturn this;\n};\n\nVictor.prototype.norm = Victor.prototype.normalize;\n\n/**\n * If the absolute vector axis is greater than `max`, multiplies the axis by `factor`\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.limit(80, 0.9);\n *     vec.toString();\n *     // => x:90, y:50\n *\n * @param {Number} max The maximum value for both x and y axis\n * @param {Number} factor Factor by which the axis are to be multiplied with\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.limit = function (max, factor) {\n\tif (Math.abs(this.x) > max){ this.x *= factor; }\n\tif (Math.abs(this.y) > max){ this.y *= factor; }\n\treturn this;\n};\n\n/**\n * Randomizes both vector axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomize(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:67, y:73\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomize = function (topLeft, bottomRight) {\n\tthis.randomizeX(topLeft, bottomRight);\n\tthis.randomizeY(topLeft, bottomRight);\n\n\treturn this;\n};\n\n/**\n * Randomizes the y axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeX(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:55, y:50\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeX = function (topLeft, bottomRight) {\n\tvar min = Math.min(topLeft.x, bottomRight.x);\n\tvar max = Math.max(topLeft.x, bottomRight.x);\n\tthis.x = random(min, max);\n\treturn this;\n};\n\n/**\n * Randomizes the y axis with a value between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeY(new Victor(50, 60), new Victor(70, 80`));\n *     vec.toString();\n *     // => x:100, y:66\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeY = function (topLeft, bottomRight) {\n\tvar min = Math.min(topLeft.y, bottomRight.y);\n\tvar max = Math.max(topLeft.y, bottomRight.y);\n\tthis.y = random(min, max);\n\treturn this;\n};\n\n/**\n * Randomly randomizes either axis between 2 vectors\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.randomizeAny(new Victor(50, 60), new Victor(70, 80));\n *     vec.toString();\n *     // => x:100, y:77\n *\n * @param {Victor} topLeft first vector\n * @param {Victor} bottomRight second vector\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.randomizeAny = function (topLeft, bottomRight) {\n\tif (!! Math.round(Math.random())) {\n\t\tthis.randomizeX(topLeft, bottomRight);\n\t} else {\n\t\tthis.randomizeY(topLeft, bottomRight);\n\t}\n\treturn this;\n};\n\n/**\n * Rounds both axis to an integer value\n *\n * ### Examples:\n *     var vec = new Victor(100.2, 50.9);\n *\n *     vec.unfloat();\n *     vec.toString();\n *     // => x:100, y:51\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.unfloat = function () {\n\tthis.x = Math.round(this.x);\n\tthis.y = Math.round(this.y);\n\treturn this;\n};\n\n/**\n * Rounds both axis to a certain precision\n *\n * ### Examples:\n *     var vec = new Victor(100.2, 50.9);\n *\n *     vec.unfloat();\n *     vec.toString();\n *     // => x:100, y:51\n *\n * @param {Number} Precision (default: 8)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.toFixed = function (precision) {\n\tif (typeof precision === 'undefined') { precision = 8; }\n\tthis.x = this.x.toFixed(precision);\n\tthis.y = this.y.toFixed(precision);\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation of the X axis towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mixX(vec2, 0.5);\n *     vec.toString();\n *     // => x:150, y:100\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mixX = function (vec, amount) {\n\tif (typeof amount === 'undefined') {\n\t\tamount = 0.5;\n\t}\n\n\tthis.x = (1 - amount) * this.x + amount * vec.x;\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation of the Y axis towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mixY(vec2, 0.5);\n *     vec.toString();\n *     // => x:100, y:150\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mixY = function (vec, amount) {\n\tif (typeof amount === 'undefined') {\n\t\tamount = 0.5;\n\t}\n\n\tthis.y = (1 - amount) * this.y + amount * vec.y;\n\treturn this;\n};\n\n/**\n * Performs a linear blend / interpolation towards another vector\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 100);\n *     var vec2 = new Victor(200, 200);\n *\n *     vec1.mix(vec2, 0.5);\n *     vec.toString();\n *     // => x:150, y:150\n *\n * @param {Victor} vector The other vector\n * @param {Number} amount The blend amount (optional, default: 0.5)\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.mix = function (vec, amount) {\n\tthis.mixX(vec, amount);\n\tthis.mixY(vec, amount);\n\treturn this;\n};\n\n/**\n * # Products\n */\n\n/**\n * Creates a clone of this vector\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = vec1.clone();\n *\n *     vec2.toString();\n *     // => x:10, y:10\n *\n * @return {Victor} A clone of the vector\n * @api public\n */\nVictor.prototype.clone = function () {\n\treturn new Victor(this.x, this.y);\n};\n\n/**\n * Copies another vector's X component in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copyX(vec1);\n *\n *     vec2.toString();\n *     // => x:20, y:10\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copyX = function (vec) {\n\tthis.x = vec.x;\n\treturn this;\n};\n\n/**\n * Copies another vector's Y component in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copyY(vec1);\n *\n *     vec2.toString();\n *     // => x:10, y:20\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copyY = function (vec) {\n\tthis.y = vec.y;\n\treturn this;\n};\n\n/**\n * Copies another vector's X and Y components in to its own\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *     var vec2 = new Victor(20, 20);\n *     var vec2 = vec1.copy(vec1);\n *\n *     vec2.toString();\n *     // => x:20, y:20\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.copy = function (vec) {\n\tthis.copyX(vec);\n\tthis.copyY(vec);\n\treturn this;\n};\n\n/**\n * Sets the vector to zero (0,0)\n *\n * ### Examples:\n *     var vec1 = new Victor(10, 10);\n *\t\t var1.zero();\n *     vec1.toString();\n *     // => x:0, y:0\n *\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.zero = function () {\n\tthis.x = this.y = 0;\n\treturn this;\n};\n\n/**\n * Calculates the dot product of this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.dot(vec2);\n *     // => 23000\n *\n * @param {Victor} vector The second vector\n * @return {Number} Dot product\n * @api public\n */\nVictor.prototype.dot = function (vec2) {\n\treturn this.x * vec2.x + this.y * vec2.y;\n};\n\nVictor.prototype.cross = function (vec2) {\n\treturn (this.x * vec2.y ) - (this.y * vec2.x );\n};\n\n/**\n * Projects a vector onto another vector, setting itself to the result.\n *\n * ### Examples:\n *     var vec = new Victor(100, 0);\n *     var vec2 = new Victor(100, 100);\n *\n *     vec.projectOnto(vec2);\n *     vec.toString();\n *     // => x:50, y:50\n *\n * @param {Victor} vector The other vector you want to project this vector onto\n * @return {Victor} `this` for chaining capabilities\n * @api public\n */\nVictor.prototype.projectOnto = function (vec2) {\n    var coeff = ( (this.x * vec2.x)+(this.y * vec2.y) ) / ((vec2.x*vec2.x)+(vec2.y*vec2.y));\n    this.x = coeff * vec2.x;\n    this.y = coeff * vec2.y;\n    return this;\n};\n\n\nVictor.prototype.horizontalAngle = function () {\n\treturn Math.atan2(this.y, this.x);\n};\n\nVictor.prototype.horizontalAngleDeg = function () {\n\treturn radian2degrees(this.horizontalAngle());\n};\n\nVictor.prototype.verticalAngle = function () {\n\treturn Math.atan2(this.x, this.y);\n};\n\nVictor.prototype.verticalAngleDeg = function () {\n\treturn radian2degrees(this.verticalAngle());\n};\n\nVictor.prototype.angle = Victor.prototype.horizontalAngle;\nVictor.prototype.angleDeg = Victor.prototype.horizontalAngleDeg;\nVictor.prototype.direction = Victor.prototype.horizontalAngle;\n\nVictor.prototype.rotate = function (angle) {\n\tvar nx = (this.x * Math.cos(angle)) - (this.y * Math.sin(angle));\n\tvar ny = (this.x * Math.sin(angle)) + (this.y * Math.cos(angle));\n\n\tthis.x = nx;\n\tthis.y = ny;\n\n\treturn this;\n};\n\nVictor.prototype.rotateDeg = function (angle) {\n\tangle = degrees2radian(angle);\n\treturn this.rotate(angle);\n};\n\nVictor.prototype.rotateTo = function(rotation) {\n\treturn this.rotate(rotation-this.angle());\n};\n\nVictor.prototype.rotateToDeg = function(rotation) {\n\trotation = degrees2radian(rotation);\n\treturn this.rotateTo(rotation);\n};\n\nVictor.prototype.rotateBy = function (rotation) {\n\tvar angle = this.angle() + rotation;\n\n\treturn this.rotate(angle);\n};\n\nVictor.prototype.rotateByDeg = function (rotation) {\n\trotation = degrees2radian(rotation);\n\treturn this.rotateBy(rotation);\n};\n\n/**\n * Calculates the distance of the X axis between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceX(vec2);\n *     // => -100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceX = function (vec) {\n\treturn this.x - vec.x;\n};\n\n/**\n * Same as `distanceX()` but always returns an absolute number\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.absDistanceX(vec2);\n *     // => 100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Absolute distance\n * @api public\n */\nVictor.prototype.absDistanceX = function (vec) {\n\treturn Math.abs(this.distanceX(vec));\n};\n\n/**\n * Calculates the distance of the Y axis between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceY(vec2);\n *     // => -10\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceY = function (vec) {\n\treturn this.y - vec.y;\n};\n\n/**\n * Same as `distanceY()` but always returns an absolute number\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceY(vec2);\n *     // => 10\n *\n * @param {Victor} vector The second vector\n * @return {Number} Absolute distance\n * @api public\n */\nVictor.prototype.absDistanceY = function (vec) {\n\treturn Math.abs(this.distanceY(vec));\n};\n\n/**\n * Calculates the euclidean distance between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distance(vec2);\n *     // => 100.4987562112089\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distance = function (vec) {\n\treturn Math.sqrt(this.distanceSq(vec));\n};\n\n/**\n * Calculates the squared euclidean distance between this vector and another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(200, 60);\n *\n *     vec1.distanceSq(vec2);\n *     // => 10100\n *\n * @param {Victor} vector The second vector\n * @return {Number} Distance\n * @api public\n */\nVictor.prototype.distanceSq = function (vec) {\n\tvar dx = this.distanceX(vec),\n\t\tdy = this.distanceY(vec);\n\n\treturn dx * dx + dy * dy;\n};\n\n/**\n * Calculates the length or magnitude of the vector\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.length();\n *     // => 111.80339887498948\n *\n * @return {Number} Length / Magnitude\n * @api public\n */\nVictor.prototype.length = function () {\n\treturn Math.sqrt(this.lengthSq());\n};\n\n/**\n * Squared length / magnitude\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *\n *     vec.lengthSq();\n *     // => 12500\n *\n * @return {Number} Length / Magnitude\n * @api public\n */\nVictor.prototype.lengthSq = function () {\n\treturn this.x * this.x + this.y * this.y;\n};\n\nVictor.prototype.magnitude = Victor.prototype.length;\n\n/**\n * Returns a true if vector is (0, 0)\n *\n * ### Examples:\n *     var vec = new Victor(100, 50);\n *     vec.zero();\n *\n *     // => true\n *\n * @return {Boolean}\n * @api public\n */\nVictor.prototype.isZero = function() {\n\treturn this.x === 0 && this.y === 0;\n};\n\n/**\n * Returns a true if this vector is the same as another\n *\n * ### Examples:\n *     var vec1 = new Victor(100, 50);\n *     var vec2 = new Victor(100, 50);\n *     vec1.isEqualTo(vec2);\n *\n *     // => true\n *\n * @return {Boolean}\n * @api public\n */\nVictor.prototype.isEqualTo = function(vec2) {\n\treturn this.x === vec2.x && this.y === vec2.y;\n};\n\n/**\n * # Utility Methods\n */\n\n/**\n * Returns an string representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toString();\n *     // => x:10, y:20\n *\n * @return {String}\n * @api public\n */\nVictor.prototype.toString = function () {\n\treturn 'x:' + this.x + ', y:' + this.y;\n};\n\n/**\n * Returns an array representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toArray();\n *     // => [10, 20]\n *\n * @return {Array}\n * @api public\n */\nVictor.prototype.toArray = function () {\n\treturn [ this.x, this.y ];\n};\n\n/**\n * Returns an object representation of the vector\n *\n * ### Examples:\n *     var vec = new Victor(10, 20);\n *\n *     vec.toObject();\n *     // => { x: 10, y: 20 }\n *\n * @return {Object}\n * @api public\n */\nVictor.prototype.toObject = function () {\n\treturn { x: this.x, y: this.y };\n};\n\n\nvar degrees = 180 / Math.PI;\n\nfunction random (min, max) {\n    return Math.floor(Math.random() * (max - min + 1) + min);\n}\n\nfunction radian2degrees (rad) {\n\treturn rad * degrees;\n}\n\nfunction degrees2radian (deg) {\n\treturn deg / degrees;\n}\n","import Vec from 'victor'\n\nconst X = Vec(1,0)\nconst P = 100\n// Maybe a more efficient way, but messier to me.\n\n\nfunction center(R){\n  return new Vec(R.left+R.width/2, R.top+R.height/2)\n}\nfunction rad(R){\n  return new Vec(R.width/2,R.height/2)\n}\n\n// This implementation is based on the L-p unit disk being a square as p -> inf\n// pRad is the radius of the p-norm unit circle at angle theta, stretched by\n// the ratio of 'rectangular radii', see here: https://www.desmos.com/calculator/hzrmdr9j6w\nvar pRad = (theta,p,rW,rH) => Math.pow(Math.pow((rH/rW)*Math.cos(theta),p) +\n                                  Math.pow(Math.sin(theta),p), -1/p)\n// pXY is the cartesian coordinates of the point on the p-norm unit \"circle\" at angle theta.\n// the dimensions are unstretched, somehow only using the longer rectangle-radius is necessary (?)\nvar pXY = (theta,p,rW,rH) => new Vec(rH*Math.cos(theta)*pRad(theta,p,rW,rH),rH*Math.sin(theta)*pRad(theta,p,rW,rH))\n\nexport function nearbyEdgePoints(r1,r2,p1,p2,phase,margin){\n  phase = phase ? phase : Math.PI/16;\n  margin = margin ? margin : 0;\n  if (p1 == undefined){p1 = P}\n  if (p1 == true){p1 = 2}\n  if (p2 == undefined){p2 = P}\n  if (p2 == true){p2 = 2}\n\n  var c1 = center(r1), c2 = center(r2);\n  var rad1 = rad(r1), rad2 = rad(r2);\n  var phi = c2.clone().subtract(c1.clone()).angle()\n  var edgePt1 = pXY(phi+phase,p1,rad1.x+margin,rad1.y+margin).add(c1);\n  var edgePt2 = pXY(phi-phase+Math.PI,p2,rad2.x+margin,rad2.y+margin).add(c2) //new Vec(-edgePt1.x, -edgePt1.y);//.multiplyX(rad1).multiplyY(rad1);\n  return([edgePt1, edgePt2])\n}\n\n// export function localFrameEdgeGap(r1,r2,p1,p2,phase,margin){\n//   phase = phase ? phase : Math.PI/16;\n//   margin = margin ? margin : 0;\n//   if (p1 == undefined){p1 = P}\n//   if (p2 == undefined){p2 = P}\n//   var c1 = center(r1), c2 = center(r2);\n//   var dist = c2.subtract(c1);\n//   var rad1 = rad(r1), rad2 = rad(r2);\n//   var phi = c2.clone().subtract(c1.clone()).angle()\n//   var edgePt1 = pRad(phi+phase,p1,rad1.x+margin,rad1.y+margin);\n//   var edgePt2 = pRad(phi-phase+Math.PI,p2,rad2.x+margin,rad2.y+margin) //new Vec(-edgePt1.x, -edgePt1.y);//.multiplyX(rad1).multiplyY(rad1);\n//   return([c1.clone().add(edgePt1),\n//           c2.clone().add(edgePt2)\n//         ])\n// }\n\n// For some reason this implementation isn't working:\n// var abs = Math.abs\n// var mod = (n, m) => ((n.toFixed(3) % m) + m) % m;\n// var saw = (x,m) => (2/m)*(m/2-abs(mod(x,m*2))-m)\n// function clamp(num, low, high) {\n//   return Math.max(Math.min(num,high),low);\n// }\n//\n// var clampedSaw = (x) => -2*clamp(saw(x,Math.PI),-1/2,1/2)\n// var square = (phi) => new Vec(clampedSaw(phi),clampedSaw(phi-Math.PI/2))\n//\n//\n// export function nearbyEdgePoints(r1,r2){\n//   var c1 = center(r1), c2 = center(r2);\n//   var rad1 = rad(r1), rad2 = rad(r2);\n//   var phi = c2.clone().subtract(c1.clone()).angle()\n//   var edgePt1 = square(phi,P);\n//   var edgePt2 = new Vec(-edgePt1.x, -edgePt1.y);//.multiplyX(rad1).multiplyY(rad1);\n//   return([c1.clone().add(edgePt1.multiply(rad1)),\n//           c2.clone().add(edgePt2.multiply(rad2))\n//         ])\n// }\n","import {line,symbol,symbolTriangle as triangle} from 'd3-shape'\nimport {nearbyEdgePoints} from \"./nearbyRectEdges.js\"\n\nexport const rectCache = Symbol();\nexport const rectInViewport = Symbol();\n// const skipFrames = 10;\n// const skip = Symbol();\n// const rectsEq = (r1,r2) => r1.top == r2.top && r1.bottom == r2.bottom && r1.left == r2.left && r1.right == r2.right\nexport const cacheBoundingRect =  (el) => {\n  // if (el[skip] <= skipFrames) {\n  //   el[skip] += 1\n  //   return\n  // }\n  // var oldRect = el[rectCache]\n  var rect = el[rectCache] = el.getBoundingClientRect()\n  // if (rectsEq(rect, oldRect)) { el[skip] = 0};\n  el[rectInViewport] = (\n        rect.top >= 0 ||\n        rect.left >= 0 ||\n        rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) ||\n        rect.right <= (window.innerWidth || document.documentElement.clientWidth)\n    );\n}\n\nexport const drawEdge = (ctx,edge,graph) => {\n  if ( edge.source[rectInViewport] || edge.target[rectInViewport] ) {\n    var R1 = edge.source[rectCache];\n    var R2 = edge.target[rectCache];\n    var pts = nearbyEdgePoints(R1,R2,edge.source.round,edge.target.round,undefined,0)\n\n    var color = edge.color ? edge.color : graph.color;\n    var thickness = edge.thickness ? edge.thickness : graph.thickness\n    var segments = edge.segments ? edge.segments : graph.segments\n    segments = segments ? segments : []\n    ctx.setLineDash(segments)\n    ctx.strokeStyle = color;\n    ctx.fillStyle = color;\n    ctx.lineWidth = thickness;\n\n    var size = thickness*1;\n    const markerBuffer = 1 + 2*size;\n    const lineBuffer = markerBuffer+3;\n    // var fill = 'magenta'\n    // var stroke = '#222'\n    // var strokeWidth = 2\n\n    // ctx.strokeStyle = \"yellow\";\n    // ctx.fillStyle = \"black\";\n    // ctx.lineWidth = 2;\n    var diff = pts[1].clone().subtract(pts[0])\n    var len = diff.length();\n\n    ctx.beginPath()\n      ctx.save()\n        ctx.translate(pts[0].x,pts[0].y)\n        ctx.rotate(Math.atan2(diff.y,diff.x));\n\n        ctx.moveTo(lineBuffer,0)\n        ctx.lineTo(len-lineBuffer,0)\n        ctx.stroke();\n    ctx.closePath();\n    ctx.beginPath();\n        if(edge.direction <= 0){\n          ctx.save()\n            ctx.rotate(-Math.PI/2)\n            ctx.translate(0,7+markerBuffer)\n            triangle.draw(ctx,5*size*size+25);\n          ctx.restore()\n        }\n        // ctx.rect(lineBuffer,-size/2,len-2*lineBuffer,size);\n        if(edge.direction >= 0){\n          ctx.translate(len,0);\n          ctx.rotate(Math.PI/2);\n          ctx.translate(0,7+markerBuffer);\n          triangle.draw(ctx,5*size*size+25);\n        }\n      ctx.restore();\n\n      ctx.setLineDash([])\n      ctx.stroke();\n      ctx.fill();\n    ctx.closePath();\n  }\n}\n","'use strict';\n\n/**\n * Clone an object\n *\n *     clone(x)\n *\n * Can clone any primitive type, array, and object.\n * If x has a function clone, this function will be invoked to clone the object.\n *\n * @param {*} x\n * @return {*} clone\n */\nexports.clone = function clone(x) {\n  var type = typeof x;\n\n  // immutable primitive types\n  if (type === 'number' || type === 'string' || type === 'boolean' ||\n      x === null || x === undefined) {\n    return x;\n  }\n\n  // use clone function of the object when available\n  if (typeof x.clone === 'function') {\n    return x.clone();\n  }\n\n  // array\n  if (Array.isArray(x)) {\n    return x.map(function (value) {\n      return clone(value);\n    });\n  }\n\n  if (x instanceof Number)    return new Number(x.valueOf());\n  if (x instanceof String)    return new String(x.valueOf());\n  if (x instanceof Boolean)   return new Boolean(x.valueOf());\n  if (x instanceof Date)      return new Date(x.valueOf());\n  if (x && x.isBigNumber === true) return x; // bignumbers are immutable\n  if (x instanceof RegExp)  throw new TypeError('Cannot clone ' + x);  // TODO: clone a RegExp\n\n  // object\n  var m = {};\n  for (var key in x) {\n    if (x.hasOwnProperty(key)) {\n      m[key] = clone(x[key]);\n    }\n  }\n  return m;\n};\n\n/**\n * Extend object a with the properties of object b\n * @param {Object} a\n * @param {Object} b\n * @return {Object} a\n */\nexports.extend = function(a, b) {\n  for (var prop in b) {\n    if (b.hasOwnProperty(prop)) {\n      a[prop] = b[prop];\n    }\n  }\n  return a;\n};\n\n/**\n * Deep extend an object a with the properties of object b\n * @param {Object} a\n * @param {Object} b\n * @returns {Object}\n */\nexports.deepExtend = function deepExtend (a, b) {\n  // TODO: add support for Arrays to deepExtend\n  if (Array.isArray(b)) {\n    throw new TypeError('Arrays are not supported by deepExtend');\n  }\n\n  for (var prop in b) {\n    if (b.hasOwnProperty(prop)) {\n      if (b[prop] && b[prop].constructor === Object) {\n        if (a[prop] === undefined) {\n          a[prop] = {};\n        }\n        if (a[prop].constructor === Object) {\n          deepExtend(a[prop], b[prop]);\n        }\n        else {\n          a[prop] = b[prop];\n        }\n      } else if (Array.isArray(b[prop])) {\n        throw new TypeError('Arrays are not supported by deepExtend');\n      } else {\n        a[prop] = b[prop];\n      }\n    }\n  }\n  return a;\n};\n\n/**\n * Deep test equality of all fields in two pairs of arrays or objects.\n * @param {Array | Object} a\n * @param {Array | Object} b\n * @returns {boolean}\n */\nexports.deepEqual = function deepEqual (a, b) {\n  var prop, i, len;\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b)) {\n      return false;\n    }\n\n    if (a.length != b.length) {\n      return false;\n    }\n\n    for (i = 0, len = a.length; i < len; i++) {\n      if (!exports.deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  else if (a instanceof Object) {\n    if (Array.isArray(b) || !(b instanceof Object)) {\n      return false;\n    }\n\n    for (prop in a) {\n      //noinspection JSUnfilteredForInLoop\n      if (!exports.deepEqual(a[prop], b[prop])) {\n        return false;\n      }\n    }\n    for (prop in b) {\n      //noinspection JSUnfilteredForInLoop\n      if (!exports.deepEqual(a[prop], b[prop])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  else {\n    return (typeof a === typeof b) && (a == b);\n  }\n};\n\n/**\n * Test whether the current JavaScript engine supports Object.defineProperty\n * @returns {boolean} returns true if supported\n */\nexports.canDefineProperty = function () {\n  // test needed for broken IE8 implementation\n  try {\n    if (Object.defineProperty) {\n      Object.defineProperty({}, 'x', { get: function () {} });\n      return true;\n    }\n  } catch (e) {}\n\n  return false;\n};\n\n/**\n * Attach a lazy loading property to a constant.\n * The given function `fn` is called once when the property is first requested.\n * On older browsers (<IE8), the function will fall back to direct evaluation\n * of the properties value.\n * @param {Object} object   Object where to add the property\n * @param {string} prop     Property name\n * @param {Function} fn     Function returning the property value. Called\n *                          without arguments.\n */\nexports.lazy = function (object, prop, fn) {\n  if (exports.canDefineProperty()) {\n    var _uninitialized = true;\n    var _value;\n    Object.defineProperty(object, prop, {\n      get: function () {\n        if (_uninitialized) {\n          _value = fn();\n          _uninitialized = false;\n        }\n        return _value;\n      },\n\n      set: function (value) {\n        _value = value;\n        _uninitialized = false;\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n  else {\n    // fall back to immediate evaluation\n    object[prop] = fn();\n  }\n};\n\n/**\n * Traverse a path into an object.\n * When a namespace is missing, it will be created\n * @param {Object} object\n * @param {string} path   A dot separated string like 'name.space'\n * @return {Object} Returns the object at the end of the path\n */\nexports.traverse = function(object, path) {\n  var obj = object;\n\n  if (path) {\n    var names = path.split('.');\n    for (var i = 0; i < names.length; i++) {\n      var name = names[i];\n      if (!(name in obj)) {\n        obj[name] = {};\n      }\n      obj = obj[name];\n    }\n  }\n\n  return obj;\n};\n\n/**\n * Test whether an object is a factory. a factory has fields:\n *\n * - factory: function (type: Object, config: Object, load: function, typed: function [, math: Object])   (required)\n * - name: string (optional)\n * - path: string    A dot separated path (optional)\n * - math: boolean   If true (false by default), the math namespace is passed\n *                   as fifth argument of the factory function\n *\n * @param {*} object\n * @returns {boolean}\n */\nexports.isFactory = function (object) {\n  return object && typeof object.factory === 'function';\n};\n","/**\n * typed-function\n *\n * Type checking for JavaScript functions\n *\n * https://github.com/josdejong/typed-function\n */\n'use strict';\n\n(function (root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else if (typeof exports === 'object') {\n    // OldNode. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like OldNode.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.typed = factory();\n  }\n}(this, function () {\n  // factory function to create a new instance of typed-function\n  // TODO: allow passing configuration, types, tests via the factory function\n  function create() {\n    /**\n     * Get a type test function for a specific data type\n     * @param {string} name                   Name of a data type like 'number' or 'string'\n     * @returns {Function(obj: *) : boolean}  Returns a type testing function.\n     *                                        Throws an error for an unknown type.\n     */\n    function getTypeTest(name) {\n      var test;\n      for (var i = 0; i < typed.types.length; i++) {\n        var entry = typed.types[i];\n        if (entry.name === name) {\n          test = entry.test;\n          break;\n        }\n      }\n\n      if (!test) {\n        var hint;\n        for (i = 0; i < typed.types.length; i++) {\n          entry = typed.types[i];\n          if (entry.name.toLowerCase() == name.toLowerCase()) {\n            hint = entry.name;\n            break;\n          }\n        }\n\n        throw new Error('Unknown type \"' + name + '\"' +\n            (hint ? ('. Did you mean \"' + hint + '\"?') : ''));\n      }\n      return test;\n    }\n\n    /**\n     * Retrieve the function name from a set of functions, and check\n     * whether the name of all functions match (if given)\n     * @param {Array.<function>} fns\n     */\n    function getName (fns) {\n      var name = '';\n\n      for (var i = 0; i < fns.length; i++) {\n        var fn = fns[i];\n\n        // merge function name when this is a typed function\n        if (fn.signatures && fn.name != '') {\n          if (name == '') {\n            name = fn.name;\n          }\n          else if (name != fn.name) {\n            var err = new Error('Function names do not match (expected: ' + name + ', actual: ' + fn.name + ')');\n            err.data = {\n              actual: fn.name,\n              expected: name\n            };\n            throw err;\n          }\n        }\n      }\n\n      return name;\n    }\n\n    /**\n     * Create an ArgumentsError. Creates messages like:\n     *\n     *   Unexpected type of argument (expected: ..., actual: ..., index: ...)\n     *   Too few arguments (expected: ..., index: ...)\n     *   Too many arguments (expected: ..., actual: ...)\n     *\n     * @param {String} fn         Function name\n     * @param {number} argCount   Number of arguments\n     * @param {Number} index      Current argument index\n     * @param {*} actual          Current argument\n     * @param {string} [expected] An optional, comma separated string with\n     *                            expected types on given index\n     * @extends Error\n     */\n    function createError(fn, argCount, index, actual, expected) {\n      var actualType = getTypeOf(actual);\n      var _expected = expected ? expected.split(',') : null;\n      var _fn = (fn || 'unnamed');\n      var anyType = _expected && contains(_expected, 'any');\n      var message;\n      var data = {\n        fn: fn,\n        index: index,\n        actual: actual,\n        expected: _expected\n      };\n\n      if (_expected) {\n        if (argCount > index && !anyType) {\n          // unexpected type\n          message = 'Unexpected type of argument in function ' + _fn +\n              ' (expected: ' + _expected.join(' or ') + ', actual: ' + actualType + ', index: ' + index + ')';\n        }\n        else {\n          // too few arguments\n          message = 'Too few arguments in function ' + _fn +\n              ' (expected: ' + _expected.join(' or ') + ', index: ' + index + ')';\n        }\n      }\n      else {\n        // too many arguments\n        message = 'Too many arguments in function ' + _fn +\n            ' (expected: ' + index + ', actual: ' + argCount + ')'\n      }\n\n      var err = new TypeError(message);\n      err.data = data;\n      return err;\n    }\n\n    /**\n     * Collection with function references (local shortcuts to functions)\n     * @constructor\n     * @param {string} [name='refs']  Optional name for the refs, used to generate\n     *                                JavaScript code\n     */\n    function Refs(name) {\n      this.name = name || 'refs';\n      this.categories = {};\n    }\n\n    /**\n     * Add a function reference.\n     * @param {Function} fn\n     * @param {string} [category='fn']    A function category, like 'fn' or 'signature'\n     * @returns {string} Returns the function name, for example 'fn0' or 'signature2'\n     */\n    Refs.prototype.add = function (fn, category) {\n      var cat = category || 'fn';\n      if (!this.categories[cat]) this.categories[cat] = [];\n\n      var index = this.categories[cat].indexOf(fn);\n      if (index == -1) {\n        index = this.categories[cat].length;\n        this.categories[cat].push(fn);\n      }\n\n      return cat + index;\n    };\n\n    /**\n     * Create code lines for all function references\n     * @returns {string} Returns the code containing all function references\n     */\n    Refs.prototype.toCode = function () {\n      var code = [];\n      var path = this.name + '.categories';\n      var categories = this.categories;\n\n      for (var cat in categories) {\n        if (categories.hasOwnProperty(cat)) {\n          var category = categories[cat];\n\n          for (var i = 0; i < category.length; i++) {\n            code.push('var ' + cat + i + ' = ' + path + '[\\'' + cat + '\\'][' + i + '];');\n          }\n        }\n      }\n\n      return code.join('\\n');\n    };\n\n    /**\n     * A function parameter\n     * @param {string | string[] | Param} types    A parameter type like 'string',\n     *                                             'number | boolean'\n     * @param {boolean} [varArgs=false]            Variable arguments if true\n     * @constructor\n     */\n    function Param(types, varArgs) {\n      // parse the types, can be a string with types separated by pipe characters |\n      if (typeof types === 'string') {\n        // parse variable arguments operator (ellipses '...number')\n        var _types = types.trim();\n        var _varArgs = _types.substr(0, 3) === '...';\n        if (_varArgs) {\n          _types = _types.substr(3);\n        }\n        if (_types === '') {\n          this.types = ['any'];\n        }\n        else {\n          this.types = _types.split('|');\n          for (var i = 0; i < this.types.length; i++) {\n            this.types[i] = this.types[i].trim();\n          }\n        }\n      }\n      else if (Array.isArray(types)) {\n        this.types = types;\n      }\n      else if (types instanceof Param) {\n        return types.clone();\n      }\n      else {\n        throw new Error('String or Array expected');\n      }\n\n      // can hold a type to which to convert when handling this parameter\n      this.conversions = [];\n      // TODO: implement better API for conversions, be able to add conversions via constructor (support a new type Object?)\n\n      // variable arguments\n      this.varArgs = _varArgs || varArgs || false;\n\n      // check for any type arguments\n      this.anyType = this.types.indexOf('any') !== -1;\n    }\n\n    /**\n     * Order Params\n     * any type ('any') will be ordered last, and object as second last (as other\n     * types may be an object as well, like Array).\n     *\n     * @param {Param} a\n     * @param {Param} b\n     * @returns {number} Returns 1 if a > b, -1 if a < b, and else 0.\n     */\n    Param.compare = function (a, b) {\n      // TODO: simplify parameter comparison, it's a mess\n      if (a.anyType) return 1;\n      if (b.anyType) return -1;\n\n      if (contains(a.types, 'Object')) return 1;\n      if (contains(b.types, 'Object')) return -1;\n\n      if (a.hasConversions()) {\n        if (b.hasConversions()) {\n          var i, ac, bc;\n\n          for (i = 0; i < a.conversions.length; i++) {\n            if (a.conversions[i] !== undefined) {\n              ac = a.conversions[i];\n              break;\n            }\n          }\n\n          for (i = 0; i < b.conversions.length; i++) {\n            if (b.conversions[i] !== undefined) {\n              bc = b.conversions[i];\n              break;\n            }\n          }\n\n          return typed.conversions.indexOf(ac) - typed.conversions.indexOf(bc);\n        }\n        else {\n          return 1;\n        }\n      }\n      else {\n        if (b.hasConversions()) {\n          return -1;\n        }\n        else {\n          // both params have no conversions\n          var ai, bi;\n\n          for (i = 0; i < typed.types.length; i++) {\n            if (typed.types[i].name === a.types[0]) {\n              ai = i;\n              break;\n            }\n          }\n\n          for (i = 0; i < typed.types.length; i++) {\n            if (typed.types[i].name === b.types[0]) {\n              bi = i;\n              break;\n            }\n          }\n\n          return ai - bi;\n        }\n      }\n    };\n\n    /**\n     * Test whether this parameters types overlap an other parameters types.\n     * Will not match ['any'] with ['number']\n     * @param {Param} other\n     * @return {boolean} Returns true when there are overlapping types\n     */\n    Param.prototype.overlapping = function (other) {\n      for (var i = 0; i < this.types.length; i++) {\n        if (contains(other.types, this.types[i])) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Test whether this parameters types matches an other parameters types.\n     * When any of the two parameters contains `any`, true is returned\n     * @param {Param} other\n     * @return {boolean} Returns true when there are matching types\n     */\n    Param.prototype.matches = function (other) {\n      return this.anyType || other.anyType || this.overlapping(other);\n    };\n\n    /**\n     * Create a clone of this param\n     * @returns {Param} Returns a cloned version of this param\n     */\n    Param.prototype.clone = function () {\n      var param = new Param(this.types.slice(), this.varArgs);\n      param.conversions = this.conversions.slice();\n      return param;\n    };\n\n    /**\n     * Test whether this parameter contains conversions\n     * @returns {boolean} Returns true if the parameter contains one or\n     *                    multiple conversions.\n     */\n    Param.prototype.hasConversions = function () {\n      return this.conversions.length > 0;\n    };\n\n    /**\n     * Tests whether this parameters contains any of the provided types\n     * @param {Object} types  A Map with types, like {'number': true}\n     * @returns {boolean}     Returns true when the parameter contains any\n     *                        of the provided types\n     */\n    Param.prototype.contains = function (types) {\n      for (var i = 0; i < this.types.length; i++) {\n        if (types[this.types[i]]) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Return a string representation of this params types, like 'string' or\n     * 'number | boolean' or '...number'\n     * @param {boolean} [toConversion]   If true, the returned types string\n     *                                   contains the types where the parameter\n     *                                   will convert to. If false (default)\n     *                                   the \"from\" types are returned\n     * @returns {string}\n     */\n    Param.prototype.toString = function (toConversion) {\n      var types = [];\n      var keys = {};\n\n      for (var i = 0; i < this.types.length; i++) {\n        var conversion = this.conversions[i];\n        var type = toConversion && conversion ? conversion.to : this.types[i];\n        if (!(type in keys)) {\n          keys[type] = true;\n          types.push(type);\n        }\n      }\n\n      return (this.varArgs ? '...' : '') + types.join('|');\n    };\n\n    /**\n     * A function signature\n     * @param {string | string[] | Param[]} params\n     *                         Array with the type(s) of each parameter,\n     *                         or a comma separated string with types\n     * @param {Function} fn    The actual function\n     * @constructor\n     */\n    function Signature(params, fn) {\n      var _params;\n      if (typeof params === 'string') {\n        _params = (params !== '') ? params.split(',') : [];\n      }\n      else if (Array.isArray(params)) {\n        _params = params;\n      }\n      else {\n        throw new Error('string or Array expected');\n      }\n\n      this.params = new Array(_params.length);\n      this.anyType = false;\n      this.varArgs = false;\n      for (var i = 0; i < _params.length; i++) {\n        var param = new Param(_params[i]);\n        this.params[i] = param;\n        if (param.anyType) {\n          this.anyType = true;\n        }\n        if (i === _params.length - 1) {\n          // the last argument\n          this.varArgs = param.varArgs;\n        }\n        else {\n          // non-last argument\n          if (param.varArgs) {\n            throw new SyntaxError('Unexpected variable arguments operator \"...\"');\n          }\n        }\n      }\n\n      this.fn = fn;\n    }\n\n    /**\n     * Create a clone of this signature\n     * @returns {Signature} Returns a cloned version of this signature\n     */\n    Signature.prototype.clone = function () {\n      return new Signature(this.params.slice(), this.fn);\n    };\n\n    /**\n     * Expand a signature: split params with union types in separate signatures\n     * For example split a Signature \"string | number\" into two signatures.\n     * @return {Signature[]} Returns an array with signatures (at least one)\n     */\n    Signature.prototype.expand = function () {\n      var signatures = [];\n\n      function recurse(signature, path) {\n        if (path.length < signature.params.length) {\n          var i, newParam, conversion;\n\n          var param = signature.params[path.length];\n          if (param.varArgs) {\n            // a variable argument. do not split the types in the parameter\n            newParam = param.clone();\n\n            // add conversions to the parameter\n            // recurse for all conversions\n            for (i = 0; i < typed.conversions.length; i++) {\n              conversion = typed.conversions[i];\n              if (!contains(param.types, conversion.from) && contains(param.types, conversion.to)) {\n                var j = newParam.types.length;\n                newParam.types[j] = conversion.from;\n                newParam.conversions[j] = conversion;\n              }\n            }\n\n            recurse(signature, path.concat(newParam));\n          }\n          else {\n            // split each type in the parameter\n            for (i = 0; i < param.types.length; i++) {\n              recurse(signature, path.concat(new Param(param.types[i])));\n            }\n\n            // recurse for all conversions\n            for (i = 0; i < typed.conversions.length; i++) {\n              conversion = typed.conversions[i];\n              if (!contains(param.types, conversion.from) && contains(param.types, conversion.to)) {\n                newParam = new Param(conversion.from);\n                newParam.conversions[0] = conversion;\n                recurse(signature, path.concat(newParam));\n              }\n            }\n          }\n        }\n        else {\n          signatures.push(new Signature(path, signature.fn));\n        }\n      }\n\n      recurse(this, []);\n\n      return signatures;\n    };\n\n    /**\n     * Compare two signatures.\n     *\n     * When two params are equal and contain conversions, they will be sorted\n     * by lowest index of the first conversions.\n     *\n     * @param {Signature} a\n     * @param {Signature} b\n     * @returns {number} Returns 1 if a > b, -1 if a < b, and else 0.\n     */\n    Signature.compare = function (a, b) {\n      if (a.params.length > b.params.length) return 1;\n      if (a.params.length < b.params.length) return -1;\n\n      // count the number of conversions\n      var i;\n      var len = a.params.length; // a and b have equal amount of params\n      var ac = 0;\n      var bc = 0;\n      for (i = 0; i < len; i++) {\n        if (a.params[i].hasConversions()) ac++;\n        if (b.params[i].hasConversions()) bc++;\n      }\n\n      if (ac > bc) return 1;\n      if (ac < bc) return -1;\n\n      // compare the order per parameter\n      for (i = 0; i < a.params.length; i++) {\n        var cmp = Param.compare(a.params[i], b.params[i]);\n        if (cmp !== 0) {\n          return cmp;\n        }\n      }\n\n      return 0;\n    };\n\n    /**\n     * Test whether any of the signatures parameters has conversions\n     * @return {boolean} Returns true when any of the parameters contains\n     *                   conversions.\n     */\n    Signature.prototype.hasConversions = function () {\n      for (var i = 0; i < this.params.length; i++) {\n        if (this.params[i].hasConversions()) {\n          return true;\n        }\n      }\n      return false;\n    };\n\n    /**\n     * Test whether this signature should be ignored.\n     * Checks whether any of the parameters contains a type listed in\n     * typed.ignore\n     * @return {boolean} Returns true when the signature should be ignored\n     */\n    Signature.prototype.ignore = function () {\n      // create a map with ignored types\n      var types = {};\n      for (var i = 0; i < typed.ignore.length; i++) {\n        types[typed.ignore[i]] = true;\n      }\n\n      // test whether any of the parameters contains this type\n      for (i = 0; i < this.params.length; i++) {\n        if (this.params[i].contains(types)) {\n          return true;\n        }\n      }\n\n      return false;\n    };\n\n    /**\n     * Test whether the path of this signature matches a given path.\n     * @param {Param[]} params\n     */\n    Signature.prototype.paramsStartWith = function (params) {\n      if (params.length === 0) {\n        return true;\n      }\n\n      var aLast = last(this.params);\n      var bLast = last(params);\n\n      for (var i = 0; i < params.length; i++) {\n        var a = this.params[i] || (aLast.varArgs ? aLast: null);\n        var b = params[i]      || (bLast.varArgs ? bLast: null);\n\n        if (!a ||  !b || !a.matches(b)) {\n          return false;\n        }\n      }\n\n      return true;\n    };\n\n    /**\n     * Generate the code to invoke this signature\n     * @param {Refs} refs\n     * @param {string} prefix\n     * @returns {string} Returns code\n     */\n    Signature.prototype.toCode = function (refs, prefix) {\n      var code = [];\n\n      var args = new Array(this.params.length);\n      for (var i = 0; i < this.params.length; i++) {\n        var param = this.params[i];\n        var conversion = param.conversions[0];\n        if (param.varArgs) {\n          args[i] = 'varArgs';\n        }\n        else if (conversion) {\n          args[i] = refs.add(conversion.convert, 'convert') + '(arg' + i + ')';\n        }\n        else {\n          args[i] = 'arg' + i;\n        }\n      }\n\n      var ref = this.fn ? refs.add(this.fn, 'signature') : undefined;\n      if (ref) {\n        return prefix + 'return ' + ref + '(' + args.join(', ') + '); // signature: ' + this.params.join(', ');\n      }\n\n      return code.join('\\n');\n    };\n\n    /**\n     * Return a string representation of the signature\n     * @returns {string}\n     */\n    Signature.prototype.toString = function () {\n      return this.params.join(', ');\n    };\n\n    /**\n     * A group of signatures with the same parameter on given index\n     * @param {Param[]} path\n     * @param {Signature} [signature]\n     * @param {Node[]} childs\n     * @param {boolean} [fallThrough=false]\n     * @constructor\n     */\n    function Node(path, signature, childs, fallThrough) {\n      this.path = path || [];\n      this.param = path[path.length - 1] || null;\n      this.signature = signature || null;\n      this.childs = childs || [];\n      this.fallThrough = fallThrough || false;\n    }\n\n    /**\n     * Generate code for this group of signatures\n     * @param {Refs} refs\n     * @param {string} prefix\n     * @returns {string} Returns the code as string\n     */\n    Node.prototype.toCode = function (refs, prefix) {\n      // TODO: split this function in multiple functions, it's too large\n      var code = [];\n\n      if (this.param) {\n        var index = this.path.length - 1;\n        var conversion = this.param.conversions[0];\n        var comment = '// type: ' + (conversion ?\n                (conversion.from + ' (convert to ' + conversion.to + ')') :\n                this.param);\n\n        // non-root node (path is non-empty)\n        if (this.param.varArgs) {\n          if (this.param.anyType) {\n            // variable arguments with any type\n            code.push(prefix + 'if (arguments.length > ' + index + ') {');\n            code.push(prefix + '  var varArgs = [];');\n            code.push(prefix + '  for (var i = ' + index + '; i < arguments.length; i++) {');\n            code.push(prefix + '    varArgs.push(arguments[i]);');\n            code.push(prefix + '  }');\n            code.push(this.signature.toCode(refs, prefix + '  '));\n            code.push(prefix + '}');\n          }\n          else {\n            // variable arguments with a fixed type\n            var getTests = function (types, arg) {\n              var tests = [];\n              for (var i = 0; i < types.length; i++) {\n                tests[i] = refs.add(getTypeTest(types[i]), 'test') + '(' + arg + ')';\n              }\n              return tests.join(' || ');\n            }.bind(this);\n\n            var allTypes = this.param.types;\n            var exactTypes = [];\n            for (var i = 0; i < allTypes.length; i++) {\n              if (this.param.conversions[i] === undefined) {\n                exactTypes.push(allTypes[i]);\n              }\n            }\n\n            code.push(prefix + 'if (' + getTests(allTypes, 'arg' + index) + ') { ' + comment);\n            code.push(prefix + '  var varArgs = [arg' + index + '];');\n            code.push(prefix + '  for (var i = ' + (index + 1) + '; i < arguments.length; i++) {');\n            code.push(prefix + '    if (' + getTests(exactTypes, 'arguments[i]') + ') {');\n            code.push(prefix + '      varArgs.push(arguments[i]);');\n\n            for (var i = 0; i < allTypes.length; i++) {\n              var conversion_i = this.param.conversions[i];\n              if (conversion_i) {\n                var test = refs.add(getTypeTest(allTypes[i]), 'test');\n                var convert = refs.add(conversion_i.convert, 'convert');\n                code.push(prefix + '    }');\n                code.push(prefix + '    else if (' + test + '(arguments[i])) {');\n                code.push(prefix + '      varArgs.push(' + convert + '(arguments[i]));');\n              }\n            }\n            code.push(prefix + '    } else {');\n            code.push(prefix + '      throw createError(name, arguments.length, i, arguments[i], \\'' + exactTypes.join(',') + '\\');');\n            code.push(prefix + '    }');\n            code.push(prefix + '  }');\n            code.push(this.signature.toCode(refs, prefix + '  '));\n            code.push(prefix + '}');\n          }\n        }\n        else {\n          if (this.param.anyType) {\n            // any type\n            code.push(prefix + '// type: any');\n            code.push(this._innerCode(refs, prefix));\n          }\n          else {\n            // regular type\n            var type = this.param.types[0];\n            var test = type !== 'any' ? refs.add(getTypeTest(type), 'test') : null;\n\n            code.push(prefix + 'if (' + test + '(arg' + index + ')) { ' + comment);\n            code.push(this._innerCode(refs, prefix + '  '));\n            code.push(prefix + '}');\n          }\n        }\n      }\n      else {\n        // root node (path is empty)\n        code.push(this._innerCode(refs, prefix));\n      }\n\n      return code.join('\\n');\n    };\n\n    /**\n     * Generate inner code for this group of signatures.\n     * This is a helper function of Node.prototype.toCode\n     * @param {Refs} refs\n     * @param {string} prefix\n     * @returns {string} Returns the inner code as string\n     * @private\n     */\n    Node.prototype._innerCode = function (refs, prefix) {\n      var code = [];\n      var i;\n\n      if (this.signature) {\n        code.push(prefix + 'if (arguments.length === ' + this.path.length + ') {');\n        code.push(this.signature.toCode(refs, prefix + '  '));\n        code.push(prefix + '}');\n      }\n\n      for (i = 0; i < this.childs.length; i++) {\n        code.push(this.childs[i].toCode(refs, prefix));\n      }\n\n      // TODO: shouldn't the this.param.anyType check be redundant\n      if (!this.fallThrough || (this.param && this.param.anyType)) {\n        var exceptions = this._exceptions(refs, prefix);\n        if (exceptions) {\n          code.push(exceptions);\n        }\n      }\n\n      return code.join('\\n');\n    };\n\n\n    /**\n     * Generate code to throw exceptions\n     * @param {Refs} refs\n     * @param {string} prefix\n     * @returns {string} Returns the inner code as string\n     * @private\n     */\n    Node.prototype._exceptions = function (refs, prefix) {\n      var index = this.path.length;\n\n      if (this.childs.length === 0) {\n        // TODO: can this condition be simplified? (we have a fall-through here)\n        return [\n          prefix + 'if (arguments.length > ' + index + ') {',\n          prefix + '  throw createError(name, arguments.length, ' + index + ', arguments[' + index + ']);',\n          prefix + '}'\n        ].join('\\n');\n      }\n      else {\n        var keys = {};\n        var types = [];\n\n        for (var i = 0; i < this.childs.length; i++) {\n          var node = this.childs[i];\n          if (node.param) {\n            for (var j = 0; j < node.param.types.length; j++) {\n              var type = node.param.types[j];\n              if (!(type in keys) && !node.param.conversions[j]) {\n                keys[type] = true;\n                types.push(type);\n              }\n            }\n          }\n        }\n\n        return prefix + 'throw createError(name, arguments.length, ' + index + ', arguments[' + index + '], \\'' + types.join(',') + '\\');';\n      }\n    };\n\n    /**\n     * Split all raw signatures into an array with expanded Signatures\n     * @param {Object.<string, Function>} rawSignatures\n     * @return {Signature[]} Returns an array with expanded signatures\n     */\n    function parseSignatures(rawSignatures) {\n      // FIXME: need to have deterministic ordering of signatures, do not create via object\n      var signature;\n      var keys = {};\n      var signatures = [];\n      var i;\n\n      for (var types in rawSignatures) {\n        if (rawSignatures.hasOwnProperty(types)) {\n          var fn = rawSignatures[types];\n          signature = new Signature(types, fn);\n\n          if (signature.ignore()) {\n            continue;\n          }\n\n          var expanded = signature.expand();\n\n          for (i = 0; i < expanded.length; i++) {\n            var signature_i = expanded[i];\n            var key = signature_i.toString();\n            var existing = keys[key];\n            if (!existing) {\n              keys[key] = signature_i;\n            }\n            else {\n              var cmp = Signature.compare(signature_i, existing);\n              if (cmp < 0) {\n                // override if sorted first\n                keys[key] = signature_i;\n              }\n              else if (cmp === 0) {\n                throw new Error('Signature \"' + key + '\" is defined twice');\n              }\n              // else: just ignore\n            }\n          }\n        }\n      }\n\n      // convert from map to array\n      for (key in keys) {\n        if (keys.hasOwnProperty(key)) {\n          signatures.push(keys[key]);\n        }\n      }\n\n      // order the signatures\n      signatures.sort(function (a, b) {\n        return Signature.compare(a, b);\n      });\n\n      // filter redundant conversions from signatures with varArgs\n      // TODO: simplify this loop or move it to a separate function\n      for (i = 0; i < signatures.length; i++) {\n        signature = signatures[i];\n\n        if (signature.varArgs) {\n          var index = signature.params.length - 1;\n          var param = signature.params[index];\n\n          var t = 0;\n          while (t < param.types.length) {\n            if (param.conversions[t]) {\n              var type = param.types[t];\n\n              for (var j = 0; j < signatures.length; j++) {\n                var other = signatures[j];\n                var p = other.params[index];\n\n                if (other !== signature &&\n                    p &&\n                    contains(p.types, type) && !p.conversions[index]) {\n                  // this (conversion) type already exists, remove it\n                  param.types.splice(t, 1);\n                  param.conversions.splice(t, 1);\n                  t--;\n                  break;\n                }\n              }\n            }\n            t++;\n          }\n        }\n      }\n\n      return signatures;\n    }\n\n    /**\n     * Filter all any type signatures\n     * @param {Signature[]} signatures\n     * @return {Signature[]} Returns only any type signatures\n     */\n    function filterAnyTypeSignatures (signatures) {\n      var filtered = [];\n\n      for (var i = 0; i < signatures.length; i++) {\n        if (signatures[i].anyType) {\n          filtered.push(signatures[i]);\n        }\n      }\n\n      return filtered;\n    }\n\n    /**\n     * create a map with normalized signatures as key and the function as value\n     * @param {Signature[]} signatures   An array with split signatures\n     * @return {Object.<string, Function>} Returns a map with normalized\n     *                                     signatures as key, and the function\n     *                                     as value.\n     */\n    function mapSignatures(signatures) {\n      var normalized = {};\n\n      for (var i = 0; i < signatures.length; i++) {\n        var signature = signatures[i];\n        if (signature.fn && !signature.hasConversions()) {\n          var params = signature.params.join(',');\n          normalized[params] = signature.fn;\n        }\n      }\n\n      return normalized;\n    }\n\n    /**\n     * Parse signatures recursively in a node tree.\n     * @param {Signature[]} signatures  Array with expanded signatures\n     * @param {Param[]} path            Traversed path of parameter types\n     * @param {Signature[]} anys\n     * @return {Node}                   Returns a node tree\n     */\n    function parseTree(signatures, path, anys) {\n      var i, signature;\n      var index = path.length;\n      var nodeSignature;\n\n      var filtered = [];\n      for (i = 0; i < signatures.length; i++) {\n        signature = signatures[i];\n\n        // filter the first signature with the correct number of params\n        if (signature.params.length === index && !nodeSignature) {\n          nodeSignature = signature;\n        }\n\n        if (signature.params[index] != undefined) {\n          filtered.push(signature);\n        }\n      }\n\n      // sort the filtered signatures by param\n      filtered.sort(function (a, b) {\n        return Param.compare(a.params[index], b.params[index]);\n      });\n\n      // recurse over the signatures\n      var entries = [];\n      for (i = 0; i < filtered.length; i++) {\n        signature = filtered[i];\n        // group signatures with the same param at current index\n        var param = signature.params[index];\n\n        // TODO: replace the next filter loop\n        var existing = entries.filter(function (entry) {\n          return entry.param.overlapping(param);\n        })[0];\n\n        //var existing;\n        //for (var j = 0; j < entries.length; j++) {\n        //  if (entries[j].param.overlapping(param)) {\n        //    existing = entries[j];\n        //    break;\n        //  }\n        //}\n\n        if (existing) {\n          if (existing.param.varArgs) {\n            throw new Error('Conflicting types \"' + existing.param + '\" and \"' + param + '\"');\n          }\n          existing.signatures.push(signature);\n        }\n        else {\n          entries.push({\n            param: param,\n            signatures: [signature]\n          });\n        }\n      }\n\n      // find all any type signature that can still match our current path\n      var matchingAnys = [];\n      for (i = 0; i < anys.length; i++) {\n        if (anys[i].paramsStartWith(path)) {\n          matchingAnys.push(anys[i]);\n        }\n      }\n\n      // see if there are any type signatures that don't match any of the\n      // signatures that we have in our tree, i.e. we have alternative\n      // matching signature(s) outside of our current tree and we should\n      // fall through to them instead of throwing an exception\n      var fallThrough = false;\n      for (i = 0; i < matchingAnys.length; i++) {\n        if (!contains(signatures, matchingAnys[i])) {\n          fallThrough = true;\n          break;\n        }\n      }\n\n      // parse the childs\n      var childs = new Array(entries.length);\n      for (i = 0; i < entries.length; i++) {\n        var entry = entries[i];\n        childs[i] = parseTree(entry.signatures, path.concat(entry.param), matchingAnys)\n      }\n\n      return new Node(path, nodeSignature, childs, fallThrough);\n    }\n\n    /**\n     * Generate an array like ['arg0', 'arg1', 'arg2']\n     * @param {number} count Number of arguments to generate\n     * @returns {Array} Returns an array with argument names\n     */\n    function getArgs(count) {\n      // create an array with all argument names\n      var args = [];\n      for (var i = 0; i < count; i++) {\n        args[i] = 'arg' + i;\n      }\n\n      return args;\n    }\n\n    /**\n     * Compose a function from sub-functions each handling a single type signature.\n     * Signatures:\n     *   typed(signature: string, fn: function)\n     *   typed(name: string, signature: string, fn: function)\n     *   typed(signatures: Object.<string, function>)\n     *   typed(name: string, signatures: Object.<string, function>)\n     *\n     * @param {string | null} name\n     * @param {Object.<string, Function>} signatures\n     * @return {Function} Returns the typed function\n     * @private\n     */\n    function _typed(name, signatures) {\n      var refs = new Refs();\n\n      // parse signatures, expand them\n      var _signatures = parseSignatures(signatures);\n      if (_signatures.length == 0) {\n        throw new Error('No signatures provided');\n      }\n\n      // filter all any type signatures\n      var anys = filterAnyTypeSignatures(_signatures);\n\n      // parse signatures into a node tree\n      var node = parseTree(_signatures, [], anys);\n\n      //var util = require('util');\n      //console.log('ROOT');\n      //console.log(util.inspect(node, { depth: null }));\n\n      // generate code for the typed function\n      var code = [];\n      var _name = name || '';\n      var _args = getArgs(maxParams(_signatures));\n      code.push('function ' + _name + '(' + _args.join(', ') + ') {');\n      code.push('  \"use strict\";');\n      code.push('  var name = \\'' + _name + '\\';');\n      code.push(node.toCode(refs, '  ', false));\n      code.push('}');\n\n      // generate body for the factory function\n      var body = [\n        refs.toCode(),\n        'return ' + code.join('\\n')\n      ].join('\\n');\n\n      // evaluate the JavaScript code and attach function references\n      var factory = (new Function(refs.name, 'createError', body));\n      var fn = factory(refs, createError);\n\n      //console.log('FN\\n' + fn.toString()); // TODO: cleanup\n\n      // attach the signatures with sub-functions to the constructed function\n      fn.signatures = mapSignatures(_signatures);\n\n      return fn;\n    }\n\n    /**\n     * Calculate the maximum number of parameters in givens signatures\n     * @param {Signature[]} signatures\n     * @returns {number} The maximum number of parameters\n     */\n    function maxParams(signatures) {\n      var max = 0;\n\n      for (var i = 0; i < signatures.length; i++) {\n        var len = signatures[i].params.length;\n        if (len > max) {\n          max = len;\n        }\n      }\n\n      return max;\n    }\n\n    /**\n     * Get the type of a value\n     * @param {*} x\n     * @returns {string} Returns a string with the type of value\n     */\n    function getTypeOf(x) {\n      var obj;\n\n      for (var i = 0; i < typed.types.length; i++) {\n        var entry = typed.types[i];\n\n        if (entry.name === 'Object') {\n          // Array and Date are also Object, so test for Object afterwards\n          obj = entry;\n        }\n        else {\n          if (entry.test(x)) return entry.name;\n        }\n      }\n\n      // at last, test whether an object\n      if (obj && obj.test(x)) return obj.name;\n\n      return 'unknown';\n    }\n\n    /**\n     * Test whether an array contains some item\n     * @param {Array} array\n     * @param {*} item\n     * @return {boolean} Returns true if array contains item, false if not.\n     */\n    function contains(array, item) {\n      return array.indexOf(item) !== -1;\n    }\n\n    /**\n     * Returns the last item in the array\n     * @param {Array} array\n     * @return {*} item\n     */\n    function last (array) {\n      return array[array.length - 1];\n    }\n\n    // data type tests\n    var types = [\n      { name: 'number',    test: function (x) { return typeof x === 'number' } },\n      { name: 'string',    test: function (x) { return typeof x === 'string' } },\n      { name: 'boolean',   test: function (x) { return typeof x === 'boolean' } },\n      { name: 'Function',  test: function (x) { return typeof x === 'function'} },\n      { name: 'Array',     test: Array.isArray },\n      { name: 'Date',      test: function (x) { return x instanceof Date } },\n      { name: 'RegExp',    test: function (x) { return x instanceof RegExp } },\n      { name: 'Object',    test: function (x) { return typeof x === 'object' } },\n      { name: 'null',      test: function (x) { return x === null } },\n      { name: 'undefined', test: function (x) { return x === undefined } }\n    ];\n\n    // configuration\n    var config = {};\n\n    // type conversions. Order is important\n    var conversions = [];\n\n    // types to be ignored\n    var ignore = [];\n\n    // temporary object for holding types and conversions, for constructing\n    // the `typed` function itself\n    // TODO: find a more elegant solution for this\n    var typed = {\n      config: config,\n      types: types,\n      conversions: conversions,\n      ignore: ignore\n    };\n\n    /**\n     * Construct the typed function itself with various signatures\n     *\n     * Signatures:\n     *\n     *   typed(signatures: Object.<string, function>)\n     *   typed(name: string, signatures: Object.<string, function>)\n     */\n    typed = _typed('typed', {\n      'Object': function (signatures) {\n        var fns = [];\n        for (var signature in signatures) {\n          if (signatures.hasOwnProperty(signature)) {\n            fns.push(signatures[signature]);\n          }\n        }\n        var name = getName(fns);\n\n        return _typed(name, signatures);\n      },\n      'string, Object': _typed,\n      // TODO: add a signature 'Array.<function>'\n      '...Function': function (fns) {\n        var err;\n        var name = getName(fns);\n        var signatures = {};\n\n        for (var i = 0; i < fns.length; i++) {\n          var fn = fns[i];\n\n          // test whether this is a typed-function\n          if (!(typeof fn.signatures === 'object')) {\n            err = new TypeError('Function is no typed-function (index: ' + i + ')');\n            err.data = {index: i};\n            throw err;\n          }\n\n          // merge the signatures\n          for (var signature in fn.signatures) {\n            if (fn.signatures.hasOwnProperty(signature)) {\n              if (signatures.hasOwnProperty(signature)) {\n                if (fn.signatures[signature] !== signatures[signature]) {\n                  err = new Error('Signature \"' + signature + '\" is defined twice');\n                  err.data = {signature: signature};\n                  throw err;\n                }\n                // else: both signatures point to the same function, that's fine\n              }\n              else {\n                signatures[signature] = fn.signatures[signature];\n              }\n            }\n          }\n        }\n\n        return _typed(name, signatures);\n      }\n    });\n\n    /**\n     * Find a specific signature from a (composed) typed function, for\n     * example:\n     *\n     *   typed.find(fn, ['number', 'string'])\n     *   typed.find(fn, 'number, string')\n     *\n     * Function find only only works for exact matches.\n     *\n     * @param {Function} fn                   A typed-function\n     * @param {string | string[]} signature   Signature to be found, can be\n     *                                        an array or a comma separated string.\n     * @return {Function}                     Returns the matching signature, or\n     *                                        throws an errror when no signature\n     *                                        is found.\n     */\n    function find (fn, signature) {\n      if (!fn.signatures) {\n        throw new TypeError('Function is no typed-function');\n      }\n\n      // normalize input\n      var arr;\n      if (typeof signature === 'string') {\n        arr = signature.split(',');\n        for (var i = 0; i < arr.length; i++) {\n          arr[i] = arr[i].trim();\n        }\n      }\n      else if (Array.isArray(signature)) {\n        arr = signature;\n      }\n      else {\n        throw new TypeError('String array or a comma separated string expected');\n      }\n\n      var str = arr.join(',');\n\n      // find an exact match\n      var match = fn.signatures[str];\n      if (match) {\n        return match;\n      }\n\n      // TODO: extend find to match non-exact signatures\n\n      throw new TypeError('Signature not found (signature: ' + (fn.name || 'unnamed') + '(' + arr.join(', ') + '))');\n    }\n\n    /**\n     * Convert a given value to another data type.\n     * @param {*} value\n     * @param {string} type\n     */\n    function convert (value, type) {\n      var from = getTypeOf(value);\n\n      // check conversion is needed\n      if (type === from) {\n        return value;\n      }\n\n      for (var i = 0; i < typed.conversions.length; i++) {\n        var conversion = typed.conversions[i];\n        if (conversion.from === from && conversion.to === type) {\n          return conversion.convert(value);\n        }\n      }\n\n      throw new Error('Cannot convert from ' + from + ' to ' + type);\n    }\n\n    // attach types and conversions to the final `typed` function\n    typed.config = config;\n    typed.types = types;\n    typed.conversions = conversions;\n    typed.ignore = ignore;\n    typed.create = create;\n    typed.find = find;\n    typed.convert = convert;\n\n    // add a type\n    typed.addType = function (type) {\n      if (!type || typeof type.name !== 'string' || typeof type.test !== 'function') {\n        throw new TypeError('Object with properties {name: string, test: function} expected');\n      }\n\n      typed.types.push(type);\n    };\n\n    // add a conversion\n    typed.addConversion = function (conversion) {\n      if (!conversion\n          || typeof conversion.from !== 'string'\n          || typeof conversion.to !== 'string'\n          || typeof conversion.convert !== 'function') {\n        throw new TypeError('Object with properties {from: string, to: string, convert: function} expected');\n      }\n\n      typed.conversions.push(conversion);\n    };\n\n    return typed;\n  }\n\n  return create();\n}));\n","'use strict';\n\n/**\n * Format a number using methods toPrecision, toFixed, toExponential.\n * @param {number | string} value\n * @constructor\n */\nfunction NumberFormatter (value) {\n  // parse the input value\n  var match = String(value).toLowerCase().match(/^0*?(-?)(\\d+\\.?\\d*)(e([+-]?\\d+))?$/);\n  if (!match) {\n    throw new SyntaxError('Invalid number');\n  }\n\n  var sign         = match[1];\n  var coefficients = match[2];\n  var exponent     = parseFloat(match[4] || '0');\n\n  var dot = coefficients.indexOf('.');\n  exponent += (dot !== -1) ? (dot - 1) : (coefficients.length - 1);\n\n  this.sign = sign;\n  this.coefficients = coefficients\n      .replace('.', '')  // remove the dot (must be removed before removing leading zeros)\n      .replace(/^0*/, function (zeros) {\n        // remove leading zeros, add their count to the exponent\n        exponent -= zeros.length;\n        return '';\n      })\n      .replace(/0*$/, '') // remove trailing zeros\n      .split('')\n      .map(function (d) {\n        return parseInt(d);\n      });\n\n  if (this.coefficients.length === 0) {\n    this.coefficients.push(0);\n    exponent++;\n  }\n\n  this.exponent = exponent;\n}\n\n\n/**\n * Format a number with engineering notation.\n * @param {number} [precision=0]        Optional number of decimals after the\n *                                      decimal point. Zero by default.\n */\nNumberFormatter.prototype.toEngineering = function(precision) {\n  var rounded = this.roundDigits(precision);\n\n  var e = rounded.exponent;\n  var c = rounded.coefficients;\n\n  // find nearest lower multiple of 3 for exponent\n  var newExp = e % 3 === 0 ? e : (e < 0 ? (e - 3) - (e % 3) : e - (e % 3));\n\n  // concatenate coefficients with necessary zeros\n  var significandsDiff = e >= 0 ? e : Math.abs(newExp);\n\n  // add zeros if necessary (for ex: 1e+8)\n  if (c.length - 1 < significandsDiff) c = c.concat(zeros(significandsDiff - (c.length - 1)));\n\n  // find difference in exponents\n  var expDiff = Math.abs(e - newExp);\n\n  var decimalIdx = 1;\n  var str = '';\n\n  // push decimal index over by expDiff times\n  while (--expDiff >= 0) decimalIdx++;\n\n  // if all coefficient values are zero after the decimal point, don't add a decimal value. \n  // otherwise concat with the rest of the coefficients\n  var decimals = c.slice(decimalIdx).join('');\n  var decimalVal = decimals.match(/[1-9]/) ? ('.' + decimals) : '';\n\n  str = c.slice(0, decimalIdx).join('') + decimalVal;\n\n  str += 'e' + (e >= 0 ? '+' : '') + newExp.toString();\n  return rounded.sign + str;\n}\n\n/**\n * Format a number with fixed notation.\n * @param {number} [precision=0]        Optional number of decimals after the\n *                                      decimal point. Zero by default.\n */\nNumberFormatter.prototype.toFixed = function (precision) {\n  var rounded = this.roundDigits(this.exponent + 1 + (precision || 0));\n  var c = rounded.coefficients;\n  var p = rounded.exponent + 1; // exponent may have changed\n\n  // append zeros if needed\n  var pp = p + (precision || 0);\n  if (c.length < pp) {\n    c = c.concat(zeros(pp - c.length));\n  }\n\n  // prepend zeros if needed\n  if (p < 0) {\n    c = zeros(-p + 1).concat(c);\n    p = 1;\n  }\n\n  // insert a dot if needed\n  if (precision) {\n    c.splice(p, 0, (p === 0) ? '0.' : '.');\n  }\n\n  return this.sign + c.join('');\n};\n\n/**\n * Format a number in exponential notation. Like '1.23e+5', '2.3e+0', '3.500e-3'\n * @param {number} [precision]  Number of digits in formatted output.\n *                              If not provided, the maximum available digits\n *                              is used.\n */\nNumberFormatter.prototype.toExponential = function (precision) {\n  // round if needed, else create a clone\n  var rounded = precision ? this.roundDigits(precision) : this.clone();\n  var c = rounded.coefficients;\n  var e = rounded.exponent;\n\n  // append zeros if needed\n  if (c.length < precision) {\n    c = c.concat(zeros(precision - c.length));\n  }\n\n  // format as `C.CCCe+EEE` or `C.CCCe-EEE`\n  var first = c.shift();\n  return this.sign + first + (c.length > 0 ? ('.' + c.join('')) : '') +\n      'e' + (e >= 0 ? '+' : '') + e;\n};\n\n/**\n * Format a number with a certain precision\n * @param {number} [precision=undefined] Optional number of digits.\n * @param {{lower: number | undefined, upper: number | undefined}} [options]\n *                                       By default:\n *                                         lower = 1e-3 (excl)\n *                                         upper = 1e+5 (incl)\n * @return {string}\n */\nNumberFormatter.prototype.toPrecision = function(precision, options) {\n  // determine lower and upper bound for exponential notation.\n  var lower = (options && options.lower !== undefined) ? options.lower : 1e-3;\n  var upper = (options && options.upper !== undefined) ? options.upper : 1e+5;\n\n  var abs = Math.abs(Math.pow(10, this.exponent));\n  if (abs < lower || abs >= upper) {\n    // exponential notation\n    return this.toExponential(precision);\n  }\n  else {\n    var rounded = precision ? this.roundDigits(precision) : this.clone();\n    var c = rounded.coefficients;\n    var e = rounded.exponent;\n\n    // append trailing zeros\n    if (c.length < precision) {\n      c = c.concat(zeros(precision - c.length));\n    }\n\n    // append trailing zeros\n    // TODO: simplify the next statement\n    c = c.concat(zeros(e - c.length + 1 +\n        (c.length < precision ? precision - c.length : 0)));\n\n    // prepend zeros\n    c = zeros(-e).concat(c);\n\n    var dot = e > 0 ? e : 0;\n    if (dot < c.length - 1) {\n      c.splice(dot + 1, 0, '.');\n    }\n\n    return this.sign + c.join('');\n  }\n};\n\n/**\n * Crete a clone of the NumberFormatter\n * @return {NumberFormatter} Returns a clone of the NumberFormatter\n */\nNumberFormatter.prototype.clone = function () {\n  var clone = new NumberFormatter('0');\n  clone.sign = this.sign;\n  clone.coefficients = this.coefficients.slice(0);\n  clone.exponent = this.exponent;\n  return clone;\n};\n\n/**\n * Round the number of digits of a number *\n * @param {number} precision  A positive integer\n * @return {NumberFormatter}  Returns a new NumberFormatter with the rounded\n *                            digits\n */\nNumberFormatter.prototype.roundDigits = function (precision) {\n  var rounded = this.clone();\n  var c = rounded.coefficients;\n\n  // prepend zeros if needed\n  while (precision <= 0) {\n    c.unshift(0);\n    rounded.exponent++;\n    precision++;\n  }\n\n  if (c.length > precision) {\n    var removed = c.splice(precision, c.length - precision);\n\n    if (removed[0] >= 5) {\n      var i = precision - 1;\n      c[i]++;\n      while (c[i] === 10) {\n        c.pop();\n        if (i === 0) {\n          c.unshift(0);\n          rounded.exponent++;\n          i++;\n        }\n        i--;\n        c[i]++;\n      }\n    }\n  }\n\n  return rounded;\n};\n\n/**\n * Create an array filled with zeros.\n * @param {number} length\n * @return {Array}\n */\nfunction zeros(length) {\n  var arr = [];\n  for (var i = 0; i < length; i++) {\n    arr.push(0);\n  }\n  return arr;\n}\n\nmodule.exports = NumberFormatter;\n","'use strict';\n\nvar NumberFormatter = require('./NumberFormatter');\n\n/**\n * Test whether value is a number\n * @param {*} value\n * @return {boolean} isNumber\n */\nexports.isNumber = function(value) {\n  return typeof value === 'number';\n};\n\n/**\n * Check if a number is integer\n * @param {number | boolean} value\n * @return {boolean} isInteger\n */\nexports.isInteger = function(value) {\n  return isFinite(value)\n      ? (value == Math.round(value))\n      : false;\n  // Note: we use ==, not ===, as we can have Booleans as well\n};\n\n/**\n * Calculate the sign of a number\n * @param {number} x\n * @returns {*}\n */\nexports.sign = Math.sign || function(x) {\n  if (x > 0) {\n    return 1;\n  }\n  else if (x < 0) {\n    return -1;\n  }\n  else {\n    return 0;\n  }\n};\n\n/**\n * Convert a number to a formatted string representation.\n *\n * Syntax:\n *\n *    format(value)\n *    format(value, options)\n *    format(value, precision)\n *    format(value, fn)\n *\n * Where:\n *\n *    {number} value   The value to be formatted\n *    {Object} options An object with formatting options. Available options:\n *                     {string} notation\n *                         Number notation. Choose from:\n *                         'fixed'          Always use regular number notation.\n *                                          For example '123.40' and '14000000'\n *                         'exponential'    Always use exponential notation.\n *                                          For example '1.234e+2' and '1.4e+7'\n *                         'engineering'    Always use engineering notation.\n *                                          For example '123.4e+0' and '14.0e+6'\n *                         'auto' (default) Regular number notation for numbers\n *                                          having an absolute value between\n *                                          `lower` and `upper` bounds, and uses\n *                                          exponential notation elsewhere.\n *                                          Lower bound is included, upper bound\n *                                          is excluded.\n *                                          For example '123.4' and '1.4e7'.\n *                     {number} precision   A number between 0 and 16 to round\n *                                          the digits of the number.\n *                                          In case of notations 'exponential' and\n *                                          'auto', `precision` defines the total\n *                                          number of significant digits returned\n *                                          and is undefined by default.\n *                                          In case of notation 'fixed',\n *                                          `precision` defines the number of\n *                                          significant digits after the decimal\n *                                          point, and is 0 by default.\n *                     {Object} exponential An object containing two parameters,\n *                                          {number} lower and {number} upper,\n *                                          used by notation 'auto' to determine\n *                                          when to return exponential notation.\n *                                          Default values are `lower=1e-3` and\n *                                          `upper=1e5`.\n *                                          Only applicable for notation `auto`.\n *    {Function} fn    A custom formatting function. Can be used to override the\n *                     built-in notations. Function `fn` is called with `value` as\n *                     parameter and must return a string. Is useful for example to\n *                     format all values inside a matrix in a particular way.\n *\n * Examples:\n *\n *    format(6.4);                                        // '6.4'\n *    format(1240000);                                    // '1.24e6'\n *    format(1/3);                                        // '0.3333333333333333'\n *    format(1/3, 3);                                     // '0.333'\n *    format(21385, 2);                                   // '21000'\n *    format(12.071, {notation: 'fixed'});                // '12'\n *    format(2.3,    {notation: 'fixed', precision: 2});  // '2.30'\n *    format(52.8,   {notation: 'exponential'});          // '5.28e+1'\n *    format(12345678, {notation: 'engineering'});        // '12.345678e+6'\n *\n * @param {number} value\n * @param {Object | Function | number} [options]\n * @return {string} str The formatted value\n */\nexports.format = function(value, options) {\n  if (typeof options === 'function') {\n    // handle format(value, fn)\n    return options(value);\n  }\n\n  // handle special cases\n  if (value === Infinity) {\n    return 'Infinity';\n  }\n  else if (value === -Infinity) {\n    return '-Infinity';\n  }\n  else if (isNaN(value)) {\n    return 'NaN';\n  }\n\n  // default values for options\n  var notation = 'auto';\n  var precision = undefined;\n\n  if (options) {\n    // determine notation from options\n    if (options.notation) {\n      notation = options.notation;\n    }\n\n    // determine precision from options\n    if (exports.isNumber(options)) {\n      precision = options;\n    }\n    else if (options.precision) {\n      precision = options.precision;\n    }\n  }\n\n  // handle the various notations\n  switch (notation) {\n    case 'fixed':\n      return exports.toFixed(value, precision);\n\n    case 'exponential':\n      return exports.toExponential(value, precision);\n\n    case 'engineering':\n      return exports.toEngineering(value, precision);\n\n    case 'auto':\n      return exports\n          .toPrecision(value, precision, options && options.exponential)\n\n          // remove trailing zeros after the decimal point\n          .replace(/((\\.\\d*?)(0+))($|e)/, function () {\n            var digits = arguments[2];\n            var e = arguments[4];\n            return (digits !== '.') ? digits + e : e;\n          });\n\n    default:\n      throw new Error('Unknown notation \"' + notation + '\". ' +\n          'Choose \"auto\", \"exponential\", or \"fixed\".');\n  }\n};\n\n/**\n * Format a number in exponential notation. Like '1.23e+5', '2.3e+0', '3.500e-3'\n * @param {number} value\n * @param {number} [precision]  Number of digits in formatted output.\n *                              If not provided, the maximum available digits\n *                              is used.\n * @returns {string} str\n */\nexports.toExponential = function(value, precision) {\n  return new NumberFormatter(value).toExponential(precision);\n};\n\n/**\n * Format a number in engineering notation. Like '1.23e+6', '2.3e+0', '3.500e-3'\n * @param {number} value\n * @param {number} [precision]  Number of digits in formatted output.\n *                              If not provided, the maximum available digits\n *                              is used.\n * @returns {string} str\n */\nexports.toEngineering = function(value, precision) {\n  return new NumberFormatter(value).toEngineering(precision);\n};\n\n/**\n * Format a number with fixed notation.\n * @param {number} value\n * @param {number} [precision=0]        Optional number of decimals after the\n *                                      decimal point. Zero by default.\n */\nexports.toFixed = function(value, precision) {\n  return new NumberFormatter(value).toFixed(precision);\n};\n\n/**\n * Format a number with a certain precision\n * @param {number} value\n * @param {number} [precision=undefined] Optional number of digits.\n * @param {{lower: number, upper: number}} [options]  By default:\n *                                                    lower = 1e-3 (excl)\n *                                                    upper = 1e+5 (incl)\n * @return {string}\n */\nexports.toPrecision = function(value, precision, options) {\n  return new NumberFormatter(value).toPrecision(precision, options);\n};\n\n/**\n * Count the number of significant digits of a number.\n *\n * For example:\n *   2.34 returns 3\n *   0.0034 returns 2\n *   120.5e+30 returns 4\n *\n * @param {number} value\n * @return {number} digits   Number of significant digits\n */\nexports.digits = function(value) {\n  return value\n      .toExponential()\n      .replace(/e.*$/, '')          // remove exponential notation\n      .replace( /^0\\.?0*|\\./, '')   // remove decimal point and leading zeros\n      .length\n};\n\n/**\n * Minimum number added to one that makes the result different than one\n */\nexports.DBL_EPSILON = Number.EPSILON || 2.2204460492503130808472633361816E-16;\n\n/**\n * Compares two floating point numbers.\n * @param {number} x          First value to compare\n * @param {number} y          Second value to compare\n * @param {number} [epsilon]  The maximum relative difference between x and y\n *                            If epsilon is undefined or null, the function will\n *                            test whether x and y are exactly equal.\n * @return {boolean} whether the two numbers are nearly equal\n*/\nexports.nearlyEqual = function(x, y, epsilon) {\n  // if epsilon is null or undefined, test whether x and y are exactly equal\n  if (epsilon == null) {\n    return x == y;\n  }\n\n  // use \"==\" operator, handles infinities\n  if (x == y) {\n    return true;\n  }\n\n  // NaN\n  if (isNaN(x) || isNaN(y)) {\n    return false;\n  }\n\n  // at this point x and y should be finite\n  if(isFinite(x) && isFinite(y)) {\n    // check numbers are very close, needed when comparing numbers near zero\n    var diff = Math.abs(x - y);\n    if (diff < exports.DBL_EPSILON) {\n      return true;\n    }\n    else {\n      // use relative error\n      return diff <= Math.max(Math.abs(x), Math.abs(y)) * epsilon;\n    }\n  }\n\n  // Infinite and Number or negative Infinite and positive Infinite cases\n  return false;\n};\n","var typedFunction = require('typed-function');\nvar digits = require('./../utils/number').digits;\n\n// returns a new instance of typed-function\nvar createTyped = function () {\n  // initially, return the original instance of typed-function\n  // consecutively, return a new instance from typed.create.\n  createTyped = typedFunction.create;\n  return typedFunction;\n};\n\n/**\n * Factory function for creating a new typed instance\n * @param {Object} type   Object with data types like Complex and BigNumber\n * @returns {Function}\n */\nexports.create = function create(type) {\n  // TODO: typed-function must be able to silently ignore signatures with unknown data types\n\n  // get a new instance of typed-function\n  var typed = createTyped();\n\n  // define all types. The order of the types determines in which order function\n  // arguments are type-checked (so for performance it's important to put the\n  // most used types first).\n  typed.types = [\n    { name: 'number',               test: function (x) { return typeof x === 'number'; } },\n    { name: 'Complex',              test: function (x) { return x && x.isComplex; } },\n    { name: 'BigNumber',            test: function (x) { return x && x.isBigNumber; } },\n    { name: 'Fraction',             test: function (x) { return x && x.isFraction; } },\n    { name: 'Unit',                 test: function (x) { return x && x.isUnit; } },\n    { name: 'string',               test: function (x) { return typeof x === 'string'; } },\n    { name: 'Array',                test: Array.isArray },\n    { name: 'Matrix',               test: function (x) { return x && x.isMatrix; } },\n    { name: 'DenseMatrix',          test: function (x) { return x && x.isDenseMatrix; } },\n    { name: 'SparseMatrix',         test: function (x) { return x && x.isSparseMatrix; } },\n    { name: 'ImmutableDenseMatrix', test: function (x) { return x && x.isImmutableDenseMatrix; } },\n    { name: 'Range',                test: function (x) { return x && x.isRange; } },\n    { name: 'Index',                test: function (x) { return x && x.isIndex; } },\n    { name: 'boolean',              test: function (x) { return typeof x === 'boolean'; } },\n    { name: 'ResultSet',            test: function (x) { return x && x.isResultSet; } },\n    { name: 'Help',                 test: function (x) { return x && x.isHelp; } },\n    { name: 'function',             test: function (x) { return typeof x === 'function';} },\n    { name: 'Date',                 test: function (x) { return x instanceof Date; } },\n    { name: 'RegExp',               test: function (x) { return x instanceof RegExp; } },\n    { name: 'Object',               test: function (x) { return typeof x === 'object'; } },\n    { name: 'null',                 test: function (x) { return x === null; } },\n    { name: 'undefined',            test: function (x) { return x === undefined; } }\n  ];\n\n  // TODO: add conversion from BigNumber to number?\n  typed.conversions = [\n    {\n      from: 'number',\n      to: 'BigNumber',\n      convert: function (x) {\n        // note: conversion from number to BigNumber can fail if x has >15 digits\n        if (digits(x) > 15) {\n          throw new TypeError('Cannot implicitly convert a number with >15 significant digits to BigNumber ' +\n          '(value: ' + x + '). ' +\n          'Use function bignumber(x) to convert to BigNumber.');\n        }\n        return new type.BigNumber(x);\n      }\n    }, {\n      from: 'number',\n      to: 'Complex',\n      convert: function (x) {\n        return new type.Complex(x, 0);\n      }\n    }, {\n      from: 'number',\n      to: 'string',\n      convert: function (x) {\n        return x + '';\n      }\n    }, {\n      from: 'BigNumber',\n      to: 'Complex',\n      convert: function (x) {\n        return new type.Complex(x.toNumber(), 0);\n      }\n    }, {\n      from: 'Fraction',\n      to: 'BigNumber',\n      convert: function (x) {\n        throw new TypeError('Cannot implicitly convert a Fraction to BigNumber or vice versa. ' +\n            'Use function bignumber(x) to convert to BigNumber or fraction(x) to convert to Fraction.');\n      }\n    }, {\n      from: 'Fraction',\n      to: 'Complex',\n      convert: function (x) {\n        return new type.Complex(x.valueOf(), 0);\n      }\n    }, {\n      from: 'number',\n      to: 'Fraction',\n      convert: function (x) {\n        if (digits(x) > 15) {\n          throw new TypeError('Cannot implicitly convert a number with >15 significant digits to Fraction ' +\n              '(value: ' + x + '). ' +\n              'Use function fraction(x) to convert to Fraction.');\n        }\n        return new type.Fraction(x);\n      }\n    }, {\n    // FIXME: add conversion from Fraction to number, for example for `sqrt(fraction(1,3))`\n    //  from: 'Fraction',\n    //  to: 'number',\n    //  convert: function (x) {\n    //    return x.valueOf();\n    //  }\n    //}, {\n      from: 'string',\n      to: 'number',\n      convert: function (x) {\n        var n = Number(x);\n        if (isNaN(n)) {\n          throw new Error('Cannot convert \"' + x + '\" to a number');\n        }\n        return n;\n      }\n    }, {\n      from: 'boolean',\n      to: 'number',\n      convert: function (x) {\n        return +x;\n      }\n    }, {\n      from: 'boolean',\n      to: 'BigNumber',\n      convert: function (x) {\n        return new type.BigNumber(+x);\n      }\n    }, {\n      from: 'boolean',\n      to: 'Fraction',\n      convert: function (x) {\n        return new type.Fraction(+x);\n      }\n    }, {\n      from: 'boolean',\n      to: 'string',\n      convert: function (x) {\n        return +x;\n      }\n    }, {\n      from: 'null',\n      to: 'number',\n      convert: function () {\n        return 0;\n      }\n    }, {\n      from: 'null',\n      to: 'string',\n      convert: function () {\n        return 'null';\n      }\n    }, {\n      from: 'null',\n      to: 'BigNumber',\n      convert: function () {\n        return new type.BigNumber(0);\n      }\n    }, {\n      from: 'null',\n      to: 'Fraction',\n      convert: function () {\n        return new type.Fraction(0);\n      }\n    }, {\n      from: 'Array',\n      to: 'Matrix',\n      convert: function (array) {\n        // TODO: how to decide on the right type of matrix to create?\n        return new type.DenseMatrix(array);\n      }\n    }, {\n      from: 'Matrix',\n      to: 'Array',\n      convert: function (matrix) {\n        return matrix.valueOf();\n      }\n    }\n  ];\n\n  return typed;\n};\n","function E () {\n\t// Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n\ton: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n","var Emitter = require('tiny-emitter');\n\n/**\n * Extend given object with emitter functions `on`, `off`, `once`, `emit`\n * @param {Object} obj\n * @return {Object} obj\n */\nexports.mixin = function (obj) {\n  // create event emitter\n  var emitter = new Emitter();\n\n  // bind methods to obj (we don't want to expose the emitter.e Array...)\n  obj.on   = emitter.on.bind(emitter);\n  obj.off  = emitter.off.bind(emitter);\n  obj.once = emitter.once.bind(emitter);\n  obj.emit = emitter.emit.bind(emitter);\n\n  return obj;\n};\n","'use strict';\n\n/**\n * Create a syntax error with the message:\n *     'Wrong number of arguments in function <fn> (<count> provided, <min>-<max> expected)'\n * @param {string} fn     Function name\n * @param {number} count  Actual argument count\n * @param {number} min    Minimum required argument count\n * @param {number} [max]  Maximum required argument count\n * @extends Error\n */\nfunction ArgumentsError(fn, count, min, max) {\n  if (!(this instanceof ArgumentsError)) {\n    throw new SyntaxError('Constructor must be called with the new operator');\n  }\n\n  this.fn = fn;\n  this.count = count;\n  this.min = min;\n  this.max = max;\n\n  this.message = 'Wrong number of arguments in function ' + fn +\n      ' (' + count + ' provided, ' +\n      min + ((max != undefined) ? ('-' + max) : '') + ' expected)';\n\n  this.stack = (new Error()).stack;\n}\n\nArgumentsError.prototype = new Error();\nArgumentsError.prototype.constructor = Error;\nArgumentsError.prototype.name = 'ArgumentsError';\nArgumentsError.prototype.isArgumentsError = true;\n\nmodule.exports = ArgumentsError;\n","'use strict';\n\nvar lazy = require('../../utils/object').lazy;\nvar isFactory = require('../../utils/object').isFactory;\nvar traverse = require('../../utils/object').traverse;\nvar extend = require('../../utils/object').extend;\nvar ArgumentsError = require('../../error/ArgumentsError');\n\nfunction factory (type, config, load, typed, math) {\n  /**\n   * Import functions from an object or a module\n   *\n   * Syntax:\n   *\n   *    math.import(object)\n   *    math.import(object, options)\n   *\n   * Where:\n   *\n   * - `object: Object`\n   *   An object with functions to be imported.\n   * - `options: Object` An object with import options. Available options:\n   *   - `override: boolean`\n   *     If true, existing functions will be overwritten. False by default.\n   *   - `silent: boolean`\n   *     If true, the function will not throw errors on duplicates or invalid\n   *     types. False by default.\n   *   - `wrap: boolean`\n   *     If true, the functions will be wrapped in a wrapper function\n   *     which converts data types like Matrix to primitive data types like Array.\n   *     The wrapper is needed when extending math.js with libraries which do not\n   *     support these data type. False by default.\n   *\n   * Examples:\n   *\n   *    // define new functions and variables\n   *    math.import({\n   *      myvalue: 42,\n   *      hello: function (name) {\n   *        return 'hello, ' + name + '!';\n   *      }\n   *    });\n   *\n   *    // use the imported function and variable\n   *    math.myvalue * 2;               // 84\n   *    math.hello('user');             // 'hello, user!'\n   *\n   *    // import the npm module 'numbers'\n   *    // (must be installed first with `npm install numbers`)\n   *    math.import(require('numbers'), {wrap: true});\n   *\n   *    math.fibonacci(7); // returns 13\n   *\n   * @param {Object | Array} object   Object with functions to be imported.\n   * @param {Object} [options]        Import options.\n   */\n  function math_import(object, options) {\n    var num = arguments.length;\n    if (num != 1 && num != 2) {\n      throw new ArgumentsError('import', num, 1, 2);\n    }\n\n    if (!options) {\n      options = {};\n    }\n\n    if (isFactory(object)) {\n      _importFactory(object, options);\n    }\n    // TODO: allow a typed-function with name too\n    else if (Array.isArray(object)) {\n      object.forEach(function (entry) {\n        math_import(entry, options);\n      });\n    }\n    else if (typeof object === 'object') {\n      // a map with functions\n      for (var name in object) {\n        if (object.hasOwnProperty(name)) {\n          var value = object[name];\n          if (isSupportedType(value)) {\n            _import(name, value, options);\n          }\n          else if (isFactory(object)) {\n            _importFactory(object, options);\n          }\n          else {\n            math_import(value, options);\n          }\n        }\n      }\n    }\n    else {\n      if (!options.silent) {\n        throw new TypeError('Factory, Object, or Array expected');\n      }\n    }\n  }\n\n  /**\n   * Add a property to the math namespace and create a chain proxy for it.\n   * @param {string} name\n   * @param {*} value\n   * @param {Object} options  See import for a description of the options\n   * @private\n   */\n  function _import(name, value, options) {\n    if (options.wrap && typeof value === 'function') {\n      // create a wrapper around the function\n      value = _wrap(value);\n    }\n\n    if (isTypedFunction(math[name]) && isTypedFunction(value)) {\n      if (options.override) {\n        // give the typed function the right name\n        value = typed(name, value.signatures);\n      }\n      else {\n        // merge the existing and typed function\n        value = typed(math[name], value);\n      }\n\n      math[name] = value;\n      _importTransform(name, value);\n      math.emit('import', name, function resolver() {\n        return value;\n      });\n      return;\n    }\n\n    if (math[name] === undefined || options.override) {\n      math[name] = value;\n      _importTransform(name, value);\n      math.emit('import', name, function resolver() {\n        return value;\n      });\n      return;\n    }\n\n    if (!options.silent) {\n      throw new Error('Cannot import \"' + name + '\": already exists');\n    }\n  }\n\n  function _importTransform (name, value) {\n    if (value && typeof value.transform === 'function') {\n      math.expression.transform[name] = value.transform;\n    }\n  }\n\n  /**\n   * Create a wrapper a round an function which converts the arguments\n   * to their primitive values (like convert a Matrix to Array)\n   * @param {Function} fn\n   * @return {Function} Returns the wrapped function\n   * @private\n   */\n  function _wrap (fn) {\n    var wrapper = function wrapper () {\n      var args = [];\n      for (var i = 0, len = arguments.length; i < len; i++) {\n        var arg = arguments[i];\n        args[i] = arg && arg.valueOf();\n      }\n      return fn.apply(math, args);\n    };\n\n    if (fn.transform) {\n      wrapper.transform = fn.transform;\n    }\n\n    return wrapper;\n  }\n\n  /**\n   * Import an instance of a factory into math.js\n   * @param {{factory: Function, name: string, path: string, math: boolean}} factory\n   * @param {Object} options  See import for a description of the options\n   * @private\n   */\n  function _importFactory(factory, options) {\n    if (typeof factory.name === 'string') {\n      var name = factory.name;\n      var namespace = factory.path ? traverse(math, factory.path) : math;\n      var existing = namespace.hasOwnProperty(name) ? namespace[name] : undefined;\n\n      var resolver = function () {\n        var instance = load(factory);\n\n        if (isTypedFunction(existing) && isTypedFunction(instance)) {\n          if (options.override) {\n            // replace the existing typed function (nothing to do)\n          }\n          else {\n            // merge the existing and new typed function\n            instance = typed(existing, instance);\n          }\n\n          return instance;\n        }\n\n        if (existing === undefined || options.override) {\n          return instance;\n        }\n\n        if (!options.silent) {\n          throw new Error('Cannot import \"' + name + '\": already exists');\n        }\n      };\n\n      if (factory.lazy !== false) {\n        lazy(namespace, name, resolver);\n      }\n      else {\n        namespace[name] = resolver();\n      }\n\n      math.emit('import', name, resolver, factory.path);\n    }\n    else {\n      // unnamed factory.\n      // no lazy loading\n      load(factory);\n    }\n  }\n\n  /**\n   * Check whether given object is a type which can be imported\n   * @param {Function | number | string | boolean | null | Unit | Complex} object\n   * @return {boolean}\n   * @private\n   */\n  function isSupportedType(object) {\n    return typeof object == 'function'\n        || typeof object === 'number'\n        || typeof object === 'string'\n        || typeof object === 'boolean'\n        || object === null\n        || (object && object.isUnit === true)\n        || (object && object.isComplex === true)\n        || (object && object.isBigNumber === true)\n        || (object && object.isFraction === true)\n        || (object && object.isMatrix === true)\n        || (object && Array.isArray(object) === true)\n  }\n\n  /**\n   * Test whether a given thing is a typed-function\n   * @param {*} fn\n   * @return {boolean} Returns true when `fn` is a typed-function\n   */\n  function isTypedFunction (fn) {\n    return typeof fn === 'function' && typeof fn.signatures === 'object';\n  }\n\n  return math_import;\n}\n\nexports.math = true; // request access to the math namespace as 5th argument of the factory function\nexports.name = 'import';\nexports.factory = factory;\nexports.lazy = true;\n","'use strict';\n\nvar object = require('../../utils/object');\n\nfunction factory (type, config, load, typed, math) {\n  var MATRIX = ['Matrix', 'Array'];                   // valid values for option matrix\n  var NUMBER = ['number', 'BigNumber', 'Fraction'];   // valid values for option number\n\n  /**\n   * Set configuration options for math.js, and get current options.\n   * Will emit a 'config' event, with arguments (curr, prev).\n   *\n   * Syntax:\n   *\n   *     math.config(config: Object): Object\n   *\n   * Examples:\n   *\n   *     math.config().number;                // outputs 'number'\n   *     math.eval('0.4');                    // outputs number 0.4\n   *     math.config({number: 'Fraction'});\n   *     math.eval('0.4');                    // outputs Fraction 2/5\n   *\n   * @param {Object} [options] Available options:\n   *                            {number} epsilon\n   *                              Minimum relative difference between two\n   *                              compared values, used by all comparison functions.\n   *                            {string} matrix\n   *                              A string 'Matrix' (default) or 'Array'.\n   *                            {string} number\n   *                              A string 'number' (default), 'BigNumber', or 'Fraction'\n   *                            {number} precision\n   *                              The number of significant digits for BigNumbers.\n   *                              Not applicable for Numbers.\n   *                            {string} parenthesis\n   *                              How to display parentheses in LaTeX and string\n   *                              output.\n   * @return {Object} Returns the current configuration\n   */\n  function _config(options) {\n    if (options) {\n      var prev = object.clone(config);\n\n      // validate some of the options\n      validateOption(options, 'matrix', MATRIX);\n      validateOption(options, 'number', NUMBER);\n\n      // merge options\n      object.deepExtend(config, options);\n\n      var curr = object.clone(config);\n\n      // emit 'config' event\n      math.emit('config', curr, prev);\n\n      return curr;\n    }\n    else {\n      return object.clone(config);\n    }\n  }\n\n  // attach the valid options to the function so they can be extended\n  _config.MATRIX = MATRIX;\n  _config.NUMBER = NUMBER;\n\n  return _config;\n}\n\n/**\n * Test whether an Array contains a specific item.\n * @param {Array.<string>} array\n * @param {string} item\n * @return {boolean}\n */\nfunction contains (array, item) {\n  return array.indexOf(item) !== -1;\n}\n\n/**\n * Find a string in an array. Case insensitive search\n * @param {Array.<string>} array\n * @param {string} item\n * @return {number} Returns the index when found. Returns -1 when not found\n */\nfunction findIndex (array, item) {\n  return array\n      .map(function (i) {\n        return i.toLowerCase();\n      })\n      .indexOf(item.toLowerCase());\n}\n\n/**\n * Validate an option\n * @param {Object} options         Object with options\n * @param {string} name            Name of the option to validate\n * @param {Array.<string>} values  Array with valid values for this option\n */\nfunction validateOption(options, name, values) {\n  if (options[name] !== undefined && !contains(values, options[name])) {\n    var index = findIndex(values, options[name]);\n    if (index !== -1) {\n      // right value, wrong casing\n      // TODO: lower case values are deprecated since v3, remove this warning some day.\n      console.warn('Warning: Wrong casing for configuration option \"' + name + '\", should be \"' + values[index] + '\" instead of \"' + options[name] + '\".');\n\n      options[name] = values[index]; // change the option to the right casing\n    }\n    else {\n      // unknown value\n      console.warn('Warning: Unknown value \"' + options[name] + '\" for configuration option \"' + name + '\". Available options: ' + values.map(JSON.stringify).join(', ') + '.');\n    }\n  }\n}\n\nexports.name = 'config';\nexports.math = true; // request the math namespace as fifth argument\nexports.factory = factory;\n","var isFactory = require('./../utils/object').isFactory;\nvar deepExtend = require('./../utils/object').deepExtend;\nvar typedFactory = require('./typed');\nvar emitter = require('./../utils/emitter');\n\nvar importFactory = require('./function/import');\nvar configFactory = require('./function/config');\n\n/**\n * Math.js core. Creates a new, empty math.js instance\n * @param {Object} [options] Available options:\n *                            {number} epsilon\n *                              Minimum relative difference between two\n *                              compared values, used by all comparison functions.\n *                            {string} matrix\n *                              A string 'Matrix' (default) or 'Array'.\n *                            {string} number\n *                              A string 'number' (default), 'BigNumber', or 'Fraction'\n *                            {number} precision\n *                              The number of significant digits for BigNumbers.\n *                              Not applicable for Numbers.\n *                            {boolean} predictable\n *                              Predictable output type of functions. When true,\n *                              output type depends only on the input types. When\n *                              false (default), output type can vary depending\n *                              on input values. For example `math.sqrt(-2)`\n *                              returns `NaN` when predictable is false, and\n *                              returns `complex('2i')` when true.\n * @returns {Object} Returns a bare-bone math.js instance containing\n *                   functions:\n *                   - `import` to add new functions\n *                   - `config` to change configuration\n *                   - `on`, `off`, `once`, `emit` for events\n */\nexports.create = function create (options) {\n  // simple test for ES5 support\n  if (typeof Object.create !== 'function') {\n    throw new Error('ES5 not supported by this JavaScript engine. ' +\n    'Please load the es5-shim and es5-sham library for compatibility.');\n  }\n\n  // cached factories and instances\n  var factories = [];\n  var instances = [];\n\n  // create a namespace for the mathjs instance, and attach emitter functions\n  var math = emitter.mixin({});\n  math.type = {};\n  math.expression = {\n    transform: Object.create(math)\n  };\n\n  // create a new typed instance\n  math.typed = typedFactory.create(math.type);\n\n  // create configuration options. These are private\n  var _config = {\n    // minimum relative difference between two compared values,\n    // used by all comparison functions\n    epsilon: 1e-12,\n\n    // type of default matrix output. Choose 'matrix' (default) or 'array'\n    matrix: 'Matrix',\n\n    // type of default number output. Choose 'number' (default) 'BigNumber', or 'Fraction\n    number: 'number',\n\n    // number of significant digits in BigNumbers\n    precision: 64,\n\n    // predictable output type of functions. When true, output type depends only\n    // on the input types. When false (default), output type can vary depending\n    // on input values. For example `math.sqrt(-2)` returns `NaN` when\n    // predictable is false, and returns `complex('2i')` when true.\n    predictable: false\n  };\n\n  /**\n   * Load a function or data type from a factory.\n   * If the function or data type already exists, the existing instance is\n   * returned.\n   * @param {{type: string, name: string, factory: Function}} factory\n   * @returns {*}\n   */\n  function load (factory) {\n    if (!isFactory(factory)) {\n      throw new Error('Factory object with properties `type`, `name`, and `factory` expected');\n    }\n\n    var index = factories.indexOf(factory);\n    var instance;\n    if (index === -1) {\n      // doesn't yet exist\n      if (factory.math === true) {\n        // pass with math namespace\n        instance = factory.factory(math.type, _config, load, math.typed, math);\n      }\n      else {\n        instance = factory.factory(math.type, _config, load, math.typed);\n      }\n\n      // append to the cache\n      factories.push(factory);\n      instances.push(instance);\n    }\n    else {\n      // already existing function, return the cached instance\n      instance = instances[index];\n    }\n\n    return instance;\n  }\n\n  // load the import and config functions\n  math['import'] = load(importFactory);\n  math['config'] = load(configFactory);\n\n  // apply options\n  if (options) {\n    math.config(options);\n  }\n\n  return math;\n};\n","module.exports = require('./lib/core/core');","/**\n * Convert a BigNumber to a formatted string representation.\n *\n * Syntax:\n *\n *    format(value)\n *    format(value, options)\n *    format(value, precision)\n *    format(value, fn)\n *\n * Where:\n *\n *    {number} value   The value to be formatted\n *    {Object} options An object with formatting options. Available options:\n *                     {string} notation\n *                         Number notation. Choose from:\n *                         'fixed'          Always use regular number notation.\n *                                          For example '123.40' and '14000000'\n *                         'exponential'    Always use exponential notation.\n *                                          For example '1.234e+2' and '1.4e+7'\n *                         'auto' (default) Regular number notation for numbers\n *                                          having an absolute value between\n *                                          `lower` and `upper` bounds, and uses\n *                                          exponential notation elsewhere.\n *                                          Lower bound is included, upper bound\n *                                          is excluded.\n *                                          For example '123.4' and '1.4e7'.\n *                     {number} precision   A number between 0 and 16 to round\n *                                          the digits of the number.\n *                                          In case of notations 'exponential' and\n *                                          'auto', `precision` defines the total\n *                                          number of significant digits returned\n *                                          and is undefined by default.\n *                                          In case of notation 'fixed',\n *                                          `precision` defines the number of\n *                                          significant digits after the decimal\n *                                          point, and is 0 by default.\n *                     {Object} exponential An object containing two parameters,\n *                                          {number} lower and {number} upper,\n *                                          used by notation 'auto' to determine\n *                                          when to return exponential notation.\n *                                          Default values are `lower=1e-3` and\n *                                          `upper=1e5`.\n *                                          Only applicable for notation `auto`.\n *    {Function} fn    A custom formatting function. Can be used to override the\n *                     built-in notations. Function `fn` is called with `value` as\n *                     parameter and must return a string. Is useful for example to\n *                     format all values inside a matrix in a particular way.\n *\n * Examples:\n *\n *    format(6.4);                                        // '6.4'\n *    format(1240000);                                    // '1.24e6'\n *    format(1/3);                                        // '0.3333333333333333'\n *    format(1/3, 3);                                     // '0.333'\n *    format(21385, 2);                                   // '21000'\n *    format(12.071, {notation: 'fixed'});                // '12'\n *    format(2.3,    {notation: 'fixed', precision: 2});  // '2.30'\n *    format(52.8,   {notation: 'exponential'});          // '5.28e+1'\n *\n * @param {BigNumber} value\n * @param {Object | Function | number} [options]\n * @return {string} str The formatted value\n */\nexports.format = function (value, options) {\n  if (typeof options === 'function') {\n    // handle format(value, fn)\n    return options(value);\n  }\n\n  // handle special cases\n  if (!value.isFinite()) {\n    return value.isNaN() ? 'NaN' : (value.gt(0) ? 'Infinity' : '-Infinity');\n  }\n\n  // default values for options\n  var notation = 'auto';\n  var precision = undefined;\n\n  if (options !== undefined) {\n    // determine notation from options\n    if (options.notation) {\n      notation = options.notation;\n    }\n\n    // determine precision from options\n    if (typeof options === 'number') {\n      precision = options;\n    }\n    else if (options.precision) {\n      precision = options.precision;\n    }\n  }\n\n  // handle the various notations\n  switch (notation) {\n    case 'fixed':\n      return exports.toFixed(value, precision);\n\n    case 'exponential':\n      return exports.toExponential(value, precision);\n\n    case 'auto':\n      // determine lower and upper bound for exponential notation.\n      // TODO: implement support for upper and lower to be BigNumbers themselves\n      var lower = 1e-3;\n      var upper = 1e5;\n      if (options && options.exponential) {\n        if (options.exponential.lower !== undefined) {\n          lower = options.exponential.lower;\n        }\n        if (options.exponential.upper !== undefined) {\n          upper = options.exponential.upper;\n        }\n      }\n\n      // adjust the configuration of the BigNumber constructor (yeah, this is quite tricky...)\n      var oldConfig = {\n        toExpNeg: value.constructor.toExpNeg,\n        toExpPos: value.constructor.toExpPos\n      };\n\n      value.constructor.config({\n        toExpNeg: Math.round(Math.log(lower) / Math.LN10),\n        toExpPos: Math.round(Math.log(upper) / Math.LN10)\n      });\n\n      // handle special case zero\n      if (value.isZero()) return '0';\n\n      // determine whether or not to output exponential notation\n      var str;\n      var abs = value.abs();\n      if (abs.gte(lower) && abs.lt(upper)) {\n        // normal number notation\n        str = value.toSignificantDigits(precision).toFixed();\n      }\n      else {\n        // exponential notation\n        str = exports.toExponential(value, precision);\n      }\n\n      // remove trailing zeros after the decimal point\n      return str.replace(/((\\.\\d*?)(0+))($|e)/, function () {\n        var digits = arguments[2];\n        var e = arguments[4];\n        return (digits !== '.') ? digits + e : e;\n      });\n\n    default:\n      throw new Error('Unknown notation \"' + notation + '\". ' +\n          'Choose \"auto\", \"exponential\", or \"fixed\".');\n  }\n};\n\n/**\n * Format a number in exponential notation. Like '1.23e+5', '2.3e+0', '3.500e-3'\n * @param {BigNumber} value\n * @param {number} [precision]  Number of digits in formatted output.\n *                              If not provided, the maximum available digits\n *                              is used.\n * @returns {string} str\n */\nexports.toExponential = function (value, precision) {\n  if (precision !== undefined) {\n    return value.toExponential(precision - 1); // Note the offset of one\n  }\n  else {\n    return value.toExponential();\n  }\n};\n\n/**\n * Format a number with fixed notation.\n * @param {BigNumber} value\n * @param {number} [precision=0]        Optional number of decimals after the\n *                                      decimal point. Zero by default.\n */\nexports.toFixed = function (value, precision) {\n  return value.toFixed(precision || 0);\n  // Note: the (precision || 0) is needed as the toFixed of BigNumber has an\n  // undefined default precision instead of 0.\n};\n","'use strict';\n\nvar formatNumber = require('./number').format;\nvar formatBigNumber = require('./bignumber/formatter').format;\n\n/**\n * Test whether value is a string\n * @param {*} value\n * @return {boolean} isString\n */\nexports.isString = function(value) {\n  return typeof value === 'string';\n};\n\n/**\n * Check if a text ends with a certain string.\n * @param {string} text\n * @param {string} search\n */\nexports.endsWith = function(text, search) {\n  var start = text.length - search.length;\n  var end = text.length;\n  return (text.substring(start, end) === search);\n};\n\n/**\n * Format a value of any type into a string.\n *\n * Usage:\n *     math.format(value)\n *     math.format(value, precision)\n *\n * When value is a function:\n *\n * - When the function has a property `syntax`, it returns this\n *   syntax description.\n * - In other cases, a string `'function'` is returned.\n *\n * When `value` is an Object:\n *\n * - When the object contains a property `format` being a function, this\n *   function is invoked as `value.format(options)` and the result is returned.\n * - When the object has its own `toString` method, this method is invoked\n *   and the result is returned.\n * - In other cases the function will loop over all object properties and\n *   return JSON object notation like '{\"a\": 2, \"b\": 3}'.\n *\n * Example usage:\n *     math.format(2/7);                // '0.2857142857142857'\n *     math.format(math.pi, 3);         // '3.14'\n *     math.format(new Complex(2, 3));  // '2 + 3i'\n *     math.format('hello');            // '\"hello\"'\n *\n * @param {*} value             Value to be stringified\n * @param {Object | number | Function} [options]  Formatting options. See\n *                                                lib/utils/number:format for a\n *                                                description of the available\n *                                                options.\n * @return {string} str\n */\nexports.format = function(value, options) {\n  if (typeof value === 'number') {\n    return formatNumber(value, options);\n  }\n\n  if (value && value.isBigNumber === true) {\n    return formatBigNumber(value, options);\n  }\n\n  if (value && value.isFraction === true) {\n    if (!options || options.fraction !== 'decimal') {\n      // output as ratio, like '1/3'\n      return (value.s * value.n) + '/' + value.d;\n    }\n    else {\n      // output as decimal, like '0.(3)'\n      return value.toString();\n    }\n  }\n\n  if (Array.isArray(value)) {\n    return formatArray(value, options);\n  }\n\n  if (exports.isString(value)) {\n    return '\"' + value + '\"';\n  }\n\n  if (typeof value === 'function') {\n    return value.syntax ? String(value.syntax) : 'function';\n  }\n\n  if (value && typeof value === 'object') {\n    if (typeof value.format === 'function') {\n      return value.format(options);\n    }\n    else if (value && value.toString() !== {}.toString()) {\n      // this object has a non-native toString method, use that one\n      return value.toString();\n    }\n    else {\n      var entries = [];\n\n      for (var key in value) {\n        if (value.hasOwnProperty(key)) {\n          entries.push('\"' + key + '\": ' + exports.format(value[key], options));\n        }\n      }\n\n      return '{' + entries.join(', ') + '}';\n    }\n  }\n\n  return String(value);\n};\n\n/**\n * Recursively format an n-dimensional matrix\n * Example output: \"[[1, 2], [3, 4]]\"\n * @param {Array} array\n * @param {Object | number | Function} [options]  Formatting options. See\n *                                                lib/utils/number:format for a\n *                                                description of the available\n *                                                options.\n * @returns {string} str\n */\nfunction formatArray (array, options) {\n  if (Array.isArray(array)) {\n    var str = '[';\n    var len = array.length;\n    for (var i = 0; i < len; i++) {\n      if (i != 0) {\n        str += ', ';\n      }\n      str += formatArray(array[i], options);\n    }\n    str += ']';\n    return str;\n  }\n  else {\n    return exports.format(array, options);\n  }\n}\n","'use strict';\n\n/**\n * Determine the type of a variable\n *\n *     type(x)\n *\n * The following types are recognized:\n *\n *     'undefined'\n *     'null'\n *     'boolean'\n *     'number'\n *     'string'\n *     'Array'\n *     'Function'\n *     'Date'\n *     'RegExp'\n *     'Object'\n *\n * @param {*} x\n * @return {string} Returns the name of the type. Primitive types are lower case,\n *                  non-primitive types are upper-camel-case.\n *                  For example 'number', 'string', 'Array', 'Date'.\n */\nexports.type = function(x) {\n  var type = typeof x;\n\n  if (type === 'object') {\n    if (x === null)           return 'null';\n    if (x instanceof Boolean) return 'boolean';\n    if (x instanceof Number)  return 'number';\n    if (x instanceof String)  return 'string';\n    if (Array.isArray(x))     return 'Array';\n    if (x instanceof Date)    return 'Date';\n    if (x instanceof RegExp)  return 'RegExp';\n\n    return 'Object';\n  }\n\n  if (type === 'function')    return 'Function';\n\n  return type;\n};\n\n/**\n * Test whether a value is a scalar\n * @param x\n * @return {boolean} Returns true when x is a scalar, returns false when\n *                   x is a Matrix or Array.\n */\nexports.isScalar = function (x) {\n  return !((x && x.isMatrix) || Array.isArray(x));\n};\n","'use strict';\n\n/**\n * Create a range error with the message:\n *     'Dimension mismatch (<actual size> != <expected size>)'\n * @param {number | number[]} actual        The actual size\n * @param {number | number[]} expected      The expected size\n * @param {string} [relation='!=']          Optional relation between actual\n *                                          and expected size: '!=', '<', etc.\n * @extends RangeError\n */\nfunction DimensionError(actual, expected, relation) {\n  if (!(this instanceof DimensionError)) {\n    throw new SyntaxError('Constructor must be called with the new operator');\n  }\n\n  this.actual   = actual;\n  this.expected = expected;\n  this.relation = relation;\n\n  this.message = 'Dimension mismatch (' +\n      (Array.isArray(actual) ? ('[' + actual.join(', ') + ']') : actual) +\n      ' ' + (this.relation || '!=') + ' ' +\n      (Array.isArray(expected) ? ('[' + expected.join(', ') + ']') : expected) +\n      ')';\n\n  this.stack = (new Error()).stack;\n}\n\nDimensionError.prototype = new RangeError();\nDimensionError.prototype.constructor = RangeError;\nDimensionError.prototype.name = 'DimensionError';\nDimensionError.prototype.isDimensionError = true;\n\nmodule.exports = DimensionError;\n","'use strict';\n\n/**\n * Create a range error with the message:\n *     'Index out of range (index < min)'\n *     'Index out of range (index < max)'\n *\n * @param {number} index     The actual index\n * @param {number} [min=0]   Minimum index (included)\n * @param {number} [max]     Maximum index (excluded)\n * @extends RangeError\n */\nfunction IndexError(index, min, max) {\n  if (!(this instanceof IndexError)) {\n    throw new SyntaxError('Constructor must be called with the new operator');\n  }\n\n  this.index = index;\n  if (arguments.length < 3) {\n    this.min = 0;\n    this.max = min;\n  }\n  else {\n    this.min = min;\n    this.max = max;\n  }\n\n  if (this.min !== undefined && this.index < this.min) {\n    this.message = 'Index out of range (' + this.index + ' < ' + this.min + ')';\n  }\n  else if (this.max !== undefined && this.index >= this.max) {\n    this.message = 'Index out of range (' + this.index + ' > ' + (this.max - 1) + ')';\n  }\n  else {\n    this.message = 'Index out of range (' + this.index + ')';\n  }\n\n  this.stack = (new Error()).stack;\n}\n\nIndexError.prototype = new RangeError();\nIndexError.prototype.constructor = RangeError;\nIndexError.prototype.name = 'IndexError';\nIndexError.prototype.isIndexError = true;\n\nmodule.exports = IndexError;\n","'use strict';\n\nvar number = require('./number');\nvar string = require('./string');\nvar object = require('./object');\nvar types = require('./types');\n\nvar DimensionError = require('../error/DimensionError');\nvar IndexError = require('../error/IndexError');\n\n/**\n * Calculate the size of a multi dimensional array.\n * This function checks the size of the first entry, it does not validate\n * whether all dimensions match. (use function `validate` for that)\n * @param {Array} x\n * @Return {Number[]} size\n */\nexports.size = function (x) {\n  var s = [];\n\n  while (Array.isArray(x)) {\n    s.push(x.length);\n    x = x[0];\n  }\n\n  return s;\n};\n\n/**\n * Recursively validate whether each element in a multi dimensional array\n * has a size corresponding to the provided size array.\n * @param {Array} array    Array to be validated\n * @param {number[]} size  Array with the size of each dimension\n * @param {number} dim   Current dimension\n * @throws DimensionError\n * @private\n */\nfunction _validate(array, size, dim) {\n  var i;\n  var len = array.length;\n\n  if (len != size[dim]) {\n    throw new DimensionError(len, size[dim]);\n  }\n\n  if (dim < size.length - 1) {\n    // recursively validate each child array\n    var dimNext = dim + 1;\n    for (i = 0; i < len; i++) {\n      var child = array[i];\n      if (!Array.isArray(child)) {\n        throw new DimensionError(size.length - 1, size.length, '<');\n      }\n      _validate(array[i], size, dimNext);\n    }\n  }\n  else {\n    // last dimension. none of the childs may be an array\n    for (i = 0; i < len; i++) {\n      if (Array.isArray(array[i])) {\n        throw new DimensionError(size.length + 1, size.length, '>');\n      }\n    }\n  }\n}\n\n/**\n * Validate whether each element in a multi dimensional array has\n * a size corresponding to the provided size array.\n * @param {Array} array    Array to be validated\n * @param {number[]} size  Array with the size of each dimension\n * @throws DimensionError\n */\nexports.validate = function(array, size) {\n  var isScalar = (size.length == 0);\n  if (isScalar) {\n    // scalar\n    if (Array.isArray(array)) {\n      throw new DimensionError(array.length, 0);\n    }\n  }\n  else {\n    // array\n    _validate(array, size, 0);\n  }\n};\n\n/**\n * Test whether index is an integer number with index >= 0 and index < length\n * when length is provided\n * @param {number} index    Zero-based index\n * @param {number} [length] Length of the array\n */\nexports.validateIndex = function(index, length) {\n  if (!number.isNumber(index) || !number.isInteger(index)) {\n    throw new TypeError('Index must be an integer (value: ' + index + ')');\n  }\n  if (index < 0 || (typeof length === 'number' && index >= length)) {\n    throw new IndexError(index, length);\n  }\n};\n\n// a constant used to specify an undefined defaultValue\nexports.UNINITIALIZED = {};\n\n/**\n * Resize a multi dimensional array. The resized array is returned.\n * @param {Array} array         Array to be resized\n * @param {Array.<number>} size Array with the size of each dimension\n * @param {*} [defaultValue=0]  Value to be filled in in new entries,\n *                              zero by default. To leave new entries undefined,\n *                              specify array.UNINITIALIZED as defaultValue\n * @return {Array} array         The resized array\n */\nexports.resize = function(array, size, defaultValue) {\n  // TODO: add support for scalars, having size=[] ?\n\n  // check the type of the arguments\n  if (!Array.isArray(array) || !Array.isArray(size)) {\n    throw new TypeError('Array expected');\n  }\n  if (size.length === 0) {\n    throw new Error('Resizing to scalar is not supported');\n  }\n\n  // check whether size contains positive integers\n  size.forEach(function (value) {\n    if (!number.isNumber(value) || !number.isInteger(value) || value < 0) {\n      throw new TypeError('Invalid size, must contain positive integers ' +\n          '(size: ' + string.format(size) + ')');\n    }\n  });\n\n  // recursively resize the array\n  var _defaultValue = (defaultValue !== undefined) ? defaultValue : 0;\n  _resize(array, size, 0, _defaultValue);\n\n  return array;\n};\n\n/**\n * Recursively resize a multi dimensional array\n * @param {Array} array         Array to be resized\n * @param {number[]} size       Array with the size of each dimension\n * @param {number} dim          Current dimension\n * @param {*} [defaultValue]    Value to be filled in in new entries,\n *                              undefined by default.\n * @private\n */\nfunction _resize (array, size, dim, defaultValue) {\n  var i;\n  var elem;\n  var oldLen = array.length;\n  var newLen = size[dim];\n  var minLen = Math.min(oldLen, newLen);\n\n  // apply new length\n  array.length = newLen;\n\n  if (dim < size.length - 1) {\n    // non-last dimension\n    var dimNext = dim + 1;\n\n    // resize existing child arrays\n    for (i = 0; i < minLen; i++) {\n      // resize child array\n      elem = array[i];\n      if (!Array.isArray(elem)) {\n        elem = [elem]; // add a dimension\n        array[i] = elem;\n      }\n      _resize(elem, size, dimNext, defaultValue);\n    }\n\n    // create new child arrays\n    for (i = minLen; i < newLen; i++) {\n      // get child array\n      elem = [];\n      array[i] = elem;\n\n      // resize new child array\n      _resize(elem, size, dimNext, defaultValue);\n    }\n  }\n  else {\n    // last dimension\n\n    // remove dimensions of existing values\n    for (i = 0; i < minLen; i++) {\n      while (Array.isArray(array[i])) {\n        array[i] = array[i][0];\n      }\n    }\n\n    if(defaultValue !== exports.UNINITIALIZED) {\n      // fill new elements with the default value\n      for (i = minLen; i < newLen; i++) {\n        array[i] = defaultValue;\n      }\n    }\n  }\n}\n\n/**\n * Squeeze a multi dimensional array\n * @param {Array} array\n * @param {Array} [size]\n * @returns {Array} returns the array itself\n */\nexports.squeeze = function(array, size) {\n  var s = size || exports.size(array);\n\n  // squeeze outer dimensions\n  while (Array.isArray(array) && array.length === 1) {\n    array = array[0];\n    s.shift();\n  }\n\n  // find the first dimension to be squeezed\n  var dims = s.length;\n  while (s[dims - 1] === 1) {\n    dims--;\n  }\n\n  // squeeze inner dimensions\n  if (dims < s.length) {\n    array = _squeeze(array, dims, 0);\n    s.length = dims;\n  }\n\n  return array;\n};\n\n/**\n * Recursively squeeze a multi dimensional array\n * @param {Array} array\n * @param {number} dims Required number of dimensions\n * @param {number} dim  Current dimension\n * @returns {Array | *} Returns the squeezed array\n * @private\n */\nfunction _squeeze (array, dims, dim) {\n  var i, ii;\n\n  if (dim < dims) {\n    var next = dim + 1;\n    for (i = 0, ii = array.length; i < ii; i++) {\n      array[i] = _squeeze(array[i], dims, next);\n    }\n  }\n  else {\n    while (Array.isArray(array)) {\n      array = array[0];\n    }\n  }\n\n  return array;\n}\n\n/**\n * Unsqueeze a multi dimensional array: add dimensions when missing\n * \n * Paramter `size` will be mutated to match the new, unqueezed matrix size.\n * \n * @param {Array} array\n * @param {number} dims     Desired number of dimensions of the array\n * @param {number} [outer]  Number of outer dimensions to be added\n * @param {Array} [size]    Current size of array.\n * @returns {Array} returns the array itself\n * @private\n */\nexports.unsqueeze = function(array, dims, outer, size) {\n  var s = size || exports.size(array);\n\n  // unsqueeze outer dimensions\n  if (outer) {\n    for (var i = 0; i < outer; i++) {\n      array = [array];\n      s.unshift(1);\n    }\n  }\n\n  // unsqueeze inner dimensions\n  array = _unsqueeze(array, dims, 0);\n  while (s.length < dims) {\n    s.push(1);\n  }\n\n  return array;\n};\n\n/**\n * Recursively unsqueeze a multi dimensional array\n * @param {Array} array\n * @param {number} dims Required number of dimensions\n * @param {number} dim  Current dimension\n * @returns {Array | *} Returns the squeezed array\n * @private\n */\nfunction _unsqueeze (array, dims, dim) {\n  var i, ii;\n\n  if (Array.isArray(array)) {\n    var next = dim + 1;\n    for (i = 0, ii = array.length; i < ii; i++) {\n      array[i] = _unsqueeze(array[i], dims, next);\n    }\n  }\n  else {\n    for (var d = dim; d < dims; d++) {\n      array = [array];\n    }\n  }\n\n  return array;\n}\n/**\n * Flatten a multi dimensional array, put all elements in a one dimensional\n * array\n * @param {Array} array   A multi dimensional array\n * @return {Array}        The flattened array (1 dimensional)\n */\nexports.flatten = function(array) {\n  if (!Array.isArray(array)) {\n    //if not an array, return as is\n    return array;\n  }\n  var flat = [];\n\n  array.forEach(function callback(value) {\n    if (Array.isArray(value)) {\n      value.forEach(callback);  //traverse through sub-arrays recursively\n    }\n    else {\n      flat.push(value);\n    }\n  });\n\n  return flat;\n};\n\n/**\n * Test whether an object is an array\n * @param {*} value\n * @return {boolean} isArray\n */\nexports.isArray = Array.isArray;\n","'use strict';\n\n/**\n * Test whether value is a boolean\n * @param {*} value\n * @return {boolean} isBoolean\n */\nexports.isBoolean = function(value) {\n  return typeof value == 'boolean';\n};\n","// function utils\n\n/*\n * Memoize a given function by caching the computed result.\n * The cache of a memoized function can be cleared by deleting the `cache`\n * property of the function.\n *\n * @param {function} fn                     The function to be memoized.\n *                                          Must be a pure function.\n * @param {function(args: Array)} [hasher]  A custom hash builder.\n *                                          Is JSON.stringify by default.\n * @return {function}                       Returns the memoized function\n */\nexports.memoize = function(fn, hasher) {\n  return function memoize() {\n    if (typeof memoize.cache !== 'object') {\n      memoize.cache = {};\n    }\n\n    var args = [];\n    for (var i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    var hash = hasher ? hasher(args) : JSON.stringify(args);\n    if (!(hash in memoize.cache)) {\n      return memoize.cache[hash] = fn.apply(fn, args);\n    }\n    return memoize.cache[hash];\n  };\n};\n\n/**\n * Find the maximum number of arguments expected by a typed function.\n * @param {function} fn   A typed function\n * @return {number} Returns the maximum number of expected arguments.\n *                  Returns -1 when no signatures where found on the function.\n */\nexports.maxArgumentCount = function (fn) {\n  return Object.keys(fn.signatures || {})\n      .reduce(function (args, signature) {\n        var count = (signature.match(/,/g) || []).length + 1;\n        return Math.max(args, count);\n      }, -1);\n};\n","'use strict';\n\nexports.array = require('./array');\nexports['boolean'] = require('./boolean');\nexports['function'] = require('./function');\nexports.number = require('./number');\nexports.object = require('./object');\nexports.string = require('./string');\nexports.types = require('./types');\nexports.emitter = require('./emitter');\n","'use strict';\n\nvar util = require('../../utils/index');\n\nvar string = util.string;\n\nvar isString = string.isString;\n\nfunction factory (type, config, load, typed) {\n  /**\n   * @constructor Matrix\n   *\n   * A Matrix is a wrapper around an Array. A matrix can hold a multi dimensional\n   * array. A matrix can be constructed as:\n   *     var matrix = math.matrix(data)\n   *\n   * Matrix contains the functions to resize, get and set values, get the size,\n   * clone the matrix and to convert the matrix to a vector, array, or scalar.\n   * Furthermore, one can iterate over the matrix using map and forEach.\n   * The internal Array of the Matrix can be accessed using the function valueOf.\n   *\n   * Example usage:\n   *     var matrix = math.matrix([[1, 2], [3, 4]]);\n   *     matix.size();              // [2, 2]\n   *     matrix.resize([3, 2], 5);\n   *     matrix.valueOf();          // [[1, 2], [3, 4], [5, 5]]\n   *     matrix.subset([1,2])       // 3 (indexes are zero-based)\n   *\n   */\n  function Matrix() {\n    if (!(this instanceof Matrix)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n  }\n\n  /**\n   * Attach type information\n   */\n  Matrix.prototype.type = 'Matrix';\n  Matrix.prototype.isMatrix = true;\n\n  /**\n   * Get the Matrix storage constructor for the given format.\n   *\n   * @param {string} format       The Matrix storage format.\n   *\n   * @return {Function}           The Matrix storage constructor.\n   */\n  Matrix.storage = function (format) {\n    // check storage format is a string\n    if (!isString(format)) {\n      throw new TypeError('format must be a string value');\n    }\n\n    // get storage format constructor\n    var constructor = Matrix._storage[format];\n    if (!constructor) {\n      throw new SyntaxError('Unsupported matrix storage format: ' + format);\n    }\n\n    // return storage constructor\n    return constructor;\n  };\n\n  // a map with all constructors for all storage types\n  Matrix._storage = {};\n\n  /**\n   * Get the storage format used by the matrix.\n   *\n   * Usage:\n   *     var format = matrix.storage()                   // retrieve storage format\n   *\n   * @return {string}           The storage format.\n   */\n  Matrix.prototype.storage = function () {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke storage on a Matrix interface');\n  };\n  \n  /**\n   * Get the datatype of the data stored in the matrix.\n   *\n   * Usage:\n   *     var format = matrix.datatype()                   // retrieve matrix datatype\n   *\n   * @return {string}           The datatype.\n   */\n  Matrix.prototype.datatype = function () {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke datatype on a Matrix interface');\n  };\n\n  /**\n   * Create a new Matrix With the type of the current matrix instance\n   * @param {Array | Object} data\n   * @param {string} [datatype]\n   */\n  Matrix.prototype.create = function (data, datatype) {\n    throw new Error('Cannot invoke create on a Matrix interface');\n  };\n\n  /**\n   * Get a subset of the matrix, or replace a subset of the matrix.\n   *\n   * Usage:\n   *     var subset = matrix.subset(index)               // retrieve subset\n   *     var value = matrix.subset(index, replacement)   // replace subset\n   *\n   * @param {Index} index\n   * @param {Array | Matrix | *} [replacement]\n   * @param {*} [defaultValue=0]      Default value, filled in on new entries when\n   *                                  the matrix is resized. If not provided,\n   *                                  new matrix elements will be filled with zeros.\n   */\n  Matrix.prototype.subset = function (index, replacement, defaultValue) {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke subset on a Matrix interface');\n  };\n\n  /**\n   * Get a single element from the matrix.\n   * @param {number[]} index   Zero-based index\n   * @return {*} value\n   */\n  Matrix.prototype.get = function (index) {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke get on a Matrix interface');\n  };\n\n  /**\n   * Replace a single element in the matrix.\n   * @param {number[]} index   Zero-based index\n   * @param {*} value\n   * @param {*} [defaultValue]        Default value, filled in on new entries when\n   *                                  the matrix is resized. If not provided,\n   *                                  new matrix elements will be left undefined.\n   * @return {Matrix} self\n   */\n  Matrix.prototype.set = function (index, value, defaultValue) {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke set on a Matrix interface');\n  };\n\n  /**\n   * Resize the matrix to the given size. Returns a copy of the matrix when \n   * `copy=true`, otherwise return the matrix itself (resize in place).\n   *\n   * @param {number[]} size           The new size the matrix should have.\n   * @param {*} [defaultValue=0]      Default value, filled in on new entries.\n   *                                  If not provided, the matrix elements will\n   *                                  be filled with zeros.\n   * @param {boolean} [copy]          Return a resized copy of the matrix\n   *\n   * @return {Matrix}                 The resized matrix\n   */\n  Matrix.prototype.resize = function (size, defaultValue) {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke resize on a Matrix interface');\n  };\n\n  /**\n   * Create a clone of the matrix\n   * @return {Matrix} clone\n   */\n  Matrix.prototype.clone = function () {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke clone on a Matrix interface');\n  };\n\n  /**\n   * Retrieve the size of the matrix.\n   * @returns {number[]} size\n   */\n  Matrix.prototype.size = function() {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke size on a Matrix interface');\n  };\n\n  /**\n   * Create a new matrix with the results of the callback function executed on\n   * each entry of the matrix.\n   * @param {Function} callback   The callback function is invoked with three\n   *                              parameters: the value of the element, the index\n   *                              of the element, and the Matrix being traversed.\n   * @param {boolean} [skipZeros] Invoke callback function for non-zero values only.\n   *\n   * @return {Matrix} matrix\n   */\n  Matrix.prototype.map = function (callback, skipZeros) {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke map on a Matrix interface');\n  };\n\n  /**\n   * Execute a callback function on each entry of the matrix.\n   * @param {Function} callback   The callback function is invoked with three\n   *                              parameters: the value of the element, the index\n   *                              of the element, and the Matrix being traversed.\n   */\n  Matrix.prototype.forEach = function (callback) {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke forEach on a Matrix interface');\n  };\n\n  /**\n   * Create an Array with a copy of the data of the Matrix\n   * @returns {Array} array\n   */\n  Matrix.prototype.toArray = function () {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke toArray on a Matrix interface');\n  };\n\n  /**\n   * Get the primitive value of the Matrix: a multidimensional array\n   * @returns {Array} array\n   */\n  Matrix.prototype.valueOf = function () {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke valueOf on a Matrix interface');\n  };\n\n  /**\n   * Get a string representation of the matrix, with optional formatting options.\n   * @param {Object | number | Function} [options]  Formatting options. See\n   *                                                lib/utils/number:format for a\n   *                                                description of the available\n   *                                                options.\n   * @returns {string} str\n   */\n  Matrix.prototype.format = function (options) {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke format on a Matrix interface');\n  };\n\n  /**\n   * Get a string representation of the matrix\n   * @returns {string} str\n   */\n  Matrix.prototype.toString = function () {\n    // must be implemented by each of the Matrix implementations\n    throw new Error('Cannot invoke toString on a Matrix interface');\n  };\n   \n  // exports\n  return Matrix;\n}\n\nexports.name = 'Matrix';\nexports.path = 'type';\nexports.factory = factory;\n","'use strict';\n\nvar util = require('../../utils/index');\nvar DimensionError = require('../../error/DimensionError');\n\nvar string = util.string;\nvar array = util.array;\nvar object = util.object;\nvar number = util.number;\n\nvar isArray = Array.isArray;\nvar isNumber = number.isNumber;\nvar isInteger = number.isInteger;\nvar isString = string.isString;\n\nvar validateIndex = array.validateIndex;\n\nfunction factory (type, config, load, typed) {\n  var Matrix = load(require('./Matrix')); // force loading Matrix (do not use via type.Matrix)\n\n  /**\n   * Dense Matrix implementation. A regular, dense matrix, supporting multi-dimensional matrices. This is the default matrix type.\n   * @class DenseMatrix\n   */\n  function DenseMatrix(data, datatype) {\n    if (!(this instanceof DenseMatrix))\n      throw new SyntaxError('Constructor must be called with the new operator');\n    if (datatype && !isString(datatype))\n      throw new Error('Invalid datatype: ' + datatype);\n\n    if (data && data.isMatrix === true) {\n      // check data is a DenseMatrix\n      if (data.type === 'DenseMatrix') {\n        // clone data & size\n        this._data = object.clone(data._data);\n        this._size = object.clone(data._size);\n        this._datatype = datatype || data._datatype;\n      }\n      else {\n        // build data from existing matrix\n        this._data = data.toArray();\n        this._size = data.size();\n        this._datatype = datatype || data._datatype;\n      }\n    }\n    else if (data && isArray(data.data) && isArray(data.size)) {\n      // initialize fields from JSON representation\n      this._data = data.data;\n      this._size = data.size;\n      this._datatype = datatype || data.datatype;\n    }\n    else if (isArray(data)) {\n      // replace nested Matrices with Arrays\n      this._data = preprocess(data);\n      // get the dimensions of the array\n      this._size = array.size(this._data);\n      // verify the dimensions of the array, TODO: compute size while processing array\n      array.validate(this._data, this._size);\n      // data type unknown\n      this._datatype = datatype;\n    }\n    else if (data) {\n      // unsupported type\n      throw new TypeError('Unsupported type of data (' + util.types.type(data) + ')');\n    }\n    else {\n      // nothing provided\n      this._data = [];\n      this._size = [0];\n      this._datatype = datatype;\n    }\n  }\n  \n  DenseMatrix.prototype = new Matrix();\n\n  /**\n   * Attach type information\n   */\n  DenseMatrix.prototype.type = 'DenseMatrix';\n  DenseMatrix.prototype.isDenseMatrix = true;\n\n  /**\n   * Get the storage format used by the matrix.\n   *\n   * Usage:\n   *     var format = matrix.storage()                   // retrieve storage format\n   *\n   * @memberof DenseMatrix\n   * @return {string}           The storage format.\n   */\n  DenseMatrix.prototype.storage = function () {\n    return 'dense';\n  };\n\n  /**\n   * Get the datatype of the data stored in the matrix.\n   *\n   * Usage:\n   *     var format = matrix.datatype()                   // retrieve matrix datatype\n   *\n   * @memberof DenseMatrix\n   * @return {string}           The datatype.\n   */\n  DenseMatrix.prototype.datatype = function () {\n    return this._datatype;\n  };\n\n  /**\n   * Create a new DenseMatrix\n   * @memberof DenseMatrix\n   * @param {Array} data\n   * @param {string} [datatype]\n   */\n  DenseMatrix.prototype.create = function (data, datatype) {\n    return new DenseMatrix(data, datatype);\n  };\n\n  /**\n   * Get a subset of the matrix, or replace a subset of the matrix.\n   *\n   * Usage:\n   *     var subset = matrix.subset(index)               // retrieve subset\n   *     var value = matrix.subset(index, replacement)   // replace subset\n   *\n   * @memberof DenseMatrix\n   * @param {Index} index\n   * @param {Array | DenseMatrix | *} [replacement]\n   * @param {*} [defaultValue=0]      Default value, filled in on new entries when\n   *                                  the matrix is resized. If not provided,\n   *                                  new matrix elements will be filled with zeros.\n   */\n  DenseMatrix.prototype.subset = function (index, replacement, defaultValue) {\n    switch (arguments.length) {\n      case 1:\n        return _get(this, index);\n\n        // intentional fall through\n      case 2:\n      case 3:\n        return _set(this, index, replacement, defaultValue);\n\n      default:\n        throw new SyntaxError('Wrong number of arguments');\n    }\n  };\n  \n  /**\n   * Get a single element from the matrix.\n   * @memberof DenseMatrix\n   * @param {number[]} index   Zero-based index\n   * @return {*} value\n   */\n  DenseMatrix.prototype.get = function (index) {\n    if (!isArray(index))\n      throw new TypeError('Array expected');\n    if (index.length != this._size.length)\n      throw new DimensionError(index.length, this._size.length);\n\n    // check index\n    for (var x = 0; x < index.length; x++)\n      validateIndex(index[x], this._size[x]);\n\n    var data = this._data;\n    for (var i = 0, ii = index.length; i < ii; i++) {\n      var index_i = index[i];\n      validateIndex(index_i, data.length);\n      data = data[index_i];\n    }\n\n    return data;\n  };\n  \n  /**\n   * Replace a single element in the matrix.\n   * @memberof DenseMatrix\n   * @param {number[]} index   Zero-based index\n   * @param {*} value\n   * @param {*} [defaultValue]        Default value, filled in on new entries when\n   *                                  the matrix is resized. If not provided,\n   *                                  new matrix elements will be left undefined.\n   * @return {DenseMatrix} self\n   */\n  DenseMatrix.prototype.set = function (index, value, defaultValue) {\n    if (!isArray(index))\n      throw new TypeError('Array expected');\n    if (index.length < this._size.length)\n      throw new DimensionError(index.length, this._size.length, '<');\n\n    var i, ii, index_i;\n\n    // enlarge matrix when needed\n    var size = index.map(function (i) {\n      return i + 1;\n    });\n    _fit(this, size, defaultValue);\n\n    // traverse over the dimensions\n    var data = this._data;\n    for (i = 0, ii = index.length - 1; i < ii; i++) {\n      index_i = index[i];\n      validateIndex(index_i, data.length);\n      data = data[index_i];\n    }\n\n    // set new value\n    index_i = index[index.length - 1];\n    validateIndex(index_i, data.length);\n    data[index_i] = value;\n\n    return this;\n  };\n  \n  /**\n   * Get a submatrix of this matrix\n   * @memberof DenseMatrix\n   * @param {DenseMatrix} matrix\n   * @param {Index} index   Zero-based index\n   * @private\n   */\n  function _get (matrix, index) {\n    if (!index || index.isIndex !== true) {\n      throw new TypeError('Invalid index');\n    }\n\n    var isScalar = index.isScalar();\n    if (isScalar) {\n      // return a scalar\n      return matrix.get(index.min());\n    }\n    else {\n      // validate dimensions\n      var size = index.size();\n      if (size.length != matrix._size.length) {\n        throw new DimensionError(size.length, matrix._size.length);\n      }\n\n      // validate if any of the ranges in the index is out of range\n      var min = index.min();\n      var max = index.max();\n      for (var i = 0, ii = matrix._size.length; i < ii; i++) {\n        validateIndex(min[i], matrix._size[i]);\n        validateIndex(max[i], matrix._size[i]);\n      }\n\n      // retrieve submatrix\n      // TODO: more efficient when creating an empty matrix and setting _data and _size manually\n      return new DenseMatrix(_getSubmatrix(matrix._data, index, size.length, 0), matrix._datatype);\n    }\n  }\n  \n  /**\n   * Recursively get a submatrix of a multi dimensional matrix.\n   * Index is not checked for correct number or length of dimensions.\n   * @memberof DenseMatrix\n   * @param {Array} data\n   * @param {Index} index\n   * @param {number} dims   Total number of dimensions\n   * @param {number} dim    Current dimension\n   * @return {Array} submatrix\n   * @private\n   */\n  function _getSubmatrix (data, index, dims, dim) {\n    var last = (dim == dims - 1);\n    var range = index.dimension(dim);\n\n    if (last) {\n      return range.map(function (i) {\n        return data[i];\n      }).valueOf();\n    }\n    else {\n      return range.map(function (i) {\n        var child = data[i];\n        return _getSubmatrix(child, index, dims, dim + 1);\n      }).valueOf();\n    }\n  }\n  \n  /**\n   * Replace a submatrix in this matrix\n   * Indexes are zero-based.\n   * @memberof DenseMatrix\n   * @param {DenseMatrix} matrix\n   * @param {Index} index\n   * @param {DenseMatrix | Array | *} submatrix\n   * @param {*} defaultValue          Default value, filled in on new entries when\n   *                                  the matrix is resized.\n   * @return {DenseMatrix} matrix\n   * @private\n   */\n  function _set (matrix, index, submatrix, defaultValue) {\n    if (!index || index.isIndex !== true) {\n      throw new TypeError('Invalid index');\n    }\n\n    // get index size and check whether the index contains a single value\n    var iSize = index.size(),\n        isScalar = index.isScalar();\n\n    // calculate the size of the submatrix, and convert it into an Array if needed\n    var sSize;\n    if (submatrix && submatrix.isMatrix === true) {\n      sSize = submatrix.size();\n      submatrix = submatrix.valueOf();\n    }\n    else {\n      sSize = array.size(submatrix);\n    }\n\n    if (isScalar) {\n      // set a scalar\n\n      // check whether submatrix is a scalar\n      if (sSize.length !== 0) {\n        throw new TypeError('Scalar expected');\n      }\n\n      matrix.set(index.min(), submatrix, defaultValue);\n    }\n    else {\n      // set a submatrix\n\n      // validate dimensions\n      if (iSize.length < matrix._size.length) {\n        throw new DimensionError(iSize.length, matrix._size.length, '<');\n      }\n\n      if (sSize.length < iSize.length) {\n        // calculate number of missing outer dimensions\n        var i = 0;\n        var outer = 0;\n        while (iSize[i] === 1 && sSize[i] === 1) {\n          i++;\n        }\n        while (iSize[i] === 1) {\n          outer++;\n          i++;\n        }\n\n        // unsqueeze both outer and inner dimensions\n        submatrix = array.unsqueeze(submatrix, iSize.length, outer, sSize);\n      }\n\n      // check whether the size of the submatrix matches the index size\n      if (!object.deepEqual(iSize, sSize)) {\n        throw new DimensionError(iSize, sSize, '>');\n      }\n\n      // enlarge matrix when needed\n      var size = index.max().map(function (i) {\n        return i + 1;\n      });\n      _fit(matrix, size, defaultValue);\n\n      // insert the sub matrix\n      var dims = iSize.length,\n          dim = 0;\n      _setSubmatrix (matrix._data, index, submatrix, dims, dim);\n    }\n\n    return matrix;\n  }\n  \n  /**\n   * Replace a submatrix of a multi dimensional matrix.\n   * @memberof DenseMatrix\n   * @param {Array} data\n   * @param {Index} index\n   * @param {Array} submatrix\n   * @param {number} dims   Total number of dimensions\n   * @param {number} dim\n   * @private\n   */\n  function _setSubmatrix (data, index, submatrix, dims, dim) {\n    var last = (dim == dims - 1),\n        range = index.dimension(dim);\n\n    if (last) {\n      range.forEach(function (dataIndex, subIndex) {\n        validateIndex(dataIndex);\n        data[dataIndex] = submatrix[subIndex[0]];\n      });\n    }\n    else {\n      range.forEach(function (dataIndex, subIndex) {\n        validateIndex(dataIndex);\n        _setSubmatrix(data[dataIndex], index, submatrix[subIndex[0]], dims, dim + 1);\n      });\n    }\n  }\n  \n  /**\n   * Resize the matrix to the given size. Returns a copy of the matrix when\n   * `copy=true`, otherwise return the matrix itself (resize in place).\n   *\n   * @memberof DenseMatrix\n   * @param {number[]} size           The new size the matrix should have.\n   * @param {*} [defaultValue=0]      Default value, filled in on new entries.\n   *                                  If not provided, the matrix elements will\n   *                                  be filled with zeros.\n   * @param {boolean} [copy]          Return a resized copy of the matrix\n   *\n   * @return {Matrix}                 The resized matrix\n   */\n  DenseMatrix.prototype.resize = function (size, defaultValue, copy) {\n    // validate arguments\n    if (!isArray(size))\n      throw new TypeError('Array expected');\n\n    // matrix to resize\n    var m = copy ? this.clone() : this;\n    // resize matrix\n    return _resize(m, size, defaultValue);\n  };\n  \n  var _resize = function (matrix, size, defaultValue) {\n    // check size\n    if (size.length === 0) {\n      // first value in matrix\n      var v = matrix._data;\n      // go deep\n      while (isArray(v)) {\n        v = v[0];\n      }\n      return v;\n    }\n    // resize matrix\n    matrix._size = size.slice(0); // copy the array\n    matrix._data = array.resize(matrix._data, matrix._size, defaultValue);\n    // return matrix\n    return matrix;\n  };\n  \n  /**\n   * Enlarge the matrix when it is smaller than given size.\n   * If the matrix is larger or equal sized, nothing is done.\n   * @memberof DenseMatrix\n   * @param {DenseMatrix} matrix           The matrix to be resized\n   * @param {number[]} size\n   * @param {*} defaultValue          Default value, filled in on new entries.\n   * @private\n   */\n  function _fit(matrix, size, defaultValue) {\n    var newSize = matrix._size.slice(0), // copy the array\n        changed = false;\n\n    // add dimensions when needed\n    while (newSize.length < size.length) {\n      newSize.push(0);\n      changed = true;\n    }\n\n    // enlarge size when needed\n    for (var i = 0, ii = size.length; i < ii; i++) {\n      if (size[i] > newSize[i]) {\n        newSize[i] = size[i];\n        changed = true;\n      }\n    }\n\n    if (changed) {\n      // resize only when size is changed\n      _resize(matrix, newSize, defaultValue);\n    }\n  }\n  \n  /**\n   * Create a clone of the matrix\n   * @memberof DenseMatrix\n   * @return {DenseMatrix} clone\n   */\n  DenseMatrix.prototype.clone = function () {\n    var m = new DenseMatrix({\n      data: object.clone(this._data),\n      size: object.clone(this._size),\n      datatype: this._datatype\n    });\n    return m;\n  };\n  \n  /**\n   * Retrieve the size of the matrix.\n   * @memberof DenseMatrix\n   * @returns {number[]} size\n   */\n  DenseMatrix.prototype.size = function() {\n    return this._size.slice(0); // return a clone of _size\n  };\n  \n  /**\n   * Create a new matrix with the results of the callback function executed on\n   * each entry of the matrix.\n   * @memberof DenseMatrix\n   * @param {Function} callback   The callback function is invoked with three\n   *                              parameters: the value of the element, the index\n   *                              of the element, and the Matrix being traversed.\n   *\n   * @return {DenseMatrix} matrix\n   */\n  DenseMatrix.prototype.map = function (callback) {\n    // matrix instance\n    var me = this;\n    var recurse = function (value, index) {\n      if (isArray(value)) {\n        return value.map(function (child, i) {\n          return recurse(child, index.concat(i));\n        });\n      }\n      else {\n        return callback(value, index, me);\n      }\n    };\n    // return dense format\n    return new DenseMatrix({\n      data: recurse(this._data, []),\n      size: object.clone(this._size),\n      datatype: this._datatype\n    });\n  };\n  \n  /**\n   * Execute a callback function on each entry of the matrix.\n   * @memberof DenseMatrix\n   * @param {Function} callback   The callback function is invoked with three\n   *                              parameters: the value of the element, the index\n   *                              of the element, and the Matrix being traversed.\n   */\n  DenseMatrix.prototype.forEach = function (callback) {\n    // matrix instance\n    var me = this;\n    var recurse = function (value, index) {\n      if (isArray(value)) {\n        value.forEach(function (child, i) {\n          recurse(child, index.concat(i));\n        });\n      }\n      else {\n        callback(value, index, me);\n      }\n    };\n    recurse(this._data, []);\n  };\n  \n  /**\n   * Create an Array with a copy of the data of the DenseMatrix\n   * @memberof DenseMatrix\n   * @returns {Array} array\n   */\n  DenseMatrix.prototype.toArray = function () {\n    return object.clone(this._data);\n  };\n  \n  /**\n   * Get the primitive value of the DenseMatrix: a multidimensional array\n   * @memberof DenseMatrix\n   * @returns {Array} array\n   */\n  DenseMatrix.prototype.valueOf = function () {\n    return this._data;\n  };\n  \n  /**\n   * Get a string representation of the matrix, with optional formatting options.\n   * @memberof DenseMatrix\n   * @param {Object | number | Function} [options]  Formatting options. See\n   *                                                lib/utils/number:format for a\n   *                                                description of the available\n   *                                                options.\n   * @returns {string} str\n   */\n  DenseMatrix.prototype.format = function (options) {\n    return string.format(this._data, options);\n  };\n  \n  /**\n   * Get a string representation of the matrix\n   * @memberof DenseMatrix\n   * @returns {string} str\n   */\n  DenseMatrix.prototype.toString = function () {\n    return string.format(this._data);\n  };\n  \n  /**\n   * Get a JSON representation of the matrix\n   * @memberof DenseMatrix\n   * @returns {Object}\n   */\n  DenseMatrix.prototype.toJSON = function () {\n    return {\n      mathjs: 'DenseMatrix',\n      data: this._data,\n      size: this._size,\n      datatype: this._datatype\n    };\n  };\n  \n  /**\n   * Get the kth Matrix diagonal.\n   *\n   * @memberof DenseMatrix\n   * @param {number | BigNumber} [k=0]     The kth diagonal where the vector will retrieved.\n   *\n   * @returns {Array}                      The array vector with the diagonal values.\n   */\n  DenseMatrix.prototype.diagonal = function(k) {\n    // validate k if any\n    if (k) {\n      // convert BigNumber to a number\n      if (k.isBigNumber === true)\n        k = k.toNumber();\n      // is must be an integer\n      if (!isNumber(k) || !isInteger(k)) {\n        throw new TypeError ('The parameter k must be an integer number');\n      }\n    }\n    else {\n      // default value\n      k = 0;\n    }\n\n    var kSuper = k > 0 ? k : 0;\n    var kSub = k < 0 ? -k : 0;\n\n    // rows & columns\n    var rows = this._size[0];\n    var columns = this._size[1];\n\n    // number diagonal values\n    var n = Math.min(rows - kSub, columns -  kSuper);\n    \n    // x is a matrix get diagonal from matrix\n    var data = [];\n    \n    // loop rows\n    for (var i = 0; i < n; i++) {\n      data[i] = this._data[i + kSub][i + kSuper];\n    }\n\n    // create DenseMatrix\n    return new DenseMatrix({\n      data: data,\n      size: [n],\n      datatype: this._datatype\n    });\n  };\n  \n  /**\n   * Create a diagonal matrix.\n   *\n   * @memberof DenseMatrix\n   * @param {Array} size                   The matrix size.\n   * @param {number | Array} value          The values for the diagonal.\n   * @param {number | BigNumber} [k=0]     The kth diagonal where the vector will be filled in.\n   * @param {number} [defaultValue]        The default value for non-diagonal\n   *\n   * @returns {DenseMatrix}\n   */\n  DenseMatrix.diagonal = function (size, value, k, defaultValue, datatype) {\n    if (!isArray(size))\n      throw new TypeError('Array expected, size parameter');\n    if (size.length !== 2)\n      throw new Error('Only two dimensions matrix are supported');\n\n    // map size & validate\n    size = size.map(function (s) {\n      // check it is a big number\n      if (s && s.isBigNumber === true) {\n        // convert it\n        s = s.toNumber();\n      }\n      // validate arguments\n      if (!isNumber(s) || !isInteger(s) || s < 1) {\n        throw new Error('Size values must be positive integers');\n      } \n      return s;\n    });\n\n    // validate k if any\n    if (k) {\n      // convert BigNumber to a number\n      if (k && k.isBigNumber === true)\n        k = k.toNumber();\n      // is must be an integer\n      if (!isNumber(k) || !isInteger(k)) {\n        throw new TypeError ('The parameter k must be an integer number');\n      }\n    }\n    else {\n      // default value\n      k = 0;\n    }\n    \n    if (defaultValue && isString(datatype)) {\n      // convert defaultValue to the same datatype\n      defaultValue = typed.convert(defaultValue, datatype);\n    }\n\n    var kSuper = k > 0 ? k : 0;\n    var kSub = k < 0 ? -k : 0;\n    \n    // rows and columns\n    var rows = size[0];\n    var columns = size[1];\n\n    // number of non-zero items\n    var n = Math.min(rows - kSub, columns -  kSuper);\n\n    // value extraction function\n    var _value;\n\n    // check value\n    if (isArray(value)) {\n      // validate array\n      if (value.length !== n) {\n        // number of values in array must be n\n        throw new Error('Invalid value array length');\n      }\n      // define function\n      _value = function (i) {\n        // return value @ i\n        return value[i];\n      };      \n    }\n    else if (value && value.isMatrix === true) {\n      // matrix size\n      var ms = value.size();\n      // validate matrix\n      if (ms.length !== 1 || ms[0] !== n) {\n        // number of values in array must be n\n        throw new Error('Invalid matrix length');\n      }\n      // define function\n      _value = function (i) {\n        // return value @ i\n        return value.get([i]);\n      };\n    }\n    else {\n      // define function\n      _value = function () {\n        // return value\n        return value;\n      };\n    }\n    \n    // discover default value if needed\n    if (!defaultValue) {\n      // check first value in array\n      defaultValue = (_value(0) && _value(0).isBigNumber === true) ? new type.BigNumber(0) : 0;\n    }\n\n    // empty array\n    var data = [];\n\n    // check we need to resize array\n    if (size.length > 0) {\n      // resize array\n      data = array.resize(data, size, defaultValue);\n      // fill diagonal\n      for (var d = 0; d < n; d++) {\n        data[d + kSub][d + kSuper] = _value(d);\n      }\n    }\n    \n    // create DenseMatrix\n    return new DenseMatrix({\n      data: data,\n      size: [rows, columns]\n    });\n  };\n\n  /**\n   * Generate a matrix from a JSON object\n   * @memberof DenseMatrix\n   * @param {Object} json  An object structured like\n   *                       `{\"mathjs\": \"DenseMatrix\", data: [], size: []}`,\n   *                       where mathjs is optional\n   * @returns {DenseMatrix}\n   */\n  DenseMatrix.fromJSON = function (json) {\n    return new DenseMatrix(json);\n  };\n  \n  /**\n   * Swap rows i and j in Matrix.\n   *\n   * @memberof DenseMatrix\n   * @param {number} i       Matrix row index 1\n   * @param {number} j       Matrix row index 2\n   *\n   * @return {Matrix}        The matrix reference\n   */\n  DenseMatrix.prototype.swapRows = function (i, j) {\n    // check index\n    if (!isNumber(i) || !isInteger(i) || !isNumber(j) || !isInteger(j)) {\n      throw new Error('Row index must be positive integers');\n    }\n    // check dimensions\n    if (this._size.length !== 2) {\n      throw new Error('Only two dimensional matrix is supported');\n    }\n    // validate index\n    validateIndex(i, this._size[0]);\n    validateIndex(j, this._size[0]);\n\n    // swap rows\n    DenseMatrix._swapRows(i, j, this._data);\n    // return current instance\n    return this;\n  };\n\n  /**\n   * Swap rows i and j in Dense Matrix data structure.\n   *\n   * @param {number} i       Matrix row index 1\n   * @param {number} j       Matrix row index 2\n   */\n  DenseMatrix._swapRows = function (i, j, data) {\n    // swap values i <-> j\n    var vi = data[i];\n    data[i] = data[j];\n    data[j] = vi;\n  };\n   \n  /**\n   * Preprocess data, which can be an Array or DenseMatrix with nested Arrays and\n   * Matrices. Replaces all nested Matrices with Arrays\n   * @memberof DenseMatrix\n   * @param {Array} data\n   * @return {Array} data\n   */\n  function preprocess(data) {\n    for (var i = 0, ii = data.length; i < ii; i++) {\n      var elem = data[i];\n      if (isArray(elem)) {\n        data[i] = preprocess(elem);\n      }\n      else if (elem && elem.isMatrix === true) {\n        data[i] = preprocess(elem.valueOf());\n      }\n    }\n\n    return data;\n  }\n\n  // register this type in the base class Matrix\n  type.Matrix._storage.dense = DenseMatrix;\n  type.Matrix._storage['default'] = DenseMatrix;\n\n  // exports\n  return DenseMatrix;\n}\n\nexports.name = 'DenseMatrix';\nexports.path = 'type';\nexports.factory = factory;\nexports.lazy = false;  // no lazy loading, as we alter type.Matrix._storage","'use strict';\n\n/**\n * Compares two BigNumbers.\n * @param {BigNumber} x       First value to compare\n * @param {BigNumber} y       Second value to compare\n * @param {number} [epsilon]  The maximum relative difference between x and y\n *                            If epsilon is undefined or null, the function will\n *                            test whether x and y are exactly equal.\n * @return {boolean} whether the two numbers are nearly equal\n */\nmodule.exports = function nearlyEqual(x, y, epsilon) {\n  // if epsilon is null or undefined, test whether x and y are exactly equal\n  if (epsilon == null) {\n    return x.eq(y);\n  }\n\n\n  // use \"==\" operator, handles infinities\n  if (x.eq(y)) {\n    return true;\n  }\n\n  // NaN\n  if (x.isNaN() || y.isNaN()) {\n    return false;\n  }\n\n  // at this point x and y should be finite\n  if(x.isFinite() && y.isFinite()) {\n    // check numbers are very close, needed when comparing numbers near zero\n    var diff = x.minus(y).abs();\n    if (diff.isZero()) {\n      return true;\n    }\n    else {\n      // use relative error\n      var max = x.constructor.max(x.abs(), y.abs());\n      return diff.lte(max.times(epsilon));\n    }\n  }\n\n  // Infinite and Number or negative Infinite and positive Infinite cases\n  return false;\n};\n","'use strict';\n\nvar nearlyEqual = require('../../utils/number').nearlyEqual;\nvar bigNearlyEqual = require('../../utils/bignumber/nearlyEqual');\n\nfunction factory (type, config, load, typed) {\n  \n  /**\n   * Test whether two values are equal.\n   *\n   * @param  {number | BigNumber | Fraction | boolean | Complex | Unit} x   First value to compare\n   * @param  {number | BigNumber | Fraction | boolean | Complex} y          Second value to compare\n   * @return {boolean}                                                  Returns true when the compared values are equal, else returns false\n   * @private\n   */\n  var equalScalar = typed('equalScalar', {\n\n    'boolean, boolean': function (x, y) {\n      return x === y;\n    },\n\n    'number, number': function (x, y) {\n      return x === y || nearlyEqual(x, y, config.epsilon);\n    },\n\n    'BigNumber, BigNumber': function (x, y) {\n      return x.eq(y) || bigNearlyEqual(x, y, config.epsilon);\n    },\n\n    'Fraction, Fraction': function (x, y) {\n      return x.equals(y);\n    },\n\n    'Complex, Complex': function (x, y) {\n      return x.equals(y);\n    },\n\n    'Unit, Unit': function (x, y) {\n      if (!x.equalBase(y)) {\n        throw new Error('Cannot compare units with different base');\n      }\n      return equalScalar(x.value, y.value);\n    },\n\n    'string, string': function (x, y) {\n      return x === y;\n    }\n  });\n  \n  return equalScalar;\n}\n\nexports.factory = factory;\n","'use strict';\n\nvar util = require('../../utils/index');\nvar DimensionError = require('../../error/DimensionError');\n\nvar array = util.array;\nvar object = util.object;\nvar string = util.string;\nvar number = util.number;\n\nvar isArray = Array.isArray;\nvar isNumber = number.isNumber;\nvar isInteger = number.isInteger;\nvar isString = string.isString;\n\nvar validateIndex = array.validateIndex;\n\nfunction factory (type, config, load, typed) {\n  var Matrix = load(require('./Matrix')); // force loading Matrix (do not use via type.Matrix)\n  var equalScalar = load(require('../../function/relational/equalScalar'));\n\n  /**\n   * Sparse Matrix implementation. This type implements a Compressed Column Storage format\n   * for sparse matrices.\n   * @class SparseMatrix\n   */\n  function SparseMatrix(data, datatype) {\n    if (!(this instanceof SparseMatrix))\n      throw new SyntaxError('Constructor must be called with the new operator');\n    if (datatype && !isString(datatype))\n      throw new Error('Invalid datatype: ' + datatype);\n    \n    if (data && data.isMatrix === true) {\n      // create from matrix\n      _createFromMatrix(this, data, datatype);\n    }\n    else if (data && isArray(data.index) && isArray(data.ptr) && isArray(data.size)) {\n      // initialize fields\n      this._values = data.values;\n      this._index = data.index;\n      this._ptr = data.ptr;\n      this._size = data.size;\n      this._datatype = datatype || data.datatype;\n    }\n    else if (isArray(data)) {\n      // create from array\n      _createFromArray(this, data, datatype);\n    }\n    else if (data) {\n      // unsupported type\n      throw new TypeError('Unsupported type of data (' + util.types.type(data) + ')');\n    }\n    else {\n      // nothing provided\n      this._values = [];\n      this._index = [];\n      this._ptr = [0];\n      this._size = [0, 0];\n      this._datatype = datatype;\n    }\n  }\n  \n  var _createFromMatrix = function (matrix, source, datatype) {\n    // check matrix type\n    if (source.type === 'SparseMatrix') {\n      // clone arrays\n      matrix._values = source._values ? object.clone(source._values) : undefined;\n      matrix._index = object.clone(source._index);\n      matrix._ptr = object.clone(source._ptr);\n      matrix._size = object.clone(source._size);\n      matrix._datatype = datatype || source._datatype;\n    }\n    else {\n      // build from matrix data\n      _createFromArray(matrix, source.valueOf(), datatype || source._datatype);\n    }\n  };\n  \n  var _createFromArray = function (matrix, data, datatype) {\n    // initialize fields\n    matrix._values = [];\n    matrix._index = [];\n    matrix._ptr = [];\n    matrix._datatype = datatype;\n    // discover rows & columns, do not use math.size() to avoid looping array twice\n    var rows = data.length;\n    var columns = 0;\n    \n    // equal signature to use\n    var eq = equalScalar;\n    // zero value\n    var zero = 0;\n    \n    if (isString(datatype)) {\n      // find signature that matches (datatype, datatype)\n      eq = typed.find(equalScalar, [datatype, datatype]) || equalScalar;\n      // convert 0 to the same datatype\n      zero = typed.convert(0, datatype);\n    }\n\n    // check we have rows (empty array)\n    if (rows > 0) {\n      // column index\n      var j = 0;\n      do {\n        // store pointer to values index\n        matrix._ptr.push(matrix._index.length);\n        // loop rows\n        for (var i = 0; i < rows; i++) {\n          // current row\n          var row = data[i];\n          // check row is an array\n          if (isArray(row)) {\n            // update columns if needed (only on first column)\n            if (j === 0 && columns < row.length)\n              columns = row.length;\n            // check row has column\n            if (j < row.length) {\n              // value\n              var v = row[j];\n              // check value != 0\n              if (!eq(v, zero)) {\n                // store value\n                matrix._values.push(v);\n                // index\n                matrix._index.push(i);\n              }\n            }\n          }\n          else {\n            // update columns if needed (only on first column)\n            if (j === 0 && columns < 1)\n              columns = 1;\n            // check value != 0 (row is a scalar)\n            if (!eq(row, zero)) {\n              // store value\n              matrix._values.push(row);\n              // index\n              matrix._index.push(i);\n            }\n          }\n        }\n        // increment index\n        j++;      \n      }\n      while (j < columns);\n    }\n    // store number of values in ptr\n    matrix._ptr.push(matrix._index.length);\n    // size\n    matrix._size = [rows, columns];\n  };\n  \n  SparseMatrix.prototype = new Matrix();\n\n  /**\n   * Attach type information\n   */\n  SparseMatrix.prototype.type = 'SparseMatrix';\n  SparseMatrix.prototype.isSparseMatrix = true;\n\n  /**\n   * Get the storage format used by the matrix.\n   *\n   * Usage:\n   *     var format = matrix.storage()                   // retrieve storage format\n   *\n   * @memberof SparseMatrix\n   * @return {string}           The storage format.\n   */\n  SparseMatrix.prototype.storage = function () {\n    return 'sparse';\n  };\n\n  /**\n   * Get the datatype of the data stored in the matrix.\n   *\n   * Usage:\n   *     var format = matrix.datatype()                   // retrieve matrix datatype\n   *\n   * @memberof SparseMatrix\n   * @return {string}           The datatype.\n   */\n  SparseMatrix.prototype.datatype = function () {\n    return this._datatype;\n  };\n\n  /**\n   * Create a new SparseMatrix\n   * @memberof SparseMatrix\n   * @param {Array} data\n   * @param {string} [datatype]\n   */\n  SparseMatrix.prototype.create = function (data, datatype) {\n    return new SparseMatrix(data, datatype);\n  };\n\n  /**\n   * Get the matrix density.\n   *\n   * Usage:\n   *     var density = matrix.density()                   // retrieve matrix density\n   *\n   * @memberof SparseMatrix\n   * @return {number}           The matrix density.\n   */\n  SparseMatrix.prototype.density = function () {\n    // rows & columns\n    var rows = this._size[0];\n    var columns = this._size[1];\n    // calculate density\n    return rows !== 0 && columns !== 0 ? (this._index.length / (rows * columns)) : 0;\n  };\n  \n  /**\n   * Get a subset of the matrix, or replace a subset of the matrix.\n   *\n   * Usage:\n   *     var subset = matrix.subset(index)               // retrieve subset\n   *     var value = matrix.subset(index, replacement)   // replace subset\n   *\n   * @memberof SparseMatrix\n   * @param {Index} index\n   * @param {Array | Maytrix | *} [replacement]\n   * @param {*} [defaultValue=0]      Default value, filled in on new entries when\n   *                                  the matrix is resized. If not provided,\n   *                                  new matrix elements will be filled with zeros.\n   */\n  SparseMatrix.prototype.subset = function (index, replacement, defaultValue) { // check it is a pattern matrix\n    if (!this._values)\n      throw new Error('Cannot invoke subset on a Pattern only matrix');\n\n    // check arguments\n    switch (arguments.length) {\n      case 1:\n        return _getsubset(this, index);\n\n        // intentional fall through\n      case 2:\n      case 3:\n        return _setsubset(this, index, replacement, defaultValue);\n\n      default:\n        throw new SyntaxError('Wrong number of arguments');\n    }\n  };\n  \n  var _getsubset = function (matrix, idx) {\n    // check idx\n    if (!idx || idx.isIndex !== true) {\n      throw new TypeError('Invalid index');\n    }\n\n    var isScalar = idx.isScalar();\n    if (isScalar) {\n      // return a scalar\n      return matrix.get(idx.min());\n    }\n    // validate dimensions\n    var size = idx.size();\n    if (size.length != matrix._size.length) {\n      throw new DimensionError(size.length, matrix._size.length);\n    }\n\n    // vars\n    var i, ii, k, kk;\n    \n    // validate if any of the ranges in the index is out of range\n    var min = idx.min();\n    var max = idx.max();\n    for (i = 0, ii = matrix._size.length; i < ii; i++) {\n      validateIndex(min[i], matrix._size[i]);\n      validateIndex(max[i], matrix._size[i]);\n    }\n    \n    // matrix arrays\n    var mvalues = matrix._values;\n    var mindex = matrix._index;\n    var mptr = matrix._ptr;\n        \n    // rows & columns dimensions for result matrix\n    var rows = idx.dimension(0);\n    var columns = idx.dimension(1);\n    \n    // workspace & permutation vector\n    var w = [];\n    var pv = [];\n    \n    // loop rows in resulting matrix\n    rows.forEach(function (i, r) {\n      // update permutation vector\n      pv[i] = r[0];  \n      // mark i in workspace\n      w[i] = true;\n    });\n\n    // result matrix arrays\n    var values = mvalues ? [] : undefined;\n    var index = [];\n    var ptr = [];\n        \n    // loop columns in result matrix\n    columns.forEach(function (j) {\n      // update ptr\n      ptr.push(index.length);\n      // loop values in column j\n      for (k = mptr[j], kk = mptr[j + 1]; k < kk; k++) {\n        // row\n        i = mindex[k];\n        // check row is in result matrix\n        if (w[i] === true) {\n          // push index\n          index.push(pv[i]);\n          // check we need to process values\n          if (values)\n            values.push(mvalues[k]);\n        }\n      }\n    });\n    // update ptr\n    ptr.push(index.length);\n    \n    // return matrix\n    return new SparseMatrix({\n      values: values,\n      index: index,\n      ptr: ptr,\n      size: size,\n      datatype: matrix._datatype\n    });\n  };\n  \n  var _setsubset = function (matrix, index, submatrix, defaultValue) {\n    // check index\n    if (!index || index.isIndex !== true) {\n      throw new TypeError('Invalid index');\n    }\n    \n    // get index size and check whether the index contains a single value\n    var iSize = index.size(),\n        isScalar = index.isScalar();\n    \n    // calculate the size of the submatrix, and convert it into an Array if needed\n    var sSize;\n    if (submatrix && submatrix.isMatrix === true) {\n      // submatrix size\n      sSize = submatrix.size();\n      // use array representation\n      submatrix = submatrix.toArray();\n    }\n    else {\n      // get submatrix size (array, scalar)\n      sSize = array.size(submatrix);\n    }\n    \n    // check index is a scalar\n    if (isScalar) {\n      // verify submatrix is a scalar\n      if (sSize.length !== 0) {\n        throw new TypeError('Scalar expected');\n      }\n      // set value\n      matrix.set(index.min(), submatrix, defaultValue);\n    }\n    else {\n      // validate dimensions, index size must be one or two dimensions\n      if (iSize.length !== 1 && iSize.length !== 2) {\n        throw new DimensionError(iSize.length, matrix._size.length, '<');\n      }\n      \n      // check submatrix and index have the same dimensions\n      if (sSize.length < iSize.length) {\n        // calculate number of missing outer dimensions\n        var i = 0;\n        var outer = 0;\n        while (iSize[i] === 1 && sSize[i] === 1) {\n          i++;\n        }\n        while (iSize[i] === 1) {\n          outer++;\n          i++;\n        }\n        // unsqueeze both outer and inner dimensions\n        submatrix = array.unsqueeze(submatrix, iSize.length, outer, sSize);\n      }\n      \n      // check whether the size of the submatrix matches the index size\n      if (!object.deepEqual(iSize, sSize)) {\n        throw new DimensionError(iSize, sSize, '>');\n      }\n      \n      // offsets\n      var x0 = index.min()[0];\n      var y0 = index.min()[1];      \n      \n      // submatrix rows and columns\n      var m = sSize[0];\n      var n = sSize[1];\n\n      // loop submatrix\n      for (var x = 0; x < m; x++) {\n        // loop columns\n        for (var y = 0; y < n; y++) {\n          // value at i, j\n          var v = submatrix[x][y];\n          // invoke set (zero value will remove entry from matrix)\n          matrix.set([x + x0, y + y0], v, defaultValue);\n        }\n      }\n    }\n    return matrix;\n  };\n\n  /**\n   * Get a single element from the matrix.\n   * @memberof SparseMatrix\n   * @param {number[]} index   Zero-based index\n   * @return {*} value\n   */\n  SparseMatrix.prototype.get = function (index) {\n    if (!isArray(index))\n      throw new TypeError('Array expected');\n    if (index.length != this._size.length)\n      throw new DimensionError(index.length, this._size.length);\n\n    // check it is a pattern matrix\n    if (!this._values)\n      throw new Error('Cannot invoke get on a Pattern only matrix');\n\n    // row and column\n    var i = index[0];\n    var j = index[1];\n\n    // check i, j are valid\n    validateIndex(i, this._size[0]);\n    validateIndex(j, this._size[1]);\n\n    // find value index\n    var k = _getValueIndex(i, this._ptr[j], this._ptr[j + 1], this._index);\n    // check k is prior to next column k and it is in the correct row\n    if (k < this._ptr[j + 1] && this._index[k] === i)\n      return this._values[k];\n\n    return 0;\n  };\n  \n  /**\n   * Replace a single element in the matrix.\n   * @memberof SparseMatrix\n   * @param {number[]} index   Zero-based index\n   * @param {*} value\n   * @param {*} [defaultValue]        Default value, filled in on new entries when\n   *                                  the matrix is resized. If not provided,\n   *                                  new matrix elements will be set to zero.\n   * @return {SparseMatrix} self\n   */\n  SparseMatrix.prototype.set = function (index, v, defaultValue) {\n    if (!isArray(index))\n      throw new TypeError('Array expected');\n    if (index.length != this._size.length)\n      throw new DimensionError(index.length, this._size.length);\n\n    // check it is a pattern matrix\n    if (!this._values)\n      throw new Error('Cannot invoke set on a Pattern only matrix');\n      \n    // row and column\n    var i = index[0];\n    var j = index[1];\n\n    // rows & columns\n    var rows = this._size[0];\n    var columns = this._size[1];\n    \n    // equal signature to use\n    var eq = equalScalar;\n    // zero value\n    var zero = 0;\n\n    if (isString(this._datatype)) {\n      // find signature that matches (datatype, datatype)\n      eq = typed.find(equalScalar, [this._datatype, this._datatype]) || equalScalar;\n      // convert 0 to the same datatype\n      zero = typed.convert(0, this._datatype);\n    }\n\n    // check we need to resize matrix\n    if (i > rows - 1 || j > columns - 1) {\n      // resize matrix\n      _resize(this, Math.max(i + 1, rows), Math.max(j + 1, columns), defaultValue);\n      // update rows & columns\n      rows = this._size[0];\n      columns = this._size[1];\n    }\n\n    // check i, j are valid\n    validateIndex(i, rows);\n    validateIndex(j, columns);\n\n    // find value index\n    var k = _getValueIndex(i, this._ptr[j], this._ptr[j + 1], this._index);\n    // check k is prior to next column k and it is in the correct row\n    if (k < this._ptr[j + 1] && this._index[k] === i) {\n      // check value != 0\n      if (!eq(v, zero)) {\n        // update value\n        this._values[k] = v;\n      }\n      else {\n        // remove value from matrix\n        _remove(k, j, this._values, this._index, this._ptr);\n      }\n    }\n    else {\n      // insert value @ (i, j)\n      _insert(k, i, j, v, this._values, this._index, this._ptr);\n    }\n\n    return this;\n  };\n  \n  var _getValueIndex = function(i, top, bottom, index) {\n    // check row is on the bottom side\n    if (bottom - top === 0)\n      return bottom;\n    // loop rows [top, bottom[\n    for (var r = top; r < bottom; r++) {\n      // check we found value index\n      if (index[r] === i)\n        return r;\n    }\n    // we did not find row\n    return top;\n  };\n\n  var _remove = function (k, j, values, index, ptr) {\n    // remove value @ k\n    values.splice(k, 1);\n    index.splice(k, 1);\n    // update pointers\n    for (var x = j + 1; x < ptr.length; x++)\n      ptr[x]--;\n  };\n\n  var _insert = function (k, i, j, v, values, index, ptr) {\n    // insert value\n    values.splice(k, 0, v);\n    // update row for k\n    index.splice(k, 0, i);\n    // update column pointers\n    for (var x = j + 1; x < ptr.length; x++)\n      ptr[x]++;\n  };\n  \n  /**\n   * Resize the matrix to the given size. Returns a copy of the matrix when \n   * `copy=true`, otherwise return the matrix itself (resize in place).\n   *\n   * @memberof SparseMatrix\n   * @param {number[]} size           The new size the matrix should have.\n   * @param {*} [defaultValue=0]      Default value, filled in on new entries.\n   *                                  If not provided, the matrix elements will\n   *                                  be filled with zeros.\n   * @param {boolean} [copy]          Return a resized copy of the matrix\n   *\n   * @return {Matrix}                 The resized matrix\n   */\n  SparseMatrix.prototype.resize = function (size, defaultValue, copy) {    \n    // validate arguments\n    if (!isArray(size))\n      throw new TypeError('Array expected');\n    if (size.length !== 2)\n      throw new Error('Only two dimensions matrix are supported');\n\n    // check sizes\n    size.forEach(function (value) {\n      if (!number.isNumber(value) || !number.isInteger(value) || value < 0) {\n        throw new TypeError('Invalid size, must contain positive integers ' +\n                            '(size: ' + string.format(size) + ')');\n      }\n    });\n    \n    // matrix to resize\n    var m = copy ? this.clone() : this;\n    // resize matrix\n    return _resize(m, size[0], size[1], defaultValue);\n  };\n  \n  var _resize = function (matrix, rows, columns, defaultValue) {\n    // value to insert at the time of growing matrix\n    var value = defaultValue || 0;\n    \n    // equal signature to use\n    var eq = equalScalar;\n    // zero value\n    var zero = 0;\n\n    if (isString(matrix._datatype)) {\n      // find signature that matches (datatype, datatype)\n      eq = typed.find(equalScalar, [matrix._datatype, matrix._datatype]) || equalScalar;\n      // convert 0 to the same datatype\n      zero = typed.convert(0, matrix._datatype);\n      // convert value to the same datatype\n      value = typed.convert(value, matrix._datatype);\n    }\n    \n    // should we insert the value?\n    var ins = !eq(value, zero);\n\n    // old columns and rows\n    var r = matrix._size[0];\n    var c = matrix._size[1];\n\n    var i, j, k;\n\n    // check we need to increase columns\n    if (columns > c) {\n      // loop new columns\n      for (j = c; j < columns; j++) {\n        // update matrix._ptr for current column\n        matrix._ptr[j] = matrix._values.length;\n        // check we need to insert matrix._values\n        if (ins) {\n          // loop rows\n          for (i = 0; i < r; i++) {\n            // add new matrix._values\n            matrix._values.push(value);\n            // update matrix._index\n            matrix._index.push(i);\n          }\n        }        \n      }\n      // store number of matrix._values in matrix._ptr\n      matrix._ptr[columns] = matrix._values.length;\n    }\n    else if (columns < c) {\n      // truncate matrix._ptr\n      matrix._ptr.splice(columns + 1, c - columns);\n      // truncate matrix._values and matrix._index\n      matrix._values.splice(matrix._ptr[columns], matrix._values.length);\n      matrix._index.splice(matrix._ptr[columns], matrix._index.length);\n    }\n    // update columns\n    c = columns;\n\n    // check we need to increase rows\n    if (rows > r) {\n      // check we have to insert values\n      if (ins) {\n        // inserts\n        var n = 0;\n        // loop columns\n        for (j = 0; j < c; j++) {\n          // update matrix._ptr for current column\n          matrix._ptr[j] = matrix._ptr[j] + n;\n          // where to insert matrix._values\n          k = matrix._ptr[j + 1] + n;\n          // pointer\n          var p = 0;\n          // loop new rows, initialize pointer\n          for (i = r; i < rows; i++, p++) {\n            // add value\n            matrix._values.splice(k + p, 0, value);\n            // update matrix._index\n            matrix._index.splice(k + p, 0, i);\n            // increment inserts\n            n++;\n          }\n        }\n        // store number of matrix._values in matrix._ptr\n        matrix._ptr[c] = matrix._values.length;\n      }\n    }\n    else if (rows < r) {\n      // deletes\n      var d = 0;\n      // loop columns\n      for (j = 0; j < c; j++) {\n        // update matrix._ptr for current column\n        matrix._ptr[j] = matrix._ptr[j] - d;\n        // where matrix._values start for next column\n        var k0 = matrix._ptr[j];\n        var k1 = matrix._ptr[j + 1] - d;\n        // loop matrix._index\n        for (k = k0; k < k1; k++) {\n          // row\n          i = matrix._index[k];\n          // check we need to delete value and matrix._index\n          if (i > rows - 1) {\n            // remove value\n            matrix._values.splice(k, 1);\n            // remove item from matrix._index\n            matrix._index.splice(k, 1);\n            // increase deletes\n            d++;\n          }\n        }\n      }\n      // update matrix._ptr for current column\n      matrix._ptr[j] = matrix._values.length;\n    }\n    // update matrix._size\n    matrix._size[0] = rows;\n    matrix._size[1] = columns;\n    // return matrix\n    return matrix;\n  };\n  \n  /**\n   * Create a clone of the matrix\n   * @memberof SparseMatrix\n   * @return {SparseMatrix} clone\n   */\n  SparseMatrix.prototype.clone = function () {\n    var m = new SparseMatrix({\n      values: this._values ? object.clone(this._values) : undefined,\n      index: object.clone(this._index),\n      ptr: object.clone(this._ptr),\n      size: object.clone(this._size),\n      datatype: this._datatype\n    });\n    return m;\n  };\n  \n  /**\n   * Retrieve the size of the matrix.\n   * @memberof SparseMatrix\n   * @returns {number[]} size\n   */\n  SparseMatrix.prototype.size = function() {\n    return this._size.slice(0); // copy the Array\n  };\n  \n  /**\n   * Create a new matrix with the results of the callback function executed on\n   * each entry of the matrix.\n   * @memberof SparseMatrix\n   * @param {Function} callback   The callback function is invoked with three\n   *                              parameters: the value of the element, the index\n   *                              of the element, and the Matrix being traversed.\n   * @param {boolean} [skipZeros] Invoke callback function for non-zero values only.\n   *\n   * @return {SparseMatrix} matrix\n   */\n  SparseMatrix.prototype.map = function (callback, skipZeros) {\n    // check it is a pattern matrix\n    if (!this._values)\n      throw new Error('Cannot invoke map on a Pattern only matrix');\n    // matrix instance\n    var me = this;\n    // rows and columns\n    var rows = this._size[0];\n    var columns = this._size[1];\n    // invoke callback\n    var invoke = function (v, i, j) {\n      // invoke callback\n      return callback(v, [i, j], me);\n    };\n    // invoke _map\n    return _map(this, 0, rows - 1, 0, columns - 1, invoke, skipZeros);\n  };\n\n  /**\n   * Create a new matrix with the results of the callback function executed on the interval\n   * [minRow..maxRow, minColumn..maxColumn].\n   */\n  var _map = function (matrix, minRow, maxRow, minColumn, maxColumn, callback, skipZeros) {\n    // result arrays\n    var values = [];\n    var index = [];\n    var ptr = [];\n    \n    // equal signature to use\n    var eq = equalScalar;\n    // zero value\n    var zero = 0;\n\n    if (isString(matrix._datatype)) {\n      // find signature that matches (datatype, datatype)\n      eq = typed.find(equalScalar, [matrix._datatype, matrix._datatype]) || equalScalar;\n      // convert 0 to the same datatype\n      zero = typed.convert(0, matrix._datatype);\n    }\n    \n    // invoke callback\n    var invoke = function (v, x, y) {\n      // invoke callback\n      v = callback(v, x, y);\n      // check value != 0\n      if (!eq(v, zero)) {\n        // store value\n        values.push(v);\n        // index\n        index.push(x);\n      }\n    };\n    // loop columns\n    for (var j = minColumn; j <= maxColumn; j++) {\n      // store pointer to values index\n      ptr.push(values.length);\n      // k0 <= k < k1 where k0 = _ptr[j] && k1 = _ptr[j+1]\n      var k0 = matrix._ptr[j];\n      var k1 = matrix._ptr[j + 1];\n      // row pointer\n      var p = minRow;\n      // loop k within [k0, k1[\n      for (var k = k0; k < k1; k++) {\n        // row index\n        var i = matrix._index[k];\n        // check i is in range\n        if (i >= minRow && i <= maxRow) {\n          // zero values\n          if (!skipZeros) {\n           for (var x = p; x < i; x++)\n             invoke(0, x - minRow, j - minColumn);\n          }\n          // value @ k\n          invoke(matrix._values[k], i - minRow, j - minColumn);\n        }\n        // update pointer\n        p = i + 1;\n      }\n      // zero values\n      if (!skipZeros) {\n        for (var y = p; y <= maxRow; y++)\n          invoke(0, y - minRow, j - minColumn);\n      }\n    }\n    // store number of values in ptr\n    ptr.push(values.length);\n    // return sparse matrix\n    return new SparseMatrix({\n      values: values,\n      index: index,\n      ptr: ptr,\n      size: [maxRow - minRow + 1, maxColumn - minColumn + 1]\n    });\n  };\n  \n  /**\n   * Execute a callback function on each entry of the matrix.\n   * @memberof SparseMatrix\n   * @param {Function} callback   The callback function is invoked with three\n   *                              parameters: the value of the element, the index\n   *                              of the element, and the Matrix being traversed.\n   * @param {boolean} [skipZeros] Invoke callback function for non-zero values only.\n   */\n  SparseMatrix.prototype.forEach = function (callback, skipZeros) {\n    // check it is a pattern matrix\n    if (!this._values)\n      throw new Error('Cannot invoke forEach on a Pattern only matrix');\n    // matrix instance\n    var me = this;\n    // rows and columns\n    var rows = this._size[0];\n    var columns = this._size[1];\n    // loop columns\n    for (var j = 0; j < columns; j++) {\n      // k0 <= k < k1 where k0 = _ptr[j] && k1 = _ptr[j+1]\n      var k0 = this._ptr[j];\n      var k1 = this._ptr[j + 1];\n      // column pointer\n      var p = 0;\n      // loop k within [k0, k1[\n      for (var k = k0; k < k1; k++) {\n        // row index\n        var i = this._index[k];\n        // check we need to process zeros\n        if (!skipZeros) {\n          // zero values\n          for (var x = p; x < i; x++)\n            callback(0, [x, j], me);\n        }\n        // value @ k\n        callback(this._values[k], [i, j], me);\n        // update pointer\n        p = i + 1;\n      }\n      // check we need to process zeros\n      if (!skipZeros) {\n        // zero values\n        for (var y = p; y < rows; y++)\n          callback(0, [y, j], me);\n      }\n    }\n  };\n  \n  /**\n   * Create an Array with a copy of the data of the SparseMatrix\n   * @memberof SparseMatrix\n   * @returns {Array} array\n   */\n  SparseMatrix.prototype.toArray = function () {\n    return _toArray(this._values, this._index, this._ptr, this._size, true);\n  };\n\n  /**\n   * Get the primitive value of the SparseMatrix: a two dimensions array\n   * @memberof SparseMatrix\n   * @returns {Array} array\n   */\n  SparseMatrix.prototype.valueOf = function () {\n    return _toArray(this._values, this._index, this._ptr, this._size, false);\n  };\n  \n  var _toArray = function (values, index, ptr, size, copy) {    \n    // rows and columns\n    var rows = size[0];\n    var columns = size[1];\n    // result\n    var a = [];\n    // vars\n    var i, j;\n    // initialize array\n    for (i = 0; i < rows; i++) {\n      a[i] = [];\n      for (j = 0; j < columns; j++)\n        a[i][j] = 0;\n    }\n\n    // loop columns\n    for (j = 0; j < columns; j++) {\n      // k0 <= k < k1 where k0 = _ptr[j] && k1 = _ptr[j+1]\n      var k0 = ptr[j];\n      var k1 = ptr[j + 1];\n      // loop k within [k0, k1[\n      for (var k = k0; k < k1; k++) {\n        // row index\n        i = index[k];\n        // set value (use one for pattern matrix)\n        a[i][j] = values ? (copy ? object.clone(values[k]) : values[k]) : 1;\n      }\n    }\n    return a;\n  };\n  \n  /**\n   * Get a string representation of the matrix, with optional formatting options.\n   * @memberof SparseMatrix\n   * @param {Object | number | Function} [options]  Formatting options. See\n   *                                                lib/utils/number:format for a\n   *                                                description of the available\n   *                                                options.\n   * @returns {string} str\n   */\n  SparseMatrix.prototype.format = function (options) {\n    // rows and columns\n    var rows = this._size[0];\n    var columns = this._size[1];\n    // density\n    var density = this.density();\n    // rows & columns\n    var str = 'Sparse Matrix [' + string.format(rows, options) + ' x ' + string.format(columns, options) + '] density: ' + string.format(density, options) + '\\n';\n    // loop columns\n    for (var j = 0; j < columns; j++) {\n      // k0 <= k < k1 where k0 = _ptr[j] && k1 = _ptr[j+1]\n      var k0 = this._ptr[j];\n      var k1 = this._ptr[j + 1];\n      // loop k within [k0, k1[\n      for (var k = k0; k < k1; k++) {\n        // row index\n        var i = this._index[k];\n        // append value\n        str += '\\n    (' + string.format(i, options) + ', ' + string.format(j, options) + ') ==> ' + (this._values ? string.format(this._values[k], options) : 'X');\n      }\n    }\n    return str;\n  };\n  \n  /**\n   * Get a string representation of the matrix\n   * @memberof SparseMatrix\n   * @returns {string} str\n   */\n  SparseMatrix.prototype.toString = function () {\n    return string.format(this.toArray());\n  };\n  \n  /**\n   * Get a JSON representation of the matrix\n   * @memberof SparseMatrix\n   * @returns {Object}\n   */\n  SparseMatrix.prototype.toJSON = function () {\n    return {\n      mathjs: 'SparseMatrix',\n      values: this._values,\n      index: this._index,\n      ptr: this._ptr,\n      size: this._size,\n      datatype: this._datatype\n    };\n  };\n\n  /**\n   * Get the kth Matrix diagonal.\n   *\n   * @memberof SparseMatrix\n   * @param {number | BigNumber} [k=0]     The kth diagonal where the vector will retrieved.\n   *\n   * @returns {Matrix}                     The matrix vector with the diagonal values.\n   */\n  SparseMatrix.prototype.diagonal = function(k) {\n    // validate k if any\n    if (k) {\n      // convert BigNumber to a number\n      if (k.isBigNumber === true)\n        k = k.toNumber();\n      // is must be an integer\n      if (!isNumber(k) || !isInteger(k)) {\n        throw new TypeError ('The parameter k must be an integer number');\n      }\n    }\n    else {\n      // default value\n      k = 0;\n    }\n\n    var kSuper = k > 0 ? k : 0;\n    var kSub = k < 0 ? -k : 0;\n    \n    // rows & columns\n    var rows = this._size[0];\n    var columns = this._size[1];\n    \n    // number diagonal values\n    var n = Math.min(rows - kSub, columns -  kSuper);\n    \n    // diagonal arrays\n    var values = [];\n    var index = [];\n    var ptr = [];\n    // initial ptr value\n    ptr[0] = 0;\n    // loop columns\n    for (var j = kSuper; j < columns && values.length < n; j++) {\n      // k0 <= k < k1 where k0 = _ptr[j] && k1 = _ptr[j+1]\n      var k0 = this._ptr[j];\n      var k1 = this._ptr[j + 1];\n      // loop x within [k0, k1[\n      for (var x = k0; x < k1; x++) {\n        // row index\n        var i = this._index[x];\n        // check row\n        if (i === j - kSuper + kSub) {\n          // value on this column\n          values.push(this._values[x]);\n          // store row\n          index[values.length - 1] = i - kSub;\n          // exit loop\n          break;\n        }\n      }\n    }\n    // close ptr\n    ptr.push(values.length);\n    // return matrix\n    return new SparseMatrix({\n      values: values,\n      index: index,\n      ptr: ptr,\n      size: [n, 1]\n    });\n  };\n  \n  /**\n   * Generate a matrix from a JSON object\n   * @memberof SparseMatrix\n   * @param {Object} json  An object structured like\n   *                       `{\"mathjs\": \"SparseMatrix\", \"values\": [], \"index\": [], \"ptr\": [], \"size\": []}`,\n   *                       where mathjs is optional\n   * @returns {SparseMatrix}\n   */\n  SparseMatrix.fromJSON = function (json) {\n    return new SparseMatrix(json);\n  };\n\n  /**\n   * Create a diagonal matrix.\n   *\n   * @memberof SparseMatrix\n   * @param {Array} size                       The matrix size.\n   * @param {number | Array | Matrix } value   The values for the diagonal.\n   * @param {number | BigNumber} [k=0]         The kth diagonal where the vector will be filled in.\n   * @param {string} [datatype]                The Matrix datatype, values must be of this datatype.\n   *\n   * @returns {SparseMatrix}\n   */\n  SparseMatrix.diagonal = function (size, value, k, defaultValue, datatype) {\n    if (!isArray(size))\n      throw new TypeError('Array expected, size parameter');\n    if (size.length !== 2)\n      throw new Error('Only two dimensions matrix are supported');\n    \n    // map size & validate\n    size = size.map(function (s) {\n      // check it is a big number\n      if (s && s.isBigNumber === true) {\n        // convert it\n        s = s.toNumber();\n      }\n      // validate arguments\n      if (!isNumber(s) || !isInteger(s) || s < 1) {\n        throw new Error('Size values must be positive integers');\n      } \n      return s;\n    });\n    \n    // validate k if any\n    if (k) {\n      // convert BigNumber to a number\n      if (k.isBigNumber === true)\n        k = k.toNumber();\n      // is must be an integer\n      if (!isNumber(k) || !isInteger(k)) {\n        throw new TypeError ('The parameter k must be an integer number');\n      }\n    }\n    else {\n      // default value\n      k = 0;\n    }\n\n    // equal signature to use\n    var eq = equalScalar;\n    // zero value\n    var zero = 0;\n\n    if (isString(datatype)) {\n      // find signature that matches (datatype, datatype)\n      eq = typed.find(equalScalar, [datatype, datatype]) || equalScalar;\n      // convert 0 to the same datatype\n      zero = typed.convert(0, datatype);\n    }\n    \n    var kSuper = k > 0 ? k : 0;\n    var kSub = k < 0 ? -k : 0;\n    \n    // rows and columns\n    var rows = size[0];\n    var columns = size[1];\n    \n    // number of non-zero items\n    var n = Math.min(rows - kSub, columns -  kSuper);\n    \n    // value extraction function\n    var _value;\n      \n    // check value\n    if (isArray(value)) {\n      // validate array\n      if (value.length !== n) {\n        // number of values in array must be n\n        throw new Error('Invalid value array length');\n      }\n      // define function\n      _value = function (i) {\n        // return value @ i\n        return value[i];\n      };\n    }\n    else if (value && value.isMatrix === true) {\n      // matrix size\n      var ms = value.size();\n      // validate matrix\n      if (ms.length !== 1 || ms[0] !== n) {\n        // number of values in array must be n\n        throw new Error('Invalid matrix length');\n      }\n      // define function\n      _value = function (i) {\n        // return value @ i\n        return value.get([i]);\n      };\n    }\n    else {\n      // define function\n      _value = function () {\n        // return value\n        return value;\n      };\n    }\n    \n    // create arrays\n    var values = [];\n    var index = [];\n    var ptr = [];\n    \n    // loop items\n    for (var j = 0; j < columns; j++) {\n      // number of rows with value\n      ptr.push(values.length);\n      // diagonal index\n      var i = j - kSuper;      \n      // check we need to set diagonal value\n      if (i >= 0 && i < n) {\n        // get value @ i\n        var v = _value(i);\n        // check for zero\n        if (!eq(v, zero)) {\n          // column\n          index.push(i + kSub);\n          // add value\n          values.push(v);\n        }\n      }\n    }\n    // last value should be number of values\n    ptr.push(values.length);\n    // create SparseMatrix\n    return new SparseMatrix({\n      values: values,\n      index: index,\n      ptr: ptr,\n      size: [rows, columns]\n    });\n  };\n  \n  /**\n   * Swap rows i and j in Matrix.\n   *\n   * @memberof SparseMatrix\n   * @param {number} i       Matrix row index 1\n   * @param {number} j       Matrix row index 2\n   *\n   * @return {Matrix}        The matrix reference\n   */\n  SparseMatrix.prototype.swapRows = function (i, j) {\n    // check index\n    if (!isNumber(i) || !isInteger(i) || !isNumber(j) || !isInteger(j)) {\n      throw new Error('Row index must be positive integers');\n    }\n    // check dimensions\n    if (this._size.length !== 2) {\n      throw new Error('Only two dimensional matrix is supported');\n    }\n    // validate index\n    validateIndex(i, this._size[0]);\n    validateIndex(j, this._size[0]);\n    \n    // swap rows\n    SparseMatrix._swapRows(i, j, this._size[1], this._values, this._index, this._ptr);\n    // return current instance\n    return this;\n  };\n  \n  /**\n   * Loop rows with data in column j.\n   *\n   * @param {number} j            Column\n   * @param {Array} values        Matrix values\n   * @param {Array} index         Matrix row indeces\n   * @param {Array} ptr           Matrix column pointers\n   * @param {Function} callback   Callback function invoked for every row in column j\n   */\n  SparseMatrix._forEachRow = function (j, values, index, ptr, callback) {\n    // indeces for column j\n    var k0 = ptr[j];\n    var k1 = ptr[j + 1];\n    // loop\n    for (var k = k0; k < k1; k++) {\n      // invoke callback\n      callback(index[k], values[k]);\n    }\n  };\n  \n  /**\n   * Swap rows x and y in Sparse Matrix data structures.\n   *\n   * @param {number} x         Matrix row index 1\n   * @param {number} y         Matrix row index 2\n   * @param {number} columns   Number of columns in matrix\n   * @param {Array} values     Matrix values\n   * @param {Array} index      Matrix row indeces\n   * @param {Array} ptr        Matrix column pointers\n   */\n  SparseMatrix._swapRows = function (x, y, columns, values, index, ptr) {\n    // loop columns\n    for (var j = 0; j < columns; j++) {\n      // k0 <= k < k1 where k0 = _ptr[j] && k1 = _ptr[j+1]\n      var k0 = ptr[j];\n      var k1 = ptr[j + 1];\n      // find value index @ x\n      var kx = _getValueIndex(x, k0, k1, index);\n      // find value index @ x\n      var ky = _getValueIndex(y, k0, k1, index);\n      // check both rows exist in matrix\n      if (kx < k1 && ky < k1 && index[kx] === x && index[ky] === y) {\n        // swap values (check for pattern matrix)\n        if (values) {\n          var v = values[kx];\n          values[kx] = values[ky];\n          values[ky] = v;\n        }\n        // next column\n        continue;\n      }\n      // check x row exist & no y row\n      if (kx < k1 && index[kx] === x && (ky >= k1 || index[ky] !== y)) {\n        // value @ x (check for pattern matrix)\n        var vx = values ? values[kx] : undefined;\n        // insert value @ y\n        index.splice(ky, 0, y);\n        if (values)\n          values.splice(ky, 0, vx);        \n        // remove value @ x (adjust array index if needed)\n        index.splice(ky <= kx ? kx + 1 : kx, 1);\n        if (values)\n          values.splice(ky <= kx ? kx + 1 : kx, 1);\n        // next column\n        continue;\n      }\n      // check y row exist & no x row\n      if (ky < k1 && index[ky] === y && (kx >= k1 || index[kx] !== x)) {\n        // value @ y (check for pattern matrix)\n        var vy = values ? values[ky] : undefined;\n        // insert value @ x\n        index.splice(kx, 0, x);\n        if (values)\n          values.splice(kx, 0, vy);\n        // remove value @ y (adjust array index if needed)\n        index.splice(kx <= ky ? ky + 1 : ky, 1);\n        if (values)\n          values.splice(kx <= ky ? ky + 1 : ky, 1);\n      }\n    }\n  };\n\n  // register this type in the base class Matrix\n  type.Matrix._storage.sparse = SparseMatrix;\n\n  return SparseMatrix;\n}\n\nexports.name = 'SparseMatrix';\nexports.path = 'type';\nexports.factory = factory;\nexports.lazy = false;  // no lazy loading, as we alter type.Matrix._storage\n","'use strict';\n\nfunction factory (type, config, load, typed) {\n  /**\n   * Create a Matrix. The function creates a new `math.type.Matrix` object from\n   * an `Array`. A Matrix has utility functions to manipulate the data in the\n   * matrix, like getting the size and getting or setting values in the matrix.\n   * Supported storage formats are 'dense' and 'sparse'.\n   *\n   * Syntax:\n   *\n   *    math.matrix()                         // creates an empty matrix using default storage format (dense).\n   *    math.matrix(data)                     // creates a matrix with initial data using default storage format (dense).\n   *    math.matrix('dense')                  // creates an empty matrix using the given storage format.\n   *    math.matrix(data, 'dense')            // creates a matrix with initial data using the given storage format.\n   *    math.matrix(data, 'sparse')           // creates a sparse matrix with initial data.\n   *    math.matrix(data, 'sparse', 'number') // creates a sparse matrix with initial data, number data type.\n   *\n   * Examples:\n   *\n   *    var m = math.matrix([[1, 2], [3, 4]]);\n   *    m.size();                        // Array [2, 2]\n   *    m.resize([3, 2], 5);\n   *    m.valueOf();                     // Array [[1, 2], [3, 4], [5, 5]]\n   *    m.get([1, 0])                    // number 3\n   *\n   * See also:\n   *\n   *    bignumber, boolean, complex, index, number, string, unit, sparse\n   *\n   * @param {Array | Matrix} [data]    A multi dimensional array\n   * @param {string} [format]          The Matrix storage format\n   *\n   * @return {Matrix} The created matrix\n   */\n  var matrix = typed('matrix', {\n    '': function () {\n      return _create([]);\n    },\n\n    'string': function (format) {\n      return _create([], format);\n    },\n    \n    'string, string': function (format, datatype) {\n      return _create([], format, datatype);\n    },\n\n    'Array': function (data) {\n      return _create(data);\n    },\n      \n    'Matrix': function (data) {\n      return _create(data, data.storage());\n    },\n    \n    'Array | Matrix, string': _create,\n    \n    'Array | Matrix, string, string': _create\n  });\n\n  matrix.toTex = {\n    0: '\\\\begin{bmatrix}\\\\end{bmatrix}',\n    1: '\\\\left(${args[0]}\\\\right)',\n    2: '\\\\left(${args[0]}\\\\right)'\n  };\n\n  return matrix;\n\n  /**\n   * Create a new Matrix with given storage format\n   * @param {Array} data\n   * @param {string} [format]\n   * @param {string} [datatype]\n   * @returns {Matrix} Returns a new Matrix\n   * @private\n   */\n  function _create(data, format, datatype) {\n    // get storage format constructor\n    var M = type.Matrix.storage(format || 'default');\n\n    // create instance\n    return new M(data, datatype);\n  }\n}\n\nexports.name = 'matrix';\nexports.factory = factory;\n","'use strict';\n\nfunction factory(type, config, load, typed) {\n\n  /**\n   * Add two scalar values, `x + y`.\n   * This function is meant for internal use: it is used by the public function\n   * `add`\n   *\n   * This function does not support collections (Array or Matrix), and does\n   * not validate the number of of inputs.\n   *\n   * @param  {number | BigNumber | Fraction | Complex | Unit} x   First value to add\n   * @param  {number | BigNumber | Fraction | Complex} y          Second value to add\n   * @return {number | BigNumber | Fraction | Complex | Unit}                      Sum of `x` and `y`\n   * @private\n   */\n  var add = typed('add', {\n\n    'number, number': function (x, y) {\n      return x + y;\n    },\n\n    'Complex, Complex': function (x, y) {\n      return x.add(y);\n    },\n\n    'BigNumber, BigNumber': function (x, y) {\n      return x.plus(y);\n    },\n\n    'Fraction, Fraction': function (x, y) {\n      return x.add(y);\n    },\n\n    'Unit, Unit': function (x, y) {\n      if (x.value == null) throw new Error('Parameter x contains a unit with undefined value');\n      if (y.value == null) throw new Error('Parameter y contains a unit with undefined value');\n      if (!x.equalBase(y)) throw new Error('Units do not match');\n\n      var res = x.clone();\n      res.value = add(res.value, y.value);\n      res.fixPrefix = false;\n      return res;\n    }\n  });\n\n  return add;\n}\n\nexports.factory = factory;\n","'use strict';\n\nexports.symbols = {\n  // GREEK LETTERS\n  Alpha: 'A',     alpha: '\\\\alpha',\n  Beta: 'B',      beta: '\\\\beta',\n  Gamma: '\\\\Gamma',    gamma: '\\\\gamma',\n  Delta: '\\\\Delta',    delta: '\\\\delta',\n  Epsilon: 'E',   epsilon: '\\\\epsilon',  varepsilon: '\\\\varepsilon',\n  Zeta: 'Z',      zeta: '\\\\zeta',\n  Eta: 'H',       eta: '\\\\eta',\n  Theta: '\\\\Theta',    theta: '\\\\theta',    vartheta: '\\\\vartheta',\n  Iota: 'I',      iota: '\\\\iota',\n  Kappa: 'K',     kappa: '\\\\kappa',    varkappa: '\\\\varkappa',\n  Lambda: '\\\\Lambda',   lambda: '\\\\lambda',\n  Mu: 'M',        mu: '\\\\mu',\n  Nu: 'N',        nu: '\\\\nu',\n  Xi: '\\\\Xi',       xi: '\\\\xi',\n  Omicron: 'O',   omicron: 'o',\n  Pi: '\\\\Pi',       pi: '\\\\pi',       varpi: '\\\\varpi',\n  Rho: 'P',       rho: '\\\\rho',      varrho: '\\\\varrho',\n  Sigma: '\\\\Sigma',    sigma: '\\\\sigma',    varsigma: '\\\\varsigma',\n  Tau: 'T',       tau: '\\\\tau',\n  Upsilon: '\\\\Upsilon',  upsilon: '\\\\upsilon',\n  Phi: '\\\\Phi',      phi: '\\\\phi',      varphi: '\\\\varphi',\n  Chi: 'X',       chi: '\\\\chi',\n  Psi: '\\\\Psi',      psi: '\\\\psi',\n  Omega: '\\\\Omega',    omega: '\\\\omega',\n  //logic\n  'true': '\\\\mathrm{True}',\n  'false': '\\\\mathrm{False}',\n  //other\n  i: 'i', //TODO use \\i ??\n  inf: '\\\\infty',\n  Inf: '\\\\infty',\n  infinity: '\\\\infty',\n  Infinity: '\\\\infty',\n  oo: '\\\\infty',\n  lim: '\\\\lim',\n  'undefined': '\\\\mathbf{?}'\n};\n\nexports.operators = {\n  'transpose': '^\\\\top',\n  'factorial': '!',\n  'pow': '^',\n  'dotPow': '.^\\\\wedge', //TODO find ideal solution\n  'unaryPlus': '+',\n  'unaryMinus': '-',\n  'bitNot': '~', //TODO find ideal solution\n  'not': '\\\\neg',\n  'multiply': '\\\\cdot',\n  'divide': '\\\\frac', //TODO how to handle that properly?\n  'dotMultiply': '.\\\\cdot', //TODO find ideal solution\n  'dotDivide': '.:', //TODO find ideal solution\n  'mod': '\\\\mod',\n  'add': '+',\n  'subtract': '-',\n  'to': '\\\\rightarrow',\n  'leftShift': '<<',\n  'rightArithShift': '>>',\n  'rightLogShift': '>>>',\n  'equal': '=',\n  'unequal': '\\\\neq',\n  'smaller': '<',\n  'larger': '>',\n  'smallerEq': '\\\\leq',\n  'largerEq': '\\\\geq',\n  'bitAnd': '\\\\&',\n  'bitXor': '\\\\underline{|}',\n  'bitOr': '|',\n  'and': '\\\\wedge',\n  'xor': '\\\\veebar',\n  'or': '\\\\vee'\n};\n\nexports.defaultTemplate = '\\\\mathrm{${name}}\\\\left(${args}\\\\right)';\n\nvar units = {\n  deg: '^\\\\circ'\n};\n\n//@param {string} name\n//@param {boolean} isUnit\nexports.toSymbol = function (name, isUnit) {\n  isUnit = typeof isUnit === 'undefined' ? false : isUnit;\n  if (isUnit) {\n    if (units.hasOwnProperty(name)) {\n      return units[name];\n    }\n    return '\\\\mathrm{' + name + '}';\n  }\n\n  if (exports.symbols.hasOwnProperty(name)) {\n    return exports.symbols[name];\n  }\n  else if (name.indexOf('_') !== -1) {\n    //symbol with index (eg. alpha_1)\n    var index = name.indexOf('_');\n    return exports.toSymbol(name.substring(0, index)) + '_{'\n      + exports.toSymbol(name.substring(index + 1)) + '}';\n  }\n  return name;\n};\n","'use strict';\n\nvar DimensionError = require('../../../error/DimensionError');\n\nfunction factory (type, config, load, typed) {\n\n  var DenseMatrix = type.DenseMatrix;\n\n  /**\n   * Iterates over SparseMatrix nonzero items and invokes the callback function f(Dij, Sij). \n   * Callback function invoked NNZ times (number of nonzero items in SparseMatrix).\n   *\n   *\n   *            f(Dij, Sij)  ; S(i,j) !== 0\n   * C(i,j) = \n   *            Dij          ; otherwise\n   *\n   *\n   * @param {Matrix}   denseMatrix       The DenseMatrix instance (D)\n   * @param {Matrix}   sparseMatrix      The SparseMatrix instance (S)\n   * @param {Function} callback          The f(Dij,Sij) operation to invoke, where Dij = DenseMatrix(i,j) and Sij = SparseMatrix(i,j)\n   * @param {boolean}  inverse           A true value indicates callback should be invoked f(Sij,Dij)\n   *\n   * @return {Matrix}                    DenseMatrix (C)\n   *\n   * see https://github.com/josdejong/mathjs/pull/346#issuecomment-97477571\n   */\n  var algorithm01 = function (denseMatrix, sparseMatrix, callback, inverse) {\n    // dense matrix arrays\n    var adata = denseMatrix._data;\n    var asize = denseMatrix._size;\n    var adt = denseMatrix._datatype;\n    // sparse matrix arrays\n    var bvalues = sparseMatrix._values;\n    var bindex = sparseMatrix._index;\n    var bptr = sparseMatrix._ptr;\n    var bsize = sparseMatrix._size;\n    var bdt = sparseMatrix._datatype;\n\n    // validate dimensions\n    if (asize.length !== bsize.length)\n      throw new DimensionError(asize.length, bsize.length);\n\n    // check rows & columns\n    if (asize[0] !== bsize[0] || asize[1] !== bsize[1])\n      throw new RangeError('Dimension mismatch. Matrix A (' + asize + ') must match Matrix B (' + bsize + ')');\n\n    // sparse matrix cannot be a Pattern matrix\n    if (!bvalues)\n      throw new Error('Cannot perform operation on Dense Matrix and Pattern Sparse Matrix');\n\n    // rows & columns\n    var rows = asize[0];\n    var columns = asize[1];\n\n    // process data types\n    var dt = typeof adt === 'string' && adt === bdt ? adt : undefined;\n    // callback function\n    var cf = dt ? typed.find(callback, [dt, dt]) : callback;\n\n    // vars\n    var i, j;\n    \n    // result (DenseMatrix)\n    var cdata = [];\n    // initialize c\n    for (i = 0; i < rows; i++)\n      cdata[i] = [];      \n    \n    // workspace\n    var x = [];\n    // marks indicating we have a value in x for a given column\n    var w = [];\n\n    // loop columns in b\n    for (j = 0; j < columns; j++) {\n      // column mark\n      var mark = j + 1;\n      // values in column j\n      for (var k0 = bptr[j], k1 = bptr[j + 1], k = k0; k < k1; k++) {\n        // row\n        i = bindex[k];\n        // update workspace\n        x[i] = inverse ? cf(bvalues[k], adata[i][j]) : cf(adata[i][j], bvalues[k]);\n        // mark i as updated\n        w[i] = mark;\n      }\n      // loop rows\n      for (i = 0; i < rows; i++) {\n        // check row is in workspace\n        if (w[i] === mark) {\n          // c[i][j] was already calculated\n          cdata[i][j] = x[i];\n        }\n        else {\n          // item does not exist in S\n          cdata[i][j] = adata[i][j];\n        }\n      }\n    }\n\n    // return dense matrix\n    return new DenseMatrix({\n      data: cdata,\n      size: [rows, columns],\n      datatype: dt\n    });\n  };\n  \n  return algorithm01;\n}\n\nexports.name = 'algorithm01';\nexports.factory = factory;\n","'use strict';\n\nvar DimensionError = require('../../../error/DimensionError');\n\nfunction factory (type, config, load, typed) {\n\n  var equalScalar = load(require('../../../function/relational/equalScalar'));\n\n  var SparseMatrix = type.SparseMatrix;\n\n  /**\n   * Iterates over SparseMatrix A and SparseMatrix B nonzero items and invokes the callback function f(Aij, Bij). \n   * Callback function invoked MAX(NNZA, NNZB) times\n   *\n   *\n   *            f(Aij, Bij)  ; A(i,j) !== 0 && B(i,j) !== 0\n   * C(i,j) =   A(i,j)       ; A(i,j) !== 0\n   *            B(i,j)       ; B(i,j) !== 0\n   *\n   *\n   * @param {Matrix}   a                 The SparseMatrix instance (A)\n   * @param {Matrix}   b                 The SparseMatrix instance (B)\n   * @param {Function} callback          The f(Aij,Bij) operation to invoke\n   *\n   * @return {Matrix}                    SparseMatrix (C)\n   *\n   * see https://github.com/josdejong/mathjs/pull/346#issuecomment-97620294\n   */\n  var algorithm04 = function (a, b, callback) {\n    // sparse matrix arrays\n    var avalues = a._values;\n    var aindex = a._index;\n    var aptr = a._ptr;\n    var asize = a._size;\n    var adt = a._datatype;\n    // sparse matrix arrays\n    var bvalues = b._values;\n    var bindex = b._index;\n    var bptr = b._ptr;\n    var bsize = b._size;\n    var bdt = b._datatype;\n\n    // validate dimensions\n    if (asize.length !== bsize.length)\n      throw new DimensionError(asize.length, bsize.length);\n\n    // check rows & columns\n    if (asize[0] !== bsize[0] || asize[1] !== bsize[1])\n      throw new RangeError('Dimension mismatch. Matrix A (' + asize + ') must match Matrix B (' + bsize + ')');\n\n    // rows & columns\n    var rows = asize[0];\n    var columns = asize[1];\n\n    // datatype\n    var dt;\n    // equal signature to use\n    var eq = equalScalar;\n    // zero value\n    var zero = 0;\n    // callback signature to use\n    var cf = callback;\n\n    // process data types\n    if (typeof adt === 'string' && adt === bdt) {\n      // datatype\n      dt = adt;\n      // find signature that matches (dt, dt)\n      eq = typed.find(equalScalar, [dt, dt]);\n      // convert 0 to the same datatype\n      zero = typed.convert(0, dt);\n      // callback\n      cf = typed.find(callback, [dt, dt]);\n    }\n\n    // result arrays\n    var cvalues = avalues && bvalues ? [] : undefined;\n    var cindex = [];\n    var cptr = [];\n    // matrix\n    var c = new SparseMatrix({\n      values: cvalues,\n      index: cindex,\n      ptr: cptr,\n      size: [rows, columns],\n      datatype: dt\n    });\n\n    // workspace\n    var xa = avalues && bvalues ? [] : undefined;\n    var xb = avalues && bvalues ? [] : undefined;\n    // marks indicating we have a value in x for a given column\n    var wa = [];\n    var wb = [];\n\n    // vars \n    var i, j, k, k0, k1;\n    \n    // loop columns\n    for (j = 0; j < columns; j++) {\n      // update cptr\n      cptr[j] = cindex.length;\n      // columns mark\n      var mark = j + 1;\n      // loop A(:,j)\n      for (k0 = aptr[j], k1 = aptr[j + 1], k = k0; k < k1; k++) {\n        // row\n        i = aindex[k];\n        // update c\n        cindex.push(i);\n        // update workspace\n        wa[i] = mark;\n        // check we need to process values\n        if (xa)\n          xa[i] = avalues[k];\n      }\n      // loop B(:,j)\n      for (k0 = bptr[j], k1 = bptr[j + 1], k = k0; k < k1; k++) {\n        // row\n        i = bindex[k];\n        // check row exists in A\n        if (wa[i] === mark) {\n          // update record in xa @ i\n          if (xa) {\n            // invoke callback\n            var v = cf(xa[i], bvalues[k]);\n            // check for zero\n            if (!eq(v, zero)) {\n              // update workspace\n              xa[i] = v;              \n            }\n            else {\n              // remove mark (index will be removed later)\n              wa[i] = null;\n            }\n          }\n        }\n        else {\n          // update c\n          cindex.push(i);\n          // update workspace\n          wb[i] = mark;\n          // check we need to process values\n          if (xb)\n            xb[i] = bvalues[k];\n        }\n      }\n      // check we need to process values (non pattern matrix)\n      if (xa && xb) {\n        // initialize first index in j\n        k = cptr[j];\n        // loop index in j\n        while (k < cindex.length) {\n          // row\n          i = cindex[k];\n          // check workspace has value @ i\n          if (wa[i] === mark) {\n            // push value (Aij != 0 || (Aij != 0 && Bij != 0))\n            cvalues[k] = xa[i];\n            // increment pointer\n            k++;\n          }\n          else if (wb[i] === mark) {\n            // push value (bij != 0)\n            cvalues[k] = xb[i];\n            // increment pointer\n            k++;\n          }\n          else {\n            // remove index @ k\n            cindex.splice(k, 1);\n          }\n        }\n      }\n    }\n    // update cptr\n    cptr[columns] = cindex.length;\n\n    // return sparse matrix\n    return c;\n  };\n  \n  return algorithm04;\n}\n\nexports.name = 'algorithm04';\nexports.factory = factory;\n","'use strict';\n\nfunction factory (type, config, load, typed) {\n\n  var DenseMatrix = type.DenseMatrix;\n\n  /**\n   * Iterates over SparseMatrix S nonzero items and invokes the callback function f(Sij, b). \n   * Callback function invoked NZ times (number of nonzero items in S).\n   *\n   *\n   *            f(Sij, b)  ; S(i,j) !== 0\n   * C(i,j) =   \n   *            b          ; otherwise\n   *\n   *\n   * @param {Matrix}   s                 The SparseMatrix instance (S)\n   * @param {Scalar}   b                 The Scalar value\n   * @param {Function} callback          The f(Aij,b) operation to invoke\n   * @param {boolean}  inverse           A true value indicates callback should be invoked f(b,Sij)\n   *\n   * @return {Matrix}                    DenseMatrix (C)\n   *\n   * https://github.com/josdejong/mathjs/pull/346#issuecomment-97626813\n   */\n  var algorithm10 = function (s, b, callback, inverse) {\n    // sparse matrix arrays\n    var avalues = s._values;\n    var aindex = s._index;\n    var aptr = s._ptr;\n    var asize = s._size;\n    var adt = s._datatype;\n\n    // sparse matrix cannot be a Pattern matrix\n    if (!avalues)\n      throw new Error('Cannot perform operation on Pattern Sparse Matrix and Scalar value');\n\n    // rows & columns\n    var rows = asize[0];\n    var columns = asize[1];\n\n    // datatype\n    var dt;\n    // callback signature to use\n    var cf = callback;\n\n    // process data types\n    if (typeof adt === 'string') {\n      // datatype\n      dt = adt;\n      // convert b to the same datatype\n      b = typed.convert(b, dt);\n      // callback\n      cf = typed.find(callback, [dt, dt]);\n    }\n\n    // result arrays\n    var cdata = [];\n    // matrix\n    var c = new DenseMatrix({\n      data: cdata,\n      size: [rows, columns],\n      datatype: dt\n    });\n\n    // workspaces\n    var x = [];\n    // marks indicating we have a value in x for a given column\n    var w = [];\n\n    // loop columns\n    for (var j = 0; j < columns; j++) {\n      // columns mark\n      var mark = j + 1;\n      // values in j\n      for (var k0 = aptr[j], k1 = aptr[j + 1], k = k0; k < k1; k++) {\n        // row\n        var r = aindex[k];\n        // update workspace\n        x[r] = avalues[k];\n        w[r] = mark;\n      }\n      // loop rows\n      for (var i = 0; i < rows; i++) {\n        // initialize C on first column\n        if (j === 0) {\n          // create row array\n          cdata[i] = [];\n        }\n        // check sparse matrix has a value @ i,j\n        if (w[i] === mark) {\n          // invoke callback, update C\n          cdata[i][j] = inverse ? cf(b, x[i]) : cf(x[i], b);\n        }\n        else {\n          // dense matrix value @ i, j\n          cdata[i][j] = b;\n        }\n      }\n    }\n\n    // return sparse matrix\n    return c;\n  };\n\n  return algorithm10;\n}\n\nexports.name = 'algorithm10';\nexports.factory = factory;\n","'use strict';\n\nvar util = require('../../../utils/index');\nvar DimensionError = require('../../../error/DimensionError');\n\nvar string = util.string,\n    isString = string.isString;\n\nfunction factory (type, config, load, typed) {\n\n  var DenseMatrix = type.DenseMatrix;\n\n  /**\n   * Iterates over DenseMatrix items and invokes the callback function f(Aij..z, Bij..z). \n   * Callback function invoked MxN times.\n   *\n   * C(i,j,...z) = f(Aij..z, Bij..z)\n   *\n   * @param {Matrix}   a                 The DenseMatrix instance (A)\n   * @param {Matrix}   b                 The DenseMatrix instance (B)\n   * @param {Function} callback          The f(Aij..z,Bij..z) operation to invoke\n   *\n   * @return {Matrix}                    DenseMatrix (C)\n   *\n   * https://github.com/josdejong/mathjs/pull/346#issuecomment-97658658\n   */\n  var algorithm13 = function (a, b, callback) {\n    // a arrays\n    var adata = a._data;\n    var asize = a._size;\n    var adt = a._datatype;\n    // b arrays\n    var bdata = b._data;\n    var bsize = b._size;\n    var bdt = b._datatype;\n    // c arrays\n    var csize = [];\n\n    // validate dimensions\n    if (asize.length !== bsize.length)\n      throw new DimensionError(asize.length, bsize.length);\n\n    // validate each one of the dimension sizes\n    for (var s = 0; s < asize.length; s++) {\n      // must match\n      if (asize[s] !== bsize[s])\n        throw new RangeError('Dimension mismatch. Matrix A (' + asize + ') must match Matrix B (' + bsize + ')');\n      // update dimension in c\n      csize[s] = asize[s];\n    }\n\n    // datatype\n    var dt;\n    // callback signature to use\n    var cf = callback;\n\n    // process data types\n    if (typeof adt === 'string' && adt === bdt) {\n      // datatype\n      dt = adt;\n      // convert b to the same datatype\n      b = typed.convert(b, dt);\n      // callback\n      cf = typed.find(callback, [dt, dt]);\n    }\n\n    // populate cdata, iterate through dimensions\n    var cdata = csize.length > 0 ? _iterate(cf, 0, csize, csize[0], adata, bdata) : [];\n    \n    // c matrix\n    return new DenseMatrix({\n      data: cdata,\n      size: csize,\n      datatype: dt\n    });\n  };\n  \n  // recursive function\n  var _iterate = function (f, level, s, n, av, bv) {\n    // initialize array for this level\n    var cv = [];\n    // check we reach the last level\n    if (level === s.length - 1) {\n      // loop arrays in last level\n      for (var i = 0; i < n; i++) {\n        // invoke callback and store value\n        cv[i] = f(av[i], bv[i]);\n      }\n    }\n    else {\n      // iterate current level\n      for (var j = 0; j < n; j++) {\n        // iterate next level\n        cv[j] = _iterate(f, level + 1, s, s[level + 1], av[j], bv[j]);\n      }\n    }\n    return cv;\n  };\n  \n  return algorithm13;\n}\n\nexports.name = 'algorithm13';\nexports.factory = factory;\n","'use strict';\n\nvar clone = require('../../../utils/object').clone;\n\nfunction factory (type, config, load, typed) {\n\n  var DenseMatrix = type.DenseMatrix;\n\n  /**\n   * Iterates over DenseMatrix items and invokes the callback function f(Aij..z, b). \n   * Callback function invoked MxN times.\n   *\n   * C(i,j,...z) = f(Aij..z, b)\n   *\n   * @param {Matrix}   a                 The DenseMatrix instance (A)\n   * @param {Scalar}   b                 The Scalar value\n   * @param {Function} callback          The f(Aij..z,b) operation to invoke\n   * @param {boolean}  inverse           A true value indicates callback should be invoked f(b,Aij..z)\n   *\n   * @return {Matrix}                    DenseMatrix (C)\n   *\n   * https://github.com/josdejong/mathjs/pull/346#issuecomment-97659042\n   */\n  var algorithm14 = function (a, b, callback, inverse) {\n    // a arrays\n    var adata = a._data;\n    var asize = a._size;\n    var adt = a._datatype;\n    \n    // datatype\n    var dt;\n    // callback signature to use\n    var cf = callback;\n\n    // process data types\n    if (typeof adt === 'string') {\n      // datatype\n      dt = adt;\n      // convert b to the same datatype\n      b = typed.convert(b, dt);\n      // callback\n      cf = typed.find(callback, [dt, dt]);\n    }\n    \n    // populate cdata, iterate through dimensions\n    var cdata = asize.length > 0 ? _iterate(cf, 0, asize, asize[0], adata, b, inverse) : [];\n\n    // c matrix\n    return new DenseMatrix({\n      data: cdata,\n      size: clone(asize),\n      datatype: dt\n    });\n  };\n  \n  // recursive function\n  var _iterate = function (f, level, s, n, av, bv, inverse) {\n    // initialize array for this level\n    var cv = [];\n    // check we reach the last level\n    if (level === s.length - 1) {\n      // loop arrays in last level\n      for (var i = 0; i < n; i++) {\n        // invoke callback and store value\n        cv[i] = inverse ? f(bv, av[i]) : f(av[i], bv);\n      }\n    }\n    else {\n      // iterate current level\n      for (var j = 0; j < n; j++) {\n        // iterate next level\n        cv[j] = _iterate(f, level + 1, s, s[level + 1], av[j], bv, inverse);\n      }\n    }\n    return cv;\n  };\n\n  return algorithm14;\n}\n\nexports.name = 'algorithm14';\nexports.factory = factory;\n","'use strict';\n\nvar extend = require('../../utils/object').extend;\n\nfunction factory (type, config, load, typed) {\n\n  var matrix = load(require('../../type/matrix/function/matrix'));\n  var addScalar = load(require('./addScalar'));\n  var latex = require('../../utils/latex.js');\n  \n  var algorithm01 = load(require('../../type/matrix/utils/algorithm01'));\n  var algorithm04 = load(require('../../type/matrix/utils/algorithm04'));\n  var algorithm10 = load(require('../../type/matrix/utils/algorithm10'));\n  var algorithm13 = load(require('../../type/matrix/utils/algorithm13'));\n  var algorithm14 = load(require('../../type/matrix/utils/algorithm14'));\n\n  /**\n   * Add two or more values, `x + y`.\n   * For matrices, the function is evaluated element wise.\n   *\n   * Syntax:\n   *\n   *    math.add(x, y)\n   *    math.add(x, y, z, ...)\n   *\n   * Examples:\n   *\n   *    math.add(2, 3);               // returns number 5\n   *    math.add(2, 3, 4);            // returns number 9\n   *\n   *    var a = math.complex(2, 3);\n   *    var b = math.complex(-4, 1);\n   *    math.add(a, b);               // returns Complex -2 + 4i\n   *\n   *    math.add([1, 2, 3], 4);       // returns Array [5, 6, 7]\n   *\n   *    var c = math.unit('5 cm');\n   *    var d = math.unit('2.1 mm');\n   *    math.add(c, d);               // returns Unit 52.1 mm\n   *\n   *    math.add(\"2.3\", \"4\");         // returns number 6.3\n   *\n   * See also:\n   *\n   *    subtract, sum\n   *\n   * @param  {number | BigNumber | Fraction | Complex | Unit | Array | Matrix} x First value to add\n   * @param  {number | BigNumber | Fraction | Complex | Unit | Array | Matrix} y Second value to add\n   * @return {number | BigNumber | Fraction | Complex | Unit | Array | Matrix} Sum of `x` and `y`\n   */\n  var add = typed('add', extend({\n    // we extend the signatures of addScalar with signatures dealing with matrices\n\n    'Matrix, Matrix': function (x, y) {\n      // result\n      var c;\n      \n      // process matrix storage\n      switch (x.storage()) {\n        case 'sparse':\n          switch (y.storage()) {\n            case 'sparse':\n              // sparse + sparse\n              c = algorithm04(x, y, addScalar);\n              break;\n            default:\n              // sparse + dense\n              c = algorithm01(y, x, addScalar, true);\n              break;\n          }\n          break;\n        default:\n          switch (y.storage()) {\n            case 'sparse':\n              // dense + sparse\n              c = algorithm01(x, y, addScalar, false);\n              break;\n            default:\n              // dense + dense\n              c = algorithm13(x, y, addScalar);\n              break;\n          }\n          break;\n      }\n      return c;\n    },\n    \n    'Array, Array': function (x, y) {\n      // use matrix implementation\n      return add(matrix(x), matrix(y)).valueOf();\n    },\n    \n    'Array, Matrix': function (x, y) {\n      // use matrix implementation\n      return add(matrix(x), y);\n    },\n    \n    'Matrix, Array': function (x, y) {\n      // use matrix implementation\n      return add(x, matrix(y));\n    },\n    \n    'Matrix, any': function (x, y) {\n      // result\n      var c;\n      // check storage format\n      switch (x.storage()) {\n        case 'sparse':\n          c = algorithm10(x, y, addScalar, false);\n          break;\n        default:\n          c = algorithm14(x, y, addScalar, false);\n          break;\n      }\n      return c;\n    },\n    \n    'any, Matrix': function (x, y) {\n      // result\n      var c;\n      // check storage format\n      switch (y.storage()) {\n        case 'sparse':\n          c = algorithm10(y, x, addScalar, true);\n          break;\n        default:\n          c = algorithm14(y, x, addScalar, true);\n          break;\n      }\n      return c;\n    },\n    \n    'Array, any': function (x, y) {\n      // use matrix implementation\n      return algorithm14(matrix(x), y, addScalar, false).valueOf();\n    },\n\n    'any, Array': function (x, y) {\n      // use matrix implementation\n      return algorithm14(matrix(y), x, addScalar, true).valueOf();\n    },\n\n    'any, any': addScalar,\n\n    'any, any, ...any': function (x, y, rest) {\n      var result = add(x, y);\n\n      for (var i = 0; i < rest.length; i++) {\n        result = add(result, rest[i]);\n      }\n\n      return result;\n    }\n  }, addScalar.signatures));\n\n  add.toTex = {\n    2: '\\\\left(${args[0]}' + latex.operators['add'] + '${args[1]}\\\\right)'\n  };\n  \n  return add;\n}\n\nexports.name = 'add';\nexports.factory = factory;\n","'use strict';\n\nfunction factory (type, config, load) {\n  \n  var add = load(require('../../function/arithmetic/add'));\n  var equalScalar = load(require('../../function/relational/equalScalar'));\n  \n  /**\n   * An ordered Sparse Accumulator is a representation for a sparse vector that includes a dense array \n   * of the vector elements and an ordered list of non-zero elements.\n   */\n  function Spa() {\n    if (!(this instanceof Spa))\n      throw new SyntaxError('Constructor must be called with the new operator');\n    \n    // allocate vector, TODO use typed arrays\n    this._values = [];\n    this._heap = new type.FibonacciHeap();\n  }\n\n  /**\n   * Attach type information\n   */\n  Spa.prototype.type = 'Spa';\n  Spa.prototype.isSpa = true;\n\n  /**\n   * Set the value for index i.\n   *\n   * @param {number} i                       The index\n   * @param {number | BigNumber | Complex}   The value at index i\n   */\n  Spa.prototype.set = function (i, v) {\n    // check we have a value @ i\n    if (!this._values[i]) {\n      // insert in heap\n      var node = this._heap.insert(i, v);\n      // set the value @ i\n      this._values[i] = node;\n    }\n    else {\n      // update the value @ i\n      this._values[i].value = v;\n    }\n  };\n  \n  Spa.prototype.get = function (i) {\n    var node = this._values[i];\n    if (node)\n      return node.value;\n    return 0;\n  };\n  \n  Spa.prototype.accumulate = function (i, v) {\n    // node @ i\n    var node = this._values[i];\n    if (!node) {\n      // insert in heap\n      node = this._heap.insert(i, v);\n      // initialize value\n      this._values[i] = node;\n    }\n    else {\n      // accumulate value\n      node.value = add(node.value, v);\n    }\n  };\n  \n  Spa.prototype.forEach = function (from, to, callback) {\n    // references\n    var heap = this._heap;\n    var values = this._values;\n    // nodes\n    var nodes = [];\n    // node with minimum key, save it\n    var node = heap.extractMinimum();\n    if (node)\n      nodes.push(node);\n    // extract nodes from heap (ordered)\n    while (node && node.key <= to) {\n      // check it is in range\n      if (node.key >= from) {\n        // check value is not zero\n        if (!equalScalar(node.value, 0)) {\n          // invoke callback\n          callback(node.key, node.value, this);\n        }\n      }\n      // extract next node, save it\n      node = heap.extractMinimum();\n      if (node)\n        nodes.push(node);\n    }\n    // reinsert all nodes in heap\n    for (var i = 0; i < nodes.length; i++) {\n      // current node\n      var n = nodes[i];\n      // insert node in heap\n      node = heap.insert(n.key, n.value);\n      // update values\n      values[node.key] = node;\n    }\n  };\n  \n  Spa.prototype.swap = function (i, j) {\n    // node @ i and j\n    var nodei = this._values[i];\n    var nodej = this._values[j];\n    // check we need to insert indeces\n    if (!nodei && nodej) {\n      // insert in heap\n      nodei = this._heap.insert(i, nodej.value);\n      // remove from heap\n      this._heap.remove(nodej);\n      // set values\n      this._values[i] = nodei;\n      this._values[j] = undefined;\n    }\n    else if (nodei && !nodej) {\n      // insert in heap\n      nodej = this._heap.insert(j, nodei.value);\n      // remove from heap\n      this._heap.remove(nodei);\n      // set values\n      this._values[j] = nodej;\n      this._values[i] = undefined;\n    }\n    else if (nodei && nodej) {\n      // swap values\n      var v = nodei.value;\n      nodei.value = nodej.value;\n      nodej.value = v;\n    }\n  };\n  \n  return Spa;\n}\n\nexports.name = 'Spa';\nexports.path = 'type';\nexports.factory = factory;\n","'use strict';\n\nvar DimensionError = require('../../../error/DimensionError');\n\nfunction factory (type, config, load, typed) {\n\n  var DenseMatrix = type.DenseMatrix;\n\n  /**\n   * Iterates over SparseMatrix items and invokes the callback function f(Dij, Sij).\n   * Callback function invoked M*N times.\n   *\n   *\n   *            f(Dij, Sij)  ; S(i,j) !== 0\n   * C(i,j) = \n   *            f(Dij, 0)    ; otherwise\n   *\n   *\n   * @param {Matrix}   denseMatrix       The DenseMatrix instance (D)\n   * @param {Matrix}   sparseMatrix      The SparseMatrix instance (C)\n   * @param {Function} callback          The f(Dij,Sij) operation to invoke, where Dij = DenseMatrix(i,j) and Sij = SparseMatrix(i,j)\n   * @param {boolean}  inverse           A true value indicates callback should be invoked f(Sij,Dij)\n   *\n   * @return {Matrix}                    DenseMatrix (C)\n   *\n   * see https://github.com/josdejong/mathjs/pull/346#issuecomment-97477571\n   */\n  var algorithm03 = function (denseMatrix, sparseMatrix, callback, inverse) {\n    // dense matrix arrays\n    var adata = denseMatrix._data;\n    var asize = denseMatrix._size;\n    var adt = denseMatrix._datatype;\n    // sparse matrix arrays\n    var bvalues = sparseMatrix._values;\n    var bindex = sparseMatrix._index;\n    var bptr = sparseMatrix._ptr;\n    var bsize = sparseMatrix._size;\n    var bdt = sparseMatrix._datatype;\n\n    // validate dimensions\n    if (asize.length !== bsize.length)\n      throw new DimensionError(asize.length, bsize.length);\n\n    // check rows & columns\n    if (asize[0] !== bsize[0] || asize[1] !== bsize[1])\n      throw new RangeError('Dimension mismatch. Matrix A (' + asize + ') must match Matrix B (' + bsize + ')');\n\n    // sparse matrix cannot be a Pattern matrix\n    if (!bvalues)\n      throw new Error('Cannot perform operation on Dense Matrix and Pattern Sparse Matrix');\n\n    // rows & columns\n    var rows = asize[0];\n    var columns = asize[1];\n\n    // datatype\n    var dt;\n    // zero value\n    var zero = 0;\n    // callback signature to use\n    var cf = callback;\n\n    // process data types\n    if (typeof adt === 'string' && adt === bdt) {\n      // datatype\n      dt = adt;\n      // convert 0 to the same datatype\n      zero = typed.convert(0, dt);\n      // callback\n      cf = typed.find(callback, [dt, dt]);\n    }\n\n    // result (DenseMatrix)\n    var cdata = [];\n\n    // initialize dense matrix\n    for (var z = 0; z < rows; z++) {\n      // initialize row\n      cdata[z] = [];\n    }\n\n    // workspace\n    var x = [];\n    // marks indicating we have a value in x for a given column\n    var w = [];\n\n    // loop columns in b\n    for (var j = 0; j < columns; j++) {\n      // column mark\n      var mark = j + 1;\n      // values in column j\n      for (var k0 = bptr[j], k1 = bptr[j + 1], k = k0; k < k1; k++) {\n        // row\n        var i = bindex[k];\n        // update workspace\n        x[i] = inverse ? cf(bvalues[k], adata[i][j]) : cf(adata[i][j], bvalues[k]);\n        w[i] = mark;\n      }\n      // process workspace\n      for (var y = 0; y < rows; y++) {\n        // check we have a calculated value for current row\n        if (w[y] === mark) {\n          // use calculated value\n          cdata[y][j] = x[y];\n        }\n        else {\n          // calculate value\n          cdata[y][j] = inverse ? cf(zero, adata[y][j]) : cf(adata[y][j], zero);\n        }\n      }\n    }\n\n    // return dense matrix\n    return new DenseMatrix({\n      data: cdata,\n      size: [rows, columns],\n      datatype: dt\n    });\n  };\n  \n  return algorithm03;\n}\n\nexports.name = 'algorithm03';\nexports.factory = factory;\n","'use strict';\n\nvar DimensionError = require('../../../error/DimensionError');\n\nfunction factory (type, config, load, typed) {\n\n  var DenseMatrix = type.DenseMatrix;\n\n  /**\n   * Iterates over SparseMatrix A and SparseMatrix B items (zero and nonzero) and invokes the callback function f(Aij, Bij). \n   * Callback function invoked MxN times.\n   *\n   * C(i,j) = f(Aij, Bij)\n   *\n   * @param {Matrix}   a                 The SparseMatrix instance (A)\n   * @param {Matrix}   b                 The SparseMatrix instance (B)\n   * @param {Function} callback          The f(Aij,Bij) operation to invoke\n   *\n   * @return {Matrix}                    DenseMatrix (C)\n   *\n   * see https://github.com/josdejong/mathjs/pull/346#issuecomment-97620294\n   */\n  var algorithm07 = function (a, b, callback) {\n    // sparse matrix arrays\n    var asize = a._size;\n    var adt = a._datatype;\n    // sparse matrix arrays\n    var bsize = b._size;\n    var bdt = b._datatype;\n\n    // validate dimensions\n    if (asize.length !== bsize.length)\n      throw new DimensionError(asize.length, bsize.length);\n\n    // check rows & columns\n    if (asize[0] !== bsize[0] || asize[1] !== bsize[1])\n      throw new RangeError('Dimension mismatch. Matrix A (' + asize + ') must match Matrix B (' + bsize + ')');\n\n    // rows & columns\n    var rows = asize[0];\n    var columns = asize[1];\n\n    // datatype\n    var dt;\n    // zero value\n    var zero = 0;\n    // callback signature to use\n    var cf = callback;\n\n    // process data types\n    if (typeof adt === 'string' && adt === bdt) {\n      // datatype\n      dt = adt;\n      // convert 0 to the same datatype\n      zero = typed.convert(0, dt);\n      // callback\n      cf = typed.find(callback, [dt, dt]);\n    }\n\n    // vars\n    var i, j;\n    \n    // result arrays\n    var cdata = [];\n    // initialize c\n    for (i = 0; i < rows; i++)\n      cdata[i] = [];\n\n    // matrix\n    var c = new DenseMatrix({\n      data: cdata,\n      size: [rows, columns],\n      datatype: dt\n    });\n\n    // workspaces\n    var xa = [];\n    var xb = [];\n    // marks indicating we have a value in x for a given column\n    var wa = [];\n    var wb = [];\n\n    // loop columns\n    for (j = 0; j < columns; j++) {\n      // columns mark\n      var mark = j + 1;\n      // scatter the values of A(:,j) into workspace\n      _scatter(a, j, wa, xa, mark);\n      // scatter the values of B(:,j) into workspace\n      _scatter(b, j, wb, xb, mark);\n      // loop rows\n      for (i = 0; i < rows; i++) {\n        // matrix values @ i,j\n        var va = wa[i] === mark ? xa[i] : zero;\n        var vb = wb[i] === mark ? xb[i] : zero;\n        // invoke callback\n        cdata[i][j] = cf(va, vb);\n      }          \n    }\n\n    // return sparse matrix\n    return c;\n  };\n  \n  var _scatter = function (m, j, w, x, mark) {\n    // a arrays\n    var values = m._values;\n    var index = m._index;\n    var ptr = m._ptr;\n    // loop values in column j\n    for (var k = ptr[j], k1 = ptr[j + 1]; k < k1; k++) {\n      // row\n      var i = index[k];\n      // update workspace\n      w[i] = mark;\n      x[i] = values[k];\n    }\n  };\n  \n  return algorithm07;\n}\n\nexports.name = 'algorithm07';\nexports.factory = factory;\n","'use strict';\n\nfunction factory (type, config, load, typed) {\n\n  var DenseMatrix = type.DenseMatrix;\n\n  /**\n   * Iterates over SparseMatrix S nonzero items and invokes the callback function f(Sij, b). \n   * Callback function invoked MxN times.\n   *\n   *\n   *            f(Sij, b)  ; S(i,j) !== 0\n   * C(i,j) =   \n   *            f(0, b)    ; otherwise\n   *\n   *\n   * @param {Matrix}   s                 The SparseMatrix instance (S)\n   * @param {Scalar}   b                 The Scalar value\n   * @param {Function} callback          The f(Aij,b) operation to invoke\n   * @param {boolean}  inverse           A true value indicates callback should be invoked f(b,Sij)\n   *\n   * @return {Matrix}                    DenseMatrix (C)\n   *\n   * https://github.com/josdejong/mathjs/pull/346#issuecomment-97626813\n   */\n  var algorithm12 = function (s, b, callback, inverse) {\n    // sparse matrix arrays\n    var avalues = s._values;\n    var aindex = s._index;\n    var aptr = s._ptr;\n    var asize = s._size;\n    var adt = s._datatype;\n\n    // sparse matrix cannot be a Pattern matrix\n    if (!avalues)\n      throw new Error('Cannot perform operation on Pattern Sparse Matrix and Scalar value');\n\n    // rows & columns\n    var rows = asize[0];\n    var columns = asize[1];\n\n    // datatype\n    var dt;\n    // callback signature to use\n    var cf = callback;\n\n    // process data types\n    if (typeof adt === 'string') {\n      // datatype\n      dt = adt;\n      // convert b to the same datatype\n      b = typed.convert(b, dt);\n      // callback\n      cf = typed.find(callback, [dt, dt]);\n    }\n    \n    // result arrays\n    var cdata = [];\n    // matrix\n    var c = new DenseMatrix({\n      data: cdata,\n      size: [rows, columns],\n      datatype: dt\n    });\n\n    // workspaces\n    var x = [];\n    // marks indicating we have a value in x for a given column\n    var w = [];\n\n    // loop columns\n    for (var j = 0; j < columns; j++) {\n      // columns mark\n      var mark = j + 1;\n      // values in j\n      for (var k0 = aptr[j], k1 = aptr[j + 1], k = k0; k < k1; k++) {\n        // row\n        var r = aindex[k];\n        // update workspace\n        x[r] = avalues[k];\n        w[r] = mark;\n      }\n      // loop rows\n      for (var i = 0; i < rows; i++) {\n        // initialize C on first column\n        if (j === 0) {\n          // create row array\n          cdata[i] = [];\n        }\n        // check sparse matrix has a value @ i,j\n        if (w[i] === mark) {\n          // invoke callback, update C\n          cdata[i][j] = inverse ? cf(b, x[i]) : cf(x[i], b);\n        }\n        else {\n          // dense matrix value @ i, j\n          cdata[i][j] = inverse ? cf(b, 0) : cf(0, b);\n        }\n      }\n    }\n\n    // return sparse matrix\n    return c;\n  };\n  \n  return algorithm12;\n}\n\nexports.name = 'algorithm12';\nexports.factory = factory;\n","'use strict';\n\nvar nearlyEqual = require('../../utils/number').nearlyEqual;\nvar bigNearlyEqual = require('../../utils/bignumber/nearlyEqual');\n\nfunction factory (type, config, load, typed) {\n\n  var matrix = load(require('../../type/matrix/function/matrix'));\n\n  var algorithm03 = load(require('../../type/matrix/utils/algorithm03'));\n  var algorithm07 = load(require('../../type/matrix/utils/algorithm07'));\n  var algorithm12 = load(require('../../type/matrix/utils/algorithm12'));\n  var algorithm13 = load(require('../../type/matrix/utils/algorithm13'));\n  var algorithm14 = load(require('../../type/matrix/utils/algorithm14'));\n\n  var latex = require('../../utils/latex');\n\n  /**\n   * Test whether value x is smaller than y.\n   *\n   * The function returns true when x is smaller than y and the relative\n   * difference between x and y is smaller than the configured epsilon. The\n   * function cannot be used to compare values smaller than approximately 2.22e-16.\n   *\n   * For matrices, the function is evaluated element wise.\n   *\n   * Syntax:\n   *\n   *    math.smaller(x, y)\n   *\n   * Examples:\n   *\n   *    math.smaller(2, 3);            // returns true\n   *    math.smaller(5, 2 * 2);        // returns false\n   *\n   *    var a = math.unit('5 cm');\n   *    var b = math.unit('2 inch');\n   *    math.smaller(a, b);            // returns true\n   *\n   * See also:\n   *\n   *    equal, unequal, smallerEq, smaller, smallerEq, compare\n   *\n   * @param  {number | BigNumber | Fraction | boolean | Unit | string | Array | Matrix} x First value to compare\n   * @param  {number | BigNumber | Fraction | boolean | Unit | string | Array | Matrix} y Second value to compare\n   * @return {boolean | Array | Matrix} Returns true when the x is smaller than y, else returns false\n   */\n  var smaller = typed('smaller', {\n\n    'boolean, boolean': function (x, y) {\n      return x < y;\n    },\n\n    'number, number': function (x, y) {\n      return x < y && !nearlyEqual(x, y, config.epsilon);\n    },\n\n    'BigNumber, BigNumber': function (x, y) {\n      return x.lt(y) && !bigNearlyEqual(x, y, config.epsilon);\n    },\n\n    'Fraction, Fraction': function (x, y) {\n      return x.compare(y) === -1;\n    },\n\n    'Complex, Complex': function (x, y) {\n      throw new TypeError('No ordering relation is defined for complex numbers');\n    },\n\n    'Unit, Unit': function (x, y) {\n      if (!x.equalBase(y)) {\n        throw new Error('Cannot compare units with different base');\n      }\n      return smaller(x.value, y.value);\n    },\n\n    'string, string': function (x, y) {\n      return x < y;\n    },\n\n    'Matrix, Matrix': function (x, y) {\n      // result\n      var c;\n\n      // process matrix storage\n      switch (x.storage()) {\n        case 'sparse':\n          switch (y.storage()) {\n            case 'sparse':\n              // sparse + sparse\n              c = algorithm07(x, y, smaller);\n              break;\n            default:\n              // sparse + dense\n              c = algorithm03(y, x, smaller, true);\n              break;\n          }\n          break;\n        default:\n          switch (y.storage()) {\n            case 'sparse':\n              // dense + sparse\n              c = algorithm03(x, y, smaller, false);\n              break;\n            default:\n              // dense + dense\n              c = algorithm13(x, y, smaller);\n              break;\n          }\n          break;\n      }\n      return c;\n    },\n\n    'Array, Array': function (x, y) {\n      // use matrix implementation\n      return smaller(matrix(x), matrix(y)).valueOf();\n    },\n\n    'Array, Matrix': function (x, y) {\n      // use matrix implementation\n      return smaller(matrix(x), y);\n    },\n\n    'Matrix, Array': function (x, y) {\n      // use matrix implementation\n      return smaller(x, matrix(y));\n    },\n\n    'Matrix, any': function (x, y) {\n      // result\n      var c;\n      // check storage format\n      switch (x.storage()) {\n        case 'sparse':\n          c = algorithm12(x, y, smaller, false);\n          break;\n        default:\n          c = algorithm14(x, y, smaller, false);\n          break;\n      }\n      return c;\n    },\n\n    'any, Matrix': function (x, y) {\n      // result\n      var c;\n      // check storage format\n      switch (y.storage()) {\n        case 'sparse':\n          c = algorithm12(y, x, smaller, true);\n          break;\n        default:\n          c = algorithm14(y, x, smaller, true);\n          break;\n      }\n      return c;\n    },\n\n    'Array, any': function (x, y) {\n      // use matrix implementation\n      return algorithm14(matrix(x), y, smaller, false).valueOf();\n    },\n\n    'any, Array': function (x, y) {\n      // use matrix implementation\n      return algorithm14(matrix(y), x, smaller, true).valueOf();\n    }\n  });\n\n  smaller.toTex = {\n    2: '\\\\left(${args[0]}' + latex.operators['smaller'] + '${args[1]}\\\\right)'\n  };\n\n  return smaller;\n}\n\nexports.name = 'smaller';\nexports.factory = factory;\n","'use strict';\n\nvar nearlyEqual = require('../../utils/number').nearlyEqual;\nvar bigNearlyEqual = require('../../utils/bignumber/nearlyEqual');\n\nfunction factory (type, config, load, typed) {\n  \n  var matrix = load(require('../../type/matrix/function/matrix'));\n\n  var algorithm03 = load(require('../../type/matrix/utils/algorithm03'));\n  var algorithm07 = load(require('../../type/matrix/utils/algorithm07'));\n  var algorithm12 = load(require('../../type/matrix/utils/algorithm12'));\n  var algorithm13 = load(require('../../type/matrix/utils/algorithm13'));\n  var algorithm14 = load(require('../../type/matrix/utils/algorithm14'));\n\n  var latex = require('../../utils/latex');\n\n  /**\n   * Test whether value x is larger than y.\n   *\n   * The function returns true when x is larger than y and the relative\n   * difference between x and y is larger than the configured epsilon. The\n   * function cannot be used to compare values smaller than approximately 2.22e-16.\n   *\n   * For matrices, the function is evaluated element wise.\n   *\n   * Syntax:\n   *\n   *    math.larger(x, y)\n   *\n   * Examples:\n   *\n   *    math.larger(2, 3);             // returns false\n   *    math.larger(5, 2 + 2);         // returns true\n   *\n   *    var a = math.unit('5 cm');\n   *    var b = math.unit('2 inch');\n   *    math.larger(a, b);             // returns false\n   *\n   * See also:\n   *\n   *    equal, unequal, smaller, smallerEq, largerEq, compare\n   *\n   * @param  {number | BigNumber | Fraction | boolean | Unit | string | Array | Matrix} x First value to compare\n   * @param  {number | BigNumber | Fraction | boolean | Unit | string | Array | Matrix} y Second value to compare\n   * @return {boolean | Array | Matrix} Returns true when the x is larger than y, else returns false\n   */\n  var larger = typed('larger', {\n\n    'boolean, boolean': function (x, y) {\n      return x > y;\n    },\n\n    'number, number': function (x, y) {\n      return x > y && !nearlyEqual(x, y, config.epsilon);\n    },\n\n    'BigNumber, BigNumber': function (x, y) {\n      return x.gt(y) && !bigNearlyEqual(x, y, config.epsilon);\n    },\n\n    'Fraction, Fraction': function (x, y) {\n      return x.compare(y) === 1;\n    },\n\n    'Complex, Complex': function () {\n      throw new TypeError('No ordering relation is defined for complex numbers');\n    },\n\n    'Unit, Unit': function (x, y) {\n      if (!x.equalBase(y)) {\n        throw new Error('Cannot compare units with different base');\n      }\n      return larger(x.value, y.value);\n    },\n\n    'string, string': function (x, y) {\n      return x > y;\n    },\n\n    'Matrix, Matrix': function (x, y) {\n      // result\n      var c;\n\n      // process matrix storage\n      switch (x.storage()) {\n        case 'sparse':\n          switch (y.storage()) {\n            case 'sparse':\n              // sparse + sparse\n              c = algorithm07(x, y, larger);\n              break;\n            default:\n              // sparse + dense\n              c = algorithm03(y, x, larger, true);\n              break;\n          }\n          break;\n        default:\n          switch (y.storage()) {\n            case 'sparse':\n              // dense + sparse\n              c = algorithm03(x, y, larger, false);\n              break;\n            default:\n              // dense + dense\n              c = algorithm13(x, y, larger);\n              break;\n          }\n          break;\n      }\n      return c;\n    },\n\n    'Array, Array': function (x, y) {\n      // use matrix implementation\n      return larger(matrix(x), matrix(y)).valueOf();\n    },\n\n    'Array, Matrix': function (x, y) {\n      // use matrix implementation\n      return larger(matrix(x), y);\n    },\n\n    'Matrix, Array': function (x, y) {\n      // use matrix implementation\n      return larger(x, matrix(y));\n    },\n\n    'Matrix, any': function (x, y) {\n      // result\n      var c;\n      // check storage format\n      switch (x.storage()) {\n        case 'sparse':\n          c = algorithm12(x, y, larger, false);\n          break;\n        default:\n          c = algorithm14(x, y, larger, false);\n          break;\n      }\n      return c;\n    },\n\n    'any, Matrix': function (x, y) {\n      // result\n      var c;\n      // check storage format\n      switch (y.storage()) {\n        case 'sparse':\n          c = algorithm12(y, x, larger, true);\n          break;\n        default:\n          c = algorithm14(y, x, larger, true);\n          break;\n      }\n      return c;\n    },\n\n    'Array, any': function (x, y) {\n      // use matrix implementation\n      return algorithm14(matrix(x), y, larger, false).valueOf();\n    },\n\n    'any, Array': function (x, y) {\n      // use matrix implementation\n      return algorithm14(matrix(y), x, larger, true).valueOf();\n    }\n  });\n\n  larger.toTex = {\n    2: '\\\\left(${args[0]}' + latex.operators['larger'] + '${args[1]}\\\\right)'\n  };\n\n  return larger;\n}\n\nexports.name = 'larger';\nexports.factory = factory;\n","'use strict';\n\nfunction factory (type, config, load, typed) {\n  \n  var smaller = load(require('../../function/relational/smaller'));\n  var larger = load(require('../../function/relational/larger'));\n  \n  var oneOverLogPhi = 1.0 / Math.log((1.0 + Math.sqrt(5.0)) / 2.0);\n  \n  /**\n   * Fibonacci Heap implementation, used interally for Matrix math.\n   * @class FibonacciHeap\n   * @constructor FibonacciHeap\n   */\n  function FibonacciHeap() {\n    if (!(this instanceof FibonacciHeap))\n      throw new SyntaxError('Constructor must be called with the new operator');\n\n    // initialize fields\n    this._minimum = null;\n    this._size = 0;\n  }\n\n  /**\n   * Attach type information\n   */\n  FibonacciHeap.prototype.type = 'FibonacciHeap';\n  FibonacciHeap.prototype.isFibonacciHeap = true;\n\n  /**\n   * Inserts a new data element into the heap. No heap consolidation is\n   * performed at this time, the new node is simply inserted into the root\n   * list of this heap. Running time: O(1) actual.\n   * @memberof FibonacciHeap\n   */\n  FibonacciHeap.prototype.insert = function (key, value) {\n    // create node\n    var node = {\n      key: key,\n      value: value,\n      degree: 0\n    };\n    // check we have a node in the minimum\n    if (this._minimum) {\n      // minimum node\n      var minimum = this._minimum;\n      // update left & right of node\n      node.left = minimum;\n      node.right = minimum.right;\n      minimum.right = node;\n      node.right.left = node;\n      // update minimum node in heap if needed\n      if (smaller(key, minimum.key)) {\n        // node has a smaller key, use it as minimum\n        this._minimum = node;\n      }\n    }\n    else {\n      // set left & right\n      node.left = node;\n      node.right = node;\n      // this is the first node\n      this._minimum = node;\n    }\n    // increment number of nodes in heap\n    this._size++;\n    // return node\n    return node;\n  };\n\n  /**\n   * Returns the number of nodes in heap. Running time: O(1) actual.\n   * @memberof FibonacciHeap\n   */\n  FibonacciHeap.prototype.size = function () {\n    return this._size;\n  };\n\n  /**\n   * Removes all elements from this heap.\n   * @memberof FibonacciHeap\n   */\n  FibonacciHeap.prototype.clear = function () {\n    this._minimum = null;\n    this._size = 0;\n  };\n\n  /**\n   * Returns true if the heap is empty, otherwise false.\n   * @memberof FibonacciHeap\n   */\n  FibonacciHeap.prototype.isEmpty = function () {\n    return !!this._minimum;\n  };\n  \n  /**\n   * Extracts the node with minimum key from heap. Amortized running \n   * time: O(log n).\n   * @memberof FibonacciHeap\n   */\n  FibonacciHeap.prototype.extractMinimum = function () {\n    // node to remove\n    var node = this._minimum;\n    // check we have a minimum\n    if (node === null)\n      return node;\n    // current minimum\n    var minimum = this._minimum;\n    // get number of children\n    var numberOfChildren = node.degree;\n    // pointer to the first child\n    var x = node.child;\n    // for each child of node do...\n    while (numberOfChildren > 0) {\n      // store node in right side\n      var tempRight = x.right;\n      // remove x from child list\n      x.left.right = x.right;\n      x.right.left = x.left;\n      // add x to root list of heap\n      x.left = minimum;\n      x.right = minimum.right;\n      minimum.right = x;\n      x.right.left = x;\n      // set Parent[x] to null\n      x.parent = null;\n      x = tempRight;\n      numberOfChildren--;\n    }\n    // remove node from root list of heap\n    node.left.right = node.right;\n    node.right.left = node.left;\n    // update minimum\n    if (node == node.right) {\n      // empty\n      minimum = null;\n    }\n    else {\n      // update minimum\n      minimum = node.right;\n      // we need to update the pointer to the root with minimum key\n      minimum = _findMinimumNode(minimum, this._size);\n    }\n    // decrement size of heap\n    this._size--;\n    // update minimum\n    this._minimum = minimum;\n    // return node\n    return node;\n  };\n  \n  /**\n   * Removes a node from the heap given the reference to the node. The trees\n   * in the heap will be consolidated, if necessary. This operation may fail\n   * to remove the correct element if there are nodes with key value -Infinity.\n   * Running time: O(log n) amortized.\n   * @memberof FibonacciHeap\n   */\n  FibonacciHeap.prototype.remove = function (node) {\n    // decrease key value\n    this._minimum = _decreaseKey(this._minimum, node, -1);\n    // remove the smallest\n    this.extractMinimum();\n  };\n  \n  /**\n   * Decreases the key value for a heap node, given the new value to take on.\n   * The structure of the heap may be changed and will not be consolidated. \n   * Running time: O(1) amortized.\n   * @memberof FibonacciHeap\n   */\n  var _decreaseKey = function (minimum, node, key) {\n    // set node key\n    node.key = key;\n    // get parent node\n    var parent = node.parent;\n    if (parent && smaller(node.key, parent.key)) {\n      // remove node from parent\n      _cut(minimum, node, parent);\n      // remove all nodes from parent to the root parent\n      _cascadingCut(minimum, parent);\n    }\n    // update minimum node if needed\n    if (smaller(node.key, minimum.key))\n      minimum = node;\n    // return minimum\n    return minimum;\n  };\n  \n  /**\n   * The reverse of the link operation: removes node from the child list of parent.\n   * This method assumes that min is non-null. Running time: O(1).\n   * @memberof FibonacciHeap\n   */\n  var _cut = function (minimum, node, parent) {\n    // remove node from parent children and decrement Degree[parent]\n    node.left.right = node.right;\n    node.right.left = node.left;\n    parent.degree--;\n    // reset y.child if necessary\n    if (parent.child == node)\n      parent.child = node.right;\n    // remove child if degree is 0\n    if (parent.degree === 0)\n      parent.child = null;\n    // add node to root list of heap\n    node.left = minimum;\n    node.right = minimum.right;\n    minimum.right = node;\n    node.right.left = node;\n    // set parent[node] to null\n    node.parent = null;\n    // set mark[node] to false\n    node.mark = false;\n  };\n  \n  /**\n   * Performs a cascading cut operation. This cuts node from its parent and then\n   * does the same for its parent, and so on up the tree.\n   * Running time: O(log n); O(1) excluding the recursion.\n   * @memberof FibonacciHeap\n   */\n  var _cascadingCut= function (minimum, node) {\n    // store parent node\n    var parent = node.parent;\n    // if there's a parent...\n    if (!parent)\n      return;\n    // if node is unmarked, set it marked\n    if (!node.mark) {\n      node.mark = true;\n    }\n    else {\n      // it's marked, cut it from parent\n      _cut(minimum, node, parent);\n      // cut its parent as well\n      _cascadingCut(parent);\n    }\n  };\n  \n  /**\n   * Make the first node a child of the second one. Running time: O(1) actual.\n   * @memberof FibonacciHeap\n   */\n  var _linkNodes = function (node, parent) {\n    // remove node from root list of heap\n    node.left.right = node.right;\n    node.right.left = node.left;\n    // make node a Child of parent\n    node.parent = parent;\n    if (!parent.child) {\n      parent.child = node;\n      node.right = node;\n      node.left = node;\n    }\n    else {\n      node.left = parent.child;\n      node.right = parent.child.right;\n      parent.child.right = node;\n      node.right.left = node;\n    }\n    // increase degree[parent]\n    parent.degree++;\n    // set mark[node] false\n    node.mark = false;\n  };\n  \n  var _findMinimumNode = function (minimum, size) {\n    // to find trees of the same degree efficiently we use an array of length O(log n) in which we keep a pointer to one root of each degree\n    var arraySize = Math.floor(Math.log(size) * oneOverLogPhi) + 1;\n    // create list with initial capacity\n    var array = new Array(arraySize);\n    // find the number of root nodes.\n    var numRoots = 0;\n    var x = minimum;\n    if (x) {\n      numRoots++;\n      x = x.right;\n      while (x !== minimum) {\n        numRoots++;\n        x = x.right;\n      }\n    }\n    // vars\n    var y;\n    // For each node in root list do...\n    while (numRoots > 0) {\n      // access this node's degree..\n      var d = x.degree;\n      // get next node\n      var next = x.right;\n      // check if there is a node already in array with the same degree\n      while (true) {\n        // get node with the same degree is any\n        y = array[d];\n        if (!y)\n          break;\n        // make one node with the same degree a child of the other, do this based on the key value.\n        if (larger(x.key, y.key)) {\n          var temp = y;\n          y = x;\n          x = temp;\n        }\n        // make y a child of x\n        _linkNodes(y, x);\n        // we have handled this degree, go to next one.\n        array[d] = null;\n        d++;\n      }\n      // save this node for later when we might encounter another of the same degree.\n      array[d] = x;\n      // move forward through list.\n      x = next;\n      numRoots--;\n    }\n    // Set min to null (effectively losing the root list) and reconstruct the root list from the array entries in array[].\n    minimum = null;\n    // loop nodes in array\n    for (var i = 0; i < arraySize; i++) {\n      // get current node\n      y = array[i];\n      if (!y)\n        continue;\n      // check if we have a linked list\n      if (minimum) {\n        // First remove node from root list.\n        y.left.right = y.right;\n        y.right.left = y.left;\n        // now add to root list, again.\n        y.left = minimum;\n        y.right = minimum.right;\n        minimum.right = y;\n        y.right.left = y;\n        // check if this is a new min.\n        if (smaller(y.key, minimum.key))\n          minimum = y;\n      }\n      else\n        minimum = y;\n    }\n    return minimum;\n  };\n  \n  return FibonacciHeap;\n}\n\nexports.name = 'FibonacciHeap';\nexports.path = 'type';\nexports.factory = factory;\n","'use strict';\n\nvar util = require('../../utils/index');\n\nvar string = util.string;\nvar object = util.object;\n\nvar isArray = Array.isArray;\nvar isString = string.isString;\n\nfunction factory (type, config, load) {\n\n  var DenseMatrix = load(require('./DenseMatrix'));\n\n  var smaller = load(require('../../function/relational/smaller'));\n\n  function ImmutableDenseMatrix(data, datatype) {\n    if (!(this instanceof ImmutableDenseMatrix))\n      throw new SyntaxError('Constructor must be called with the new operator');\n    if (datatype && !isString(datatype))\n      throw new Error('Invalid datatype: ' + datatype);\n\n    if ((data && data.isMatrix === true) || isArray(data)) {\n      // use DenseMatrix implementation\n      var matrix = new DenseMatrix(data, datatype);\n      // internal structures\n      this._data = matrix._data;\n      this._size = matrix._size;\n      this._datatype = matrix._datatype;\n      this._min = null;\n      this._max = null;\n    }\n    else if (data && isArray(data.data) && isArray(data.size)) {\n      // initialize fields from JSON representation\n      this._data = data.data;\n      this._size = data.size;\n      this._datatype = data.datatype;\n      this._min = typeof data.min !== 'undefined' ? data.min : null;\n      this._max = typeof data.max !== 'undefined' ? data.max : null;\n    }\n    else if (data) {\n      // unsupported type\n      throw new TypeError('Unsupported type of data (' + util.types.type(data) + ')');\n    }\n    else {\n      // nothing provided\n      this._data = [];\n      this._size = [0];\n      this._datatype = datatype;\n      this._min = null;\n      this._max = null;\n    }\n  }\n\n  ImmutableDenseMatrix.prototype = new DenseMatrix();\n\n  /**\n   * Attach type information\n   */\n  ImmutableDenseMatrix.prototype.type = 'ImmutableDenseMatrix';\n  ImmutableDenseMatrix.prototype.isImmutableDenseMatrix = true;\n\n  /**\n   * Get a subset of the matrix, or replace a subset of the matrix.\n   *\n   * Usage:\n   *     var subset = matrix.subset(index)               // retrieve subset\n   *     var value = matrix.subset(index, replacement)   // replace subset\n   *\n   * @param {Index} index\n   * @param {Array | ImmutableDenseMatrix | *} [replacement]\n   * @param {*} [defaultValue=0]      Default value, filled in on new entries when\n   *                                  the matrix is resized. If not provided,\n   *                                  new matrix elements will be filled with zeros.\n   */\n  ImmutableDenseMatrix.prototype.subset = function (index) {\n    switch (arguments.length) {\n      case 1:\n        // use base implementation\n        var m = DenseMatrix.prototype.subset.call(this, index);\n        // check result is a matrix\n        if (m.isMatrix) {\n          // return immutable matrix\n          return new ImmutableDenseMatrix({\n            data: m._data,\n            size: m._size,\n            datatype: m._datatype\n          });\n        }\n        return m;\n        \n        // intentional fall through\n      case 2:\n      case 3:\n        throw new Error('Cannot invoke set subset on an Immutable Matrix instance');\n\n      default:\n        throw new SyntaxError('Wrong number of arguments');\n    }\n  };\n\n  /**\n   * Replace a single element in the matrix.\n   * @param {Number[]} index   Zero-based index\n   * @param {*} value\n   * @param {*} [defaultValue]        Default value, filled in on new entries when\n   *                                  the matrix is resized. If not provided,\n   *                                  new matrix elements will be left undefined.\n   * @return {ImmutableDenseMatrix} self\n   */\n  ImmutableDenseMatrix.prototype.set = function () {\n    throw new Error('Cannot invoke set on an Immutable Matrix instance');\n  };\n\n  /**\n   * Resize the matrix to the given size. Returns a copy of the matrix when\n   * `copy=true`, otherwise return the matrix itself (resize in place).\n   *\n   * @param {Number[]} size           The new size the matrix should have.\n   * @param {*} [defaultValue=0]      Default value, filled in on new entries.\n   *                                  If not provided, the matrix elements will\n   *                                  be filled with zeros.\n   * @param {boolean} [copy]          Return a resized copy of the matrix\n   *\n   * @return {Matrix}                 The resized matrix\n   */\n  ImmutableDenseMatrix.prototype.resize = function () {\n    throw new Error('Cannot invoke resize on an Immutable Matrix instance');\n  };\n\n  /**\n   * Create a clone of the matrix\n   * @return {ImmutableDenseMatrix} clone\n   */\n  ImmutableDenseMatrix.prototype.clone = function () {\n    var m = new ImmutableDenseMatrix({\n      data: object.clone(this._data),\n      size: object.clone(this._size),\n      datatype: this._datatype\n    });\n    return m;\n  };\n\n  /**\n   * Get a JSON representation of the matrix\n   * @returns {Object}\n   */\n  ImmutableDenseMatrix.prototype.toJSON = function () {\n    return {\n      mathjs: 'ImmutableDenseMatrix',\n      data: this._data,\n      size: this._size,\n      datatype: this._datatype\n    };\n  };\n\n  /**\n   * Generate a matrix from a JSON object\n   * @param {Object} json  An object structured like\n   *                       `{\"mathjs\": \"ImmutableDenseMatrix\", data: [], size: []}`,\n   *                       where mathjs is optional\n   * @returns {ImmutableDenseMatrix}\n   */\n  ImmutableDenseMatrix.fromJSON = function (json) {\n    return new ImmutableDenseMatrix(json);\n  };\n\n  /**\n   * Swap rows i and j in Matrix.\n   *\n   * @param {Number} i       Matrix row index 1\n   * @param {Number} j       Matrix row index 2\n   *\n   * @return {Matrix}        The matrix reference\n   */\n  ImmutableDenseMatrix.prototype.swapRows = function () {\n    throw new Error('Cannot invoke swapRows on an Immutable Matrix instance');\n  };\n\n  /**\n   * Calculate the minimum value in the set\n   * @return {Number | undefined} min\n   */\n  ImmutableDenseMatrix.prototype.min = function () {\n    // check min has been calculated before\n    if (this._min === null) {\n      // minimum\n      var m = null;\n      // compute min\n      this.forEach(function (v) {\n        if (m === null || smaller(v, m))\n          m = v;\n      });\n      this._min = m !== null ? m : undefined;\n    }\n    return this._min;\n  };\n\n  /**\n   * Calculate the maximum value in the set\n   * @return {Number | undefined} max\n   */\n  ImmutableDenseMatrix.prototype.max = function () {\n    // check max has been calculated before\n    if (this._max === null) {\n      // maximum\n      var m = null;\n      // compute max\n      this.forEach(function (v) {\n        if (m === null || smaller(m, v))\n          m = v;\n      });\n      this._max = m !== null ? m : undefined;\n    }\n    return this._max;\n  };\n\n  // exports\n  return ImmutableDenseMatrix;\n}\n\nexports.name = 'ImmutableDenseMatrix';\nexports.path = 'type';\nexports.factory = factory;\n","'use strict';\n\nvar clone = require('../../utils/object').clone;\nvar isInteger = require('../../utils/number').isInteger;\n\nfunction factory (type) {\n  \n  /**\n   * Create an index. An Index can store ranges and sets for multiple dimensions.\n   * Matrix.get, Matrix.set, and math.subset accept an Index as input.\n   *\n   * Usage:\n   *     var index = new Index(range1, range2, matrix1, array1, ...);\n   *\n   * Where each parameter can be any of:\n   *     A number\n   *     A string (containing a name of an object property)\n   *     An instance of Range\n   *     An Array with the Set values\n   *     A Matrix with the Set values\n   *\n   * The parameters start, end, and step must be integer numbers.\n   *\n   * @class Index\n   * @Constructor Index\n   * @param {...*} ranges\n   */\n  function Index(ranges) {\n    if (!(this instanceof Index)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n\n    this._dimensions = [];\n    this._isScalar = true;\n\n    for (var i = 0, ii = arguments.length; i < ii; i++) {\n      var arg = arguments[i];\n\n      if (arg && (arg.isRange === true)) {\n        this._dimensions.push(arg);\n        this._isScalar = false;\n      }\n      else if (arg && (Array.isArray(arg) || arg.isMatrix === true)) {\n        // create matrix\n        var m = _createImmutableMatrix(arg.valueOf());\n        this._dimensions.push(m);\n        // size\n        var size = m.size();\n        // scalar\n        if (size.length !== 1 || size[0] !== 1) {\n          this._isScalar = false;\n        }\n      }\n      else if (typeof arg === 'number') {\n        this._dimensions.push(_createImmutableMatrix([arg]));\n      }\n      else if (typeof arg === 'string') {\n        // object property (arguments.count should be 1)\n        this._dimensions.push(arg);\n      }\n      // TODO: implement support for wildcard '*'\n      else {\n        throw new TypeError('Dimension must be an Array, Matrix, number, string, or Range');\n      }\n    }\n  }\n\n  /**\n   * Attach type information\n   */\n  Index.prototype.type = 'Index';\n  Index.prototype.isIndex = true;\n\n  function _createImmutableMatrix(arg) {\n    // loop array elements\n    for (var i = 0, l = arg.length; i < l; i++) {\n      if (typeof arg[i] !== 'number' || !isInteger(arg[i])) {\n        throw new TypeError('Index parameters must be positive integer numbers');\n      }\n    }\n    // create matrix\n    return new type.ImmutableDenseMatrix(arg);\n  }\n\n  /**\n   * Create a clone of the index\n   * @memberof Index\n   * @return {Index} clone\n   */\n  Index.prototype.clone = function () {\n    var index = new Index();\n    index._dimensions = clone(this._dimensions);\n    index._isScalar = this._isScalar;\n    return index;\n  };\n\n  /**\n   * Create an index from an array with ranges/numbers\n   * @memberof Index\n   * @param {Array.<Array | number>} ranges\n   * @return {Index} index\n   * @private\n   */\n  Index.create = function (ranges) {\n    var index = new Index();\n    Index.apply(index, ranges);\n    return index;\n  };\n\n  /**\n   * Retrieve the size of the index, the number of elements for each dimension.\n   * @memberof Index\n   * @returns {number[]} size\n   */\n  Index.prototype.size = function () {\n    var size = [];\n\n    for (var i = 0, ii = this._dimensions.length; i < ii; i++) {\n      var d = this._dimensions[i];\n      size[i] = (typeof d === 'string') ? 1 : d.size()[0];\n    }\n\n    return size;\n  };\n\n  /**\n   * Get the maximum value for each of the indexes ranges.\n   * @memberof Index\n   * @returns {number[]} max\n   */\n  Index.prototype.max = function () {\n    var values = [];\n\n    for (var i = 0, ii = this._dimensions.length; i < ii; i++) {\n      var range = this._dimensions[i];\n      values[i] = (typeof range === 'string') ? range : range.max();\n    }\n\n    return values;\n  };\n\n  /**\n   * Get the minimum value for each of the indexes ranges.\n   * @memberof Index\n   * @returns {number[]} min\n   */\n  Index.prototype.min = function () {\n    var values = [];\n\n    for (var i = 0, ii = this._dimensions.length; i < ii; i++) {\n      var range = this._dimensions[i];\n      values[i] = (typeof range === 'string') ? range : range.min();\n    }\n\n    return values;\n  };\n\n  /**\n   * Loop over each of the ranges of the index\n   * @memberof Index\n   * @param {Function} callback   Called for each range with a Range as first\n   *                              argument, the dimension as second, and the\n   *                              index object as third.\n   */\n  Index.prototype.forEach = function (callback) {\n    for (var i = 0, ii = this._dimensions.length; i < ii; i++) {\n      callback(this._dimensions[i], i, this);\n    }\n  };\n\n  /**\n   * Retrieve the dimension for the given index\n   * @memberof Index\n   * @param {Number} dim                  Number of the dimension\n   * @returns {Range | null} range\n   */\n  Index.prototype.dimension = function (dim) {\n    return this._dimensions[dim] || null;\n  };\n\n  /**\n   * Test whether this index contains an object property\n   * @returns {boolean} Returns true if the index is an object property\n   */\n  Index.prototype.isObjectProperty = function () {\n    return this._dimensions.length === 1 && typeof this._dimensions[0] === 'string';\n  };\n\n  /**\n   * Returns the object property name when the Index holds a single object property,\n   * else returns null\n   * @returns {string | null}\n   */\n  Index.prototype.getObjectProperty = function () {\n    return this.isObjectProperty() ? this._dimensions[0] : null;\n  };\n\n  /**\n   * Test whether this index contains only a single value.\n   *\n   * This is the case when the index is created with only scalar values as ranges,\n   * not for ranges resolving into a single value.\n   * @memberof Index\n   * @return {boolean} isScalar\n   */\n  Index.prototype.isScalar = function () {\n    return this._isScalar;\n  };\n\n  /**\n   * Expand the Index into an array.\n   * For example new Index([0,3], [2,7]) returns [[0,1,2], [2,3,4,5,6]]\n   * @memberof Index\n   * @returns {Array} array\n   */\n  Index.prototype.toArray = function () {\n    var array = [];\n    for (var i = 0, ii = this._dimensions.length; i < ii; i++) {\n      var dimension = this._dimensions[i];\n      array.push((typeof dimension === 'string') ? dimension : dimension.toArray());\n    }\n    return array;\n  };\n\n  /**\n   * Get the primitive value of the Index, a two dimensional array.\n   * Equivalent to Index.toArray().\n   * @memberof Index\n   * @returns {Array} array\n   */\n  Index.prototype.valueOf = Index.prototype.toArray;\n\n  /**\n   * Get the string representation of the index, for example '[2:6]' or '[0:2:10, 4:7, [1,2,3]]'\n   * @memberof Index\n   * @returns {String} str\n   */\n  Index.prototype.toString = function () {\n    var strings = [];\n\n    for (var i = 0, ii = this._dimensions.length; i < ii; i++) {\n      var dimension = this._dimensions[i];\n      if (typeof dimension === 'string') {\n        strings.push(JSON.stringify(dimension));\n      }\n      else {\n        strings.push(dimension.toString());\n      }\n    }\n\n    return '[' + strings.join(', ') + ']';\n  };\n\n  /**\n   * Get a JSON representation of the Index\n   * @memberof Index\n   * @returns {Object} Returns a JSON object structured as:\n   *                   `{\"mathjs\": \"Index\", \"ranges\": [{\"mathjs\": \"Range\", start: 0, end: 10, step:1}, ...]}`\n   */\n  Index.prototype.toJSON = function () {\n    return {\n      mathjs: 'Index',\n      dimensions: this._dimensions\n    };\n  };\n\n  /**\n   * Instantiate an Index from a JSON object\n   * @memberof Index\n   * @param {Object} json A JSON object structured as:\n   *                     `{\"mathjs\": \"Index\", \"dimensions\": [{\"mathjs\": \"Range\", start: 0, end: 10, step:1}, ...]}`\n   * @return {Index}\n   */\n  Index.fromJSON = function (json) {\n    return Index.create(json.dimensions);\n  };\n\n  return Index;\n}\n\nexports.name = 'Index';\nexports.path = 'type';\nexports.factory = factory;\n","'use strict';\n\nvar number = require('../../utils/number');\n\nfunction factory (type, config, load, typed) {\n  /**\n   * Create a range. A range has a start, step, and end, and contains functions\n   * to iterate over the range.\n   *\n   * A range can be constructed as:\n   *     var range = new Range(start, end);\n   *     var range = new Range(start, end, step);\n   *\n   * To get the result of the range:\n   *     range.forEach(function (x) {\n   *         console.log(x);\n   *     });\n   *     range.map(function (x) {\n   *         return math.sin(x);\n   *     });\n   *     range.toArray();\n   *\n   * Example usage:\n   *     var c = new Range(2, 6);         // 2:1:5\n   *     c.toArray();                     // [2, 3, 4, 5]\n   *     var d = new Range(2, -3, -1);    // 2:-1:-2\n   *     d.toArray();                     // [2, 1, 0, -1, -2]\n   *\n   * @class Range\n   * @constructor Range\n   * @param {number} start  included lower bound\n   * @param {number} end    excluded upper bound\n   * @param {number} [step] step size, default value is 1\n   */\n  function Range(start, end, step) {\n    if (!(this instanceof Range)) {\n      throw new SyntaxError('Constructor must be called with the new operator');\n    }\n\n    if (start != null) {\n      if (start.isBigNumber === true)\n        start = start.toNumber();\n      else if (typeof start !== 'number')\n        throw new TypeError('Parameter start must be a number');\n    }\n    if (end != null) {\n      if (end.isBigNumber === true)\n        end = end.toNumber();\n      else if (typeof end !== 'number')\n        throw new TypeError('Parameter end must be a number');\n    }\n    if (step != null) {\n      if (step.isBigNumber === true)\n        step = step.toNumber();\n      else if (typeof step !== 'number')\n        throw new TypeError('Parameter step must be a number');\n    }\n\n    this.start = (start != null) ? parseFloat(start) : 0;\n    this.end   = (end != null)   ? parseFloat(end)   : 0;\n    this.step  = (step != null)  ? parseFloat(step)  : 1;\n  }\n\n  /**\n   * Attach type information\n   */\n  Range.prototype.type = 'Range';\n  Range.prototype.isRange = true;\n\n  /**\n   * Parse a string into a range,\n   * The string contains the start, optional step, and end, separated by a colon.\n   * If the string does not contain a valid range, null is returned.\n   * For example str='0:2:11'.\n   * @memberof Range\n   * @param {string} str\n   * @return {Range | null} range\n   */\n  Range.parse = function (str) {\n    if (typeof str !== 'string') {\n      return null;\n    }\n\n    var args = str.split(':');\n    var nums = args.map(function (arg) {\n      return parseFloat(arg);\n    });\n\n    var invalid = nums.some(function (num) {\n      return isNaN(num);\n    });\n    if (invalid) {\n      return null;\n    }\n\n    switch (nums.length) {\n      case 2:\n        return new Range(nums[0], nums[1]);\n      case 3:\n        return new Range(nums[0], nums[2], nums[1]);\n      default:\n        return null;\n    }\n  };\n\n  /**\n   * Create a clone of the range\n   * @return {Range} clone\n   */\n  Range.prototype.clone = function () {\n    return new Range(this.start, this.end, this.step);\n  };\n\n  /**\n   * Retrieve the size of the range.\n   * Returns an array containing one number, the number of elements in the range.\n   * @memberof Range\n   * @returns {number[]} size\n   */\n  Range.prototype.size = function () {\n    var len = 0,\n        start = this.start,\n        step = this.step,\n        end = this.end,\n        diff = end - start;\n\n    if (number.sign(step) == number.sign(diff)) {\n      len = Math.ceil((diff) / step);\n    }\n    else if (diff == 0) {\n      len = 0;\n    }\n\n    if (isNaN(len)) {\n      len = 0;\n    }\n    return [len];\n  };\n\n  /**\n   * Calculate the minimum value in the range\n   * @memberof Range\n   * @return {number | undefined} min\n   */\n  Range.prototype.min = function () {\n    var size = this.size()[0];\n\n    if (size > 0) {\n      if (this.step > 0) {\n        // positive step\n        return this.start;\n      }\n      else {\n        // negative step\n        return this.start + (size - 1) * this.step;\n      }\n    }\n    else {\n      return undefined;\n    }\n  };\n\n  /**\n   * Calculate the maximum value in the range\n   * @memberof Range\n   * @return {number | undefined} max\n   */\n  Range.prototype.max = function () {\n    var size = this.size()[0];\n\n    if (size > 0) {\n      if (this.step > 0) {\n        // positive step\n        return this.start + (size - 1) * this.step;\n      }\n      else {\n        // negative step\n        return this.start;\n      }\n    }\n    else {\n      return undefined;\n    }\n  };\n\n\n  /**\n   * Execute a callback function for each value in the range.\n   * @memberof Range\n   * @param {function} callback   The callback method is invoked with three\n   *                              parameters: the value of the element, the index\n   *                              of the element, and the Range being traversed.\n   */\n  Range.prototype.forEach = function (callback) {\n    var x = this.start;\n    var step = this.step;\n    var end = this.end;\n    var i = 0;\n\n    if (step > 0) {\n      while (x < end) {\n        callback(x, [i], this);\n        x += step;\n        i++;\n      }\n    }\n    else if (step < 0) {\n      while (x > end) {\n        callback(x, [i], this);\n        x += step;\n        i++;\n      }\n    }\n  };\n\n  /**\n   * Execute a callback function for each value in the Range, and return the\n   * results as an array\n   * @memberof Range\n   * @param {function} callback   The callback method is invoked with three\n   *                              parameters: the value of the element, the index\n   *                              of the element, and the Matrix being traversed.\n   * @returns {Array} array\n   */\n  Range.prototype.map = function (callback) {\n    var array = [];\n    this.forEach(function (value, index, obj) {\n      array[index[0]] = callback(value, index, obj);\n    });\n    return array;\n  };\n\n  /**\n   * Create an Array with a copy of the Ranges data\n   * @memberof Range\n   * @returns {Array} array\n   */\n  Range.prototype.toArray = function () {\n    var array = [];\n    this.forEach(function (value, index) {\n      array[index[0]] = value;\n    });\n    return array;\n  };\n\n  /**\n   * Get the primitive value of the Range, a one dimensional array\n   * @memberof Range\n   * @returns {Array} array\n   */\n  Range.prototype.valueOf = function () {\n    // TODO: implement a caching mechanism for range.valueOf()\n    return this.toArray();\n  };\n\n  /**\n   * Get a string representation of the range, with optional formatting options.\n   * Output is formatted as 'start:step:end', for example '2:6' or '0:0.2:11'\n   * @memberof Range\n   * @param {Object | number | function} [options]  Formatting options. See\n   *                                                lib/utils/number:format for a\n   *                                                description of the available\n   *                                                options.\n   * @returns {string} str\n   */\n  Range.prototype.format = function (options) {\n    var str = number.format(this.start, options);\n\n    if (this.step != 1) {\n      str += ':' + number.format(this.step, options);\n    }\n    str += ':' + number.format(this.end, options);\n    return str;\n  };\n\n  /**\n   * Get a string representation of the range.\n   * @memberof Range\n   * @returns {string}\n   */\n  Range.prototype.toString = function () {\n    return this.format();\n  };\n\n  /**\n   * Get a JSON representation of the range\n   * @memberof Range\n   * @returns {Object} Returns a JSON object structured as:\n   *                   `{\"mathjs\": \"Range\", \"start\": 2, \"end\": 4, \"step\": 1}`\n   */\n  Range.prototype.toJSON = function () {\n    return {\n      mathjs: 'Range',\n      start: this.start,\n      end: this.end,\n      step: this.step\n    };\n  };\n\n  /**\n   * Instantiate a Range from a JSON object\n   * @memberof Range\n   * @param {Object} json A JSON object structured as:\n   *                      `{\"mathjs\": \"Range\", \"start\": 2, \"end\": 4, \"step\": 1}`\n   * @return {Range}\n   */\n  Range.fromJSON = function (json) {\n    return new Range(json.start, json.end, json.step);\n  };\n\n  return Range;\n}\n\nexports.name = 'Range';\nexports.path = 'type';\nexports.factory = factory;\n","'use strict';\n\nfunction factory (type, config, load, typed) {\n  /**\n   * Create an index. An Index can store ranges having start, step, and end\n   * for multiple dimensions.\n   * Matrix.get, Matrix.set, and math.subset accept an Index as input.\n   *\n   * Syntax:\n   *\n   *     math.index(range1, range2, ...)\n   *\n   * Where each range can be any of:\n   *\n   * - A number\n   * - A string for getting/setting an object property\n   * - An instance of `Range`\n   * - A one-dimensional Array or a Matrix with numbers\n   *\n   * Indexes must be zero-based, integer numbers.\n   *\n   * Examples:\n   *\n   *    var math = math.js\n   *\n   *    var b = [1, 2, 3, 4, 5];\n   *    math.subset(b, math.index([1, 2, 3]));     // returns [2, 3, 4]\n   *\n   *    var a = math.matrix([[1, 2], [3, 4]]);\n   *    a.subset(math.index(0, 1));             // returns 2\n   *\n   * See also:\n   *\n   *    bignumber, boolean, complex, matrix, number, string, unit\n   *\n   * @param {...*} ranges   Zero or more ranges or numbers.\n   * @return {Index}        Returns the created index\n   */\n  return typed('index', {\n    '...number | string | BigNumber | Range | Array | Matrix': function (args) {\n      var ranges = args.map(function (arg) {\n        if (arg && arg.isBigNumber === true) {\n          return arg.toNumber(); // convert BigNumber to Number\n        }\n        else if (arg && (Array.isArray(arg) || arg.isMatrix === true)) {\n          return arg.map(function (elem) {\n            // convert BigNumber to Number\n            return (elem && elem.isBigNumber === true) ? elem.toNumber() : elem;\n          });\n        }\n        else {\n          return arg;\n        }\n      });\n\n      var res = new type.Index();\n      type.Index.apply(res, ranges);\n      return res;\n    }\n  });\n}\n\nexports.name = 'index';\nexports.factory = factory;\n","'use strict';\n\nfunction factory (type, config, load, typed) {\n\n  var SparseMatrix = type.SparseMatrix;\n\n  /**\n   * Create a Sparse Matrix. The function creates a new `math.type.Matrix` object from\n   * an `Array`. A Matrix has utility functions to manipulate the data in the\n   * matrix, like getting the size and getting or setting values in the matrix.\n   *\n   * Syntax:\n   *\n   *    math.sparse()               // creates an empty sparse matrix.\n   *    math.sparse(data)           // creates a sparse matrix with initial data.\n   *    math.sparse(data, 'number') // creates a sparse matrix with initial data, number datatype.\n   *\n   * Examples:\n   *\n   *    var m = math.sparse([[1, 2], [3, 4]]);\n   *    m.size();                        // Array [2, 2]\n   *    m.resize([3, 2], 5);\n   *    m.valueOf();                     // Array [[1, 2], [3, 4], [5, 5]]\n   *    m.get([1, 0])                    // number 3\n   *\n   * See also:\n   *\n   *    bignumber, boolean, complex, index, number, string, unit, matrix\n   *\n   * @param {Array | Matrix} [data]    A two dimensional array\n   *\n   * @return {Matrix} The created matrix\n   */\n  var sparse = typed('sparse', {\n    '': function () {\n      return new SparseMatrix([]);\n    },\n    \n    'string': function (datatype) {\n      return new SparseMatrix([], datatype);\n    },\n\n    'Array | Matrix': function (data) {\n      return new SparseMatrix(data);\n    },\n    \n    'Array | Matrix, string': function (data, datatype) {\n      return new SparseMatrix(data, datatype);\n    }\n  });\n\n  sparse.toTex = {\n    0: '\\\\begin{bsparse}\\\\end{bsparse}',\n    1: '\\\\left(${args[0]}\\\\right)'\n  };\n\n  return sparse;\n}\n\nexports.name = 'sparse';\nexports.factory = factory;\n","module.exports = [\n  // types\n  require('./Matrix'),\n  require('./DenseMatrix'),\n  require('./SparseMatrix'),\n  require('./Spa'),\n  require('./FibonacciHeap'),\n  require('./ImmutableDenseMatrix'),\n  require('./MatrixIndex'),\n  require('./Range'),\n\n  // construction functions\n  require('./function/index'),\n  require('./function/matrix'),\n  require('./function/sparse')\n];\n","import {\n  select,\n  selectAll,\n  namespaces\n} from \"d3-selection\";\nimport { line } from \"d3-shape\"\nimport cmb from \"js-combinatorics\"\nimport { define, h, prop } from 'skatejs';\nimport * as skate from 'skatejs';\nimport {nearbyEdgePoints} from \"./nearbyRectEdges.js\"\nimport {drawEdge, cacheBoundingRect} from './drawGraph.js'\nimport core from 'mathjs/core'\nimport matrices from 'mathjs/lib/type/matrix'\nimport {parentGraphContainer} from './graph-container.js'\n\nvar math = core.create();\nmath.import(matrices)\n\nexport const css=`\ncanvas {\n  // width: 100%;\n  // height: 100%;\n  padding: 0; margin: 0;\n  left:0; top:0;\n  position: fixed;\n  overflow: hidden;\n  z-index: -1;\n}\n\n`\nconst detached = Symbol();\nconst lastRenderTime = Symbol();\nconst animate = function(elem,now){\n  if (!elem[lastRenderTime]) { elem[lastRenderTime] = now }\n  if  (elem[lastRenderTime] + 1000/elem.fps <= now)\n      {\n        elem[lastRenderTime] = now;\n        elem.dispatchEvent(new Event('animate'));\n      }\n  if (elem[detached]) {return}\n  else {window.requestAnimationFrame( (now) => {animate(elem,now)} )};\n}\n\nexport const canvas = Symbol();\nconst canvasContext = Symbol();\nexport const edgeData = Symbol();\nexport const edgeModifier = Symbol();\nexport const getNodes = Symbol();\nexport const animateCallback = Symbol();\nexport const refreshEdges = Symbol();\nexport const rectCache = Symbol();\n\nwindow.edgeData = edgeData;\nwindow.canvas = canvas;\n\nconst graphAllEdges = {\n  props: {\n    fps: { attribute: true, default: 60 },\n    color: { attribute: true, default: \"yellow\" },\n    thickness: { attribute: true, default: 2 }\n  },\n  refreshAnimation(elem){\n    var nodes = elem[getNodes]();\n    nodes.forEach(cacheBoundingRect);\n    var ctx = elem[canvasContext]\n    if(ctx == undefined){return;}\n    ctx.canvas.width  = window.innerWidth;\n    ctx.canvas.height = window.innerHeight;\n    ctx.clearRect(0,0,ctx.canvas.width,ctx.canvas.height)\n    ctx.strokeStyle = elem.color;\n    ctx.fillStyle = elem.color;\n    ctx.lineWidth = elem.thickness;\n\n    elem[edgeData].forEach((edge) => drawEdge(ctx,edge,elem));\n  },\n\n  edges(elem){\n    var nodes = elem[getNodes]();\n    // console.log(\"number of nodes\", nodes.length)\n    if (nodes.length < 2) { return []; }\n    // var combo = cmb.combination(nodes,2).toArray()\n    // console.log(combo.map((c)=> {return {source: c[0], target: c[1], direction: 0}}))\n    var combos = []\n    nodes.forEach((n)=>{\n      nodes.forEach((m)=>{\n        if(n==m){ return; }\n        combos.push({source: n, target: m, direction: 1})\n      })\n    })\n    // console.log(\"number of 2x combinations\", combos.length)\n\n    return combos\n  },\n\n  attached(elem) {\n    elem[animateCallback] = ()=>{this.refreshAnimation(elem)}\n    elem[edgeModifier] = (edges) => edges;\n    animate(elem);\n    elem[getNodes] = () => selectAll(parentGraphContainer(elem).children)\n         .filter((d,i,nodes)=>{return !nodes[i][edgeData];}).nodes()\n    elem[edgeData] = [];\n    // console.log(this)\n    elem[canvas] = document.createElement(\"canvas\")\n    elem[canvasContext] = elem[canvas].getContext(\"2d\");\n\n    elem[refreshEdges] = (e) => {\n      // console.log(\"REFRESHING EDGES\")\n      elem[edgeData] = elem[edgeModifier](this.edges(elem));\n      // console.log(elem[edgeData])\n    }\n    parentGraphContainer(elem).addEventListener('graph-updated', elem[refreshEdges])\n  },\n\n  detached(elem) {\n    // console.log(\"detached\",elem)\n    elem[detached] = true;\n    elem.removeEventListener('animate',elem[animateCallback])\n  },\n\n  attributeChanged(elem) {\n  },\n\n  render(elem) {\n    return [\n      h('div',{style: \"display: none\"}, h('slot', {\n      })),\n\n      h(\"style\",css )\n    ]\n  },\n\n  rendered(elem){\n    elem.shadowRoot.appendChild(elem[canvas])\n    // console.log(\"rendered\")\n    elem[refreshEdges]();\n    elem.addEventListener('animate',elem[animateCallback])\n  }\n};\n\nexport const EdgesAllPairs = define('edges-all-pairs',graphAllEdges);\n","import {EdgesAllPairs, refreshEdges, getNodes, css} from './edges-all-pairs'\nimport {define, h} from 'skatejs'\nimport {select, selectAll} from 'd3-selection'\nimport core from 'mathjs/core'\nimport matrices from 'mathjs/lib/type/matrix'\nimport {parentGraphContainer} from './graph-container.js'\n\nvar math = core.create();\nmath.import(matrices)\n\ndefine('edges-adjacency-matrix', EdgesAllPairs.extend({\n  edges(elem){\n    // console.log(elem)\n    try{ var adj = JSON.parse(elem.innerHTML) }catch(e){ }\n    var nodes = elem[getNodes]()\n    if (nodes.length < 2) { return []; }\n    var edges = [[nodes[0],nodes[1]]]\n    edges = []\n    adj.forEach((row,i)=>{\n      row.forEach((edge,j)=>{\n        if(edge == 1){\n          edges.push({source: nodes[i], target: nodes[j], direction: 1})\n        }\n      })\n    })\n    // combos = combos.map((c)=> {return {source: c[0], target: c[1], direction: 1}})\n    // console.log(edges)\n    return edges\n  },\n  render(elem) {\n    return [\n      h('div',{style: \"display: none\"}, h('slot', {\n        onSlotchange: elem[refreshEdges]\n      })),\n      h(\"style\",css )\n    ]\n  },\n}))\n","export default function(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","import ascending from \"./ascending\";\n\nexport default function(compare) {\n  if (compare.length === 1) compare = ascendingComparator(compare);\n  return {\n    left: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) < 0) lo = mid + 1;\n        else hi = mid;\n      }\n      return lo;\n    },\n    right: function(a, x, lo, hi) {\n      if (lo == null) lo = 0;\n      if (hi == null) hi = a.length;\n      while (lo < hi) {\n        var mid = lo + hi >>> 1;\n        if (compare(a[mid], x) > 0) hi = mid;\n        else lo = mid + 1;\n      }\n      return lo;\n    }\n  };\n}\n\nfunction ascendingComparator(f) {\n  return function(d, x) {\n    return ascending(f(d), x);\n  };\n}\n","import ascending from \"./ascending\";\nimport bisector from \"./bisector\";\n\nvar ascendingBisect = bisector(ascending);\nexport var bisectRight = ascendingBisect.right;\nexport var bisectLeft = ascendingBisect.left;\nexport default bisectRight;\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex3 = /^#([0-9a-f]{3})$/,\n    reHex6 = /^#([0-9a-f]{6})$/,\n    reRgbInteger = new RegExp(\"^rgb\\\\(\" + [reI, reI, reI] + \"\\\\)$\"),\n    reRgbPercent = new RegExp(\"^rgb\\\\(\" + [reP, reP, reP] + \"\\\\)$\"),\n    reRgbaInteger = new RegExp(\"^rgba\\\\(\" + [reI, reI, reI, reN] + \"\\\\)$\"),\n    reRgbaPercent = new RegExp(\"^rgba\\\\(\" + [reP, reP, reP, reN] + \"\\\\)$\"),\n    reHslPercent = new RegExp(\"^hsl\\\\(\" + [reN, reP, reP] + \"\\\\)$\"),\n    reHslaPercent = new RegExp(\"^hsla\\\\(\" + [reN, reP, reP, reN] + \"\\\\)$\");\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  displayable: function() {\n    return this.rgb().displayable();\n  },\n  toString: function() {\n    return this.rgb() + \"\";\n  }\n});\n\nexport default function color(format) {\n  var m;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex3.exec(format)) ? (m = parseInt(m[1], 16), new Rgb((m >> 8 & 0xf) | (m >> 4 & 0x0f0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1)) // #f00\n      : (m = reHex6.exec(format)) ? rgbn(parseInt(m[1], 16)) // #ff0000\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format])\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb: function() {\n    return this;\n  },\n  displayable: function() {\n    return (0 <= this.r && this.r <= 255)\n        && (0 <= this.g && this.g <= 255)\n        && (0 <= this.b && this.b <= 255)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  toString: function() {\n    var a = this.opacity; a = isNaN(a) ? 1 : Math.max(0, Math.min(1, a));\n    return (a === 1 ? \"rgb(\" : \"rgba(\")\n        + Math.max(0, Math.min(255, Math.round(this.r) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.g) || 0)) + \", \"\n        + Math.max(0, Math.min(255, Math.round(this.b) || 0))\n        + (a === 1 ? \")\" : \", \" + a + \")\");\n  }\n}));\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  displayable: function() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  }\n}));\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export var deg2rad = Math.PI / 180;\nexport var rad2deg = 180 / Math.PI;\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar Kn = 18,\n    Xn = 0.950470, // D65 standard referent\n    Yn = 1,\n    Zn = 1.088830,\n    t0 = 4 / 29,\n    t1 = 6 / 29,\n    t2 = 3 * t1 * t1,\n    t3 = t1 * t1 * t1;\n\nfunction labConvert(o) {\n  if (o instanceof Lab) return new Lab(o.l, o.a, o.b, o.opacity);\n  if (o instanceof Hcl) {\n    var h = o.h * deg2rad;\n    return new Lab(o.l, Math.cos(h) * o.c, Math.sin(h) * o.c, o.opacity);\n  }\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var b = rgb2xyz(o.r),\n      a = rgb2xyz(o.g),\n      l = rgb2xyz(o.b),\n      x = xyz2lab((0.4124564 * b + 0.3575761 * a + 0.1804375 * l) / Xn),\n      y = xyz2lab((0.2126729 * b + 0.7151522 * a + 0.0721750 * l) / Yn),\n      z = xyz2lab((0.0193339 * b + 0.1191920 * a + 0.9503041 * l) / Zn);\n  return new Lab(116 * y - 16, 500 * (x - y), 200 * (y - z), o.opacity);\n}\n\nexport default function lab(l, a, b, opacity) {\n  return arguments.length === 1 ? labConvert(l) : new Lab(l, a, b, opacity == null ? 1 : opacity);\n}\n\nexport function Lab(l, a, b, opacity) {\n  this.l = +l;\n  this.a = +a;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Lab, lab, extend(Color, {\n  brighter: function(k) {\n    return new Lab(this.l + Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  darker: function(k) {\n    return new Lab(this.l - Kn * (k == null ? 1 : k), this.a, this.b, this.opacity);\n  },\n  rgb: function() {\n    var y = (this.l + 16) / 116,\n        x = isNaN(this.a) ? y : y + this.a / 500,\n        z = isNaN(this.b) ? y : y - this.b / 200;\n    y = Yn * lab2xyz(y);\n    x = Xn * lab2xyz(x);\n    z = Zn * lab2xyz(z);\n    return new Rgb(\n      xyz2rgb( 3.2404542 * x - 1.5371385 * y - 0.4985314 * z), // D65 -> sRGB\n      xyz2rgb(-0.9692660 * x + 1.8760108 * y + 0.0415560 * z),\n      xyz2rgb( 0.0556434 * x - 0.2040259 * y + 1.0572252 * z),\n      this.opacity\n    );\n  }\n}));\n\nfunction xyz2lab(t) {\n  return t > t3 ? Math.pow(t, 1 / 3) : t / t2 + t0;\n}\n\nfunction lab2xyz(t) {\n  return t > t1 ? t * t * t : t2 * (t - t0);\n}\n\nfunction xyz2rgb(x) {\n  return 255 * (x <= 0.0031308 ? 12.92 * x : 1.055 * Math.pow(x, 1 / 2.4) - 0.055);\n}\n\nfunction rgb2xyz(x) {\n  return (x /= 255) <= 0.04045 ? x / 12.92 : Math.pow((x + 0.055) / 1.055, 2.4);\n}\n\nfunction hclConvert(o) {\n  if (o instanceof Hcl) return new Hcl(o.h, o.c, o.l, o.opacity);\n  if (!(o instanceof Lab)) o = labConvert(o);\n  var h = Math.atan2(o.b, o.a) * rad2deg;\n  return new Hcl(h < 0 ? h + 360 : h, Math.sqrt(o.a * o.a + o.b * o.b), o.l, o.opacity);\n}\n\nexport function hcl(h, c, l, opacity) {\n  return arguments.length === 1 ? hclConvert(h) : new Hcl(h, c, l, opacity == null ? 1 : opacity);\n}\n\nexport function Hcl(h, c, l, opacity) {\n  this.h = +h;\n  this.c = +c;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hcl, hcl, extend(Color, {\n  brighter: function(k) {\n    return new Hcl(this.h, this.c, this.l + Kn * (k == null ? 1 : k), this.opacity);\n  },\n  darker: function(k) {\n    return new Hcl(this.h, this.c, this.l - Kn * (k == null ? 1 : k), this.opacity);\n  },\n  rgb: function() {\n    return labConvert(this).rgb();\n  }\n}));\n","import define, {extend} from \"./define\";\nimport {Color, rgbConvert, Rgb, darker, brighter} from \"./color\";\nimport {deg2rad, rad2deg} from \"./math\";\n\nvar A = -0.14861,\n    B = +1.78277,\n    C = -0.29227,\n    D = -0.90649,\n    E = +1.97294,\n    ED = E * D,\n    EB = E * B,\n    BC_DA = B * C - D * A;\n\nfunction cubehelixConvert(o) {\n  if (o instanceof Cubehelix) return new Cubehelix(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Rgb)) o = rgbConvert(o);\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      l = (BC_DA * b + ED * r - EB * g) / (BC_DA + ED - EB),\n      bl = b - l,\n      k = (E * (g - l) - C * bl) / D,\n      s = Math.sqrt(k * k + bl * bl) / (E * l * (1 - l)), // NaN if l=0 or l=1\n      h = s ? Math.atan2(k, bl) * rad2deg - 120 : NaN;\n  return new Cubehelix(h < 0 ? h + 360 : h, s, l, o.opacity);\n}\n\nexport default function cubehelix(h, s, l, opacity) {\n  return arguments.length === 1 ? cubehelixConvert(h) : new Cubehelix(h, s, l, opacity == null ? 1 : opacity);\n}\n\nexport function Cubehelix(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Cubehelix, cubehelix, extend(Color, {\n  brighter: function(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker: function(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Cubehelix(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb: function() {\n    var h = isNaN(this.h) ? 0 : (this.h + 120) * deg2rad,\n        l = +this.l,\n        a = isNaN(this.s) ? 0 : this.s * l * (1 - l),\n        cosh = Math.cos(h),\n        sinh = Math.sin(h);\n    return new Rgb(\n      255 * (l + a * (A * cosh + B * sinh)),\n      255 * (l + a * (C * cosh + D * sinh)),\n      255 * (l + a * (E * cosh)),\n      this.opacity\n    );\n  }\n}));\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import constant from \"./constant\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis\";\nimport basisClosed from \"./basisClosed\";\nimport {gamma} from \"./color\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = color(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {cubehelix as colorCubehelix} from \"d3-color\";\nimport color, {hue} from \"./color\";\n\nfunction cubehelix(hue) {\n  return (function cubehelixGamma(y) {\n    y = +y;\n\n    function cubehelix(start, end) {\n      var h = hue((start = colorCubehelix(start)).h, (end = colorCubehelix(end)).h),\n          s = color(start.s, end.s),\n          l = color(start.l, end.l),\n          opacity = color(start.opacity, end.opacity);\n      return function(t) {\n        start.h = h(t);\n        start.s = s(t);\n        start.l = l(Math.pow(t, y));\n        start.opacity = opacity(t);\n        return start + \"\";\n      };\n    }\n\n    cubehelix.gamma = cubehelixGamma;\n\n    return cubehelix;\n  })(1);\n}\n\nexport default cubehelix(hue);\nexport var cubehelixLong = cubehelix(color);\n","// Computes the decimal coefficient and exponent of the specified number x with\n// significant digits p, where x is positive and p is in [1, 21] or undefined.\n// For example, formatDecimal(1.23) returns [\"123\", 0].\nexport default function(x, p) {\n  if ((i = (x = p ? x.toExponential(p - 1) : x.toExponential()).indexOf(\"e\")) < 0) return null; // NaN, Infinity\n  var i, coefficient = x.slice(0, i);\n\n  // The string returned by toExponential either has the form \\d\\.\\d+e[-+]\\d+\n  // (e.g., 1.2e+3) or the form \\de[-+]\\d+ (e.g., 1e+3).\n  return [\n    coefficient.length > 1 ? coefficient[0] + coefficient.slice(2) : coefficient,\n    +x.slice(i + 1)\n  ];\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x) {\n  return x = formatDecimal(Math.abs(x)), x ? x[1] : NaN;\n}\n","export default function(grouping, thousands) {\n  return function(value, width) {\n    var i = value.length,\n        t = [],\n        j = 0,\n        g = grouping[0],\n        length = 0;\n\n    while (i > 0 && g > 0) {\n      if (length + g + 1 > width) g = Math.max(1, width - length);\n      t.push(value.substring(i -= g, i + g));\n      if ((length += g + 1) > width) break;\n      g = grouping[j = (j + 1) % grouping.length];\n    }\n\n    return t.reverse().join(thousands);\n  };\n}\n","export default function(x, p) {\n  x = x.toPrecision(p);\n\n  out: for (var n = x.length, i = 1, i0 = -1, i1; i < n; ++i) {\n    switch (x[i]) {\n      case \".\": i0 = i1 = i; break;\n      case \"0\": if (i0 === 0) i0 = i; i1 = i; break;\n      case \"e\": break out;\n      default: if (i0 > 0) i0 = 0; break;\n    }\n  }\n\n  return i0 > 0 ? x.slice(0, i0) + x.slice(i1 + 1) : x;\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport var prefixExponent;\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1],\n      i = exponent - (prefixExponent = Math.max(-8, Math.min(8, Math.floor(exponent / 3))) * 3) + 1,\n      n = coefficient.length;\n  return i === n ? coefficient\n      : i > n ? coefficient + new Array(i - n + 1).join(\"0\")\n      : i > 0 ? coefficient.slice(0, i) + \".\" + coefficient.slice(i)\n      : \"0.\" + new Array(1 - i).join(\"0\") + formatDecimal(x, Math.max(0, p + i - 1))[0]; // less than 1y!\n}\n","import formatDecimal from \"./formatDecimal\";\n\nexport default function(x, p) {\n  var d = formatDecimal(x, p);\n  if (!d) return x + \"\";\n  var coefficient = d[0],\n      exponent = d[1];\n  return exponent < 0 ? \"0.\" + new Array(-exponent).join(\"0\") + coefficient\n      : coefficient.length > exponent + 1 ? coefficient.slice(0, exponent + 1) + \".\" + coefficient.slice(exponent + 1)\n      : coefficient + new Array(exponent - coefficient.length + 2).join(\"0\");\n}\n","import formatDefault from \"./formatDefault\";\nimport formatPrefixAuto from \"./formatPrefixAuto\";\nimport formatRounded from \"./formatRounded\";\n\nexport default {\n  \"\": formatDefault,\n  \"%\": function(x, p) { return (x * 100).toFixed(p); },\n  \"b\": function(x) { return Math.round(x).toString(2); },\n  \"c\": function(x) { return x + \"\"; },\n  \"d\": function(x) { return Math.round(x).toString(10); },\n  \"e\": function(x, p) { return x.toExponential(p); },\n  \"f\": function(x, p) { return x.toFixed(p); },\n  \"g\": function(x, p) { return x.toPrecision(p); },\n  \"o\": function(x) { return Math.round(x).toString(8); },\n  \"p\": function(x, p) { return formatRounded(x * 100, p); },\n  \"r\": formatRounded,\n  \"s\": formatPrefixAuto,\n  \"X\": function(x) { return Math.round(x).toString(16).toUpperCase(); },\n  \"x\": function(x) { return Math.round(x).toString(16); }\n};\n","import formatTypes from \"./formatTypes\";\n\n// [[fill]align][sign][symbol][0][width][,][.precision][type]\nvar re = /^(?:(.)?([<>=^]))?([+\\-\\( ])?([$#])?(0)?(\\d+)?(,)?(\\.\\d+)?([a-z%])?$/i;\n\nexport default function(specifier) {\n  return new FormatSpecifier(specifier);\n}\n\nfunction FormatSpecifier(specifier) {\n  if (!(match = re.exec(specifier))) throw new Error(\"invalid format: \" + specifier);\n\n  var match,\n      fill = match[1] || \" \",\n      align = match[2] || \">\",\n      sign = match[3] || \"-\",\n      symbol = match[4] || \"\",\n      zero = !!match[5],\n      width = match[6] && +match[6],\n      comma = !!match[7],\n      precision = match[8] && +match[8].slice(1),\n      type = match[9] || \"\";\n\n  // The \"n\" type is an alias for \",g\".\n  if (type === \"n\") comma = true, type = \"g\";\n\n  // Map invalid types to the default format.\n  else if (!formatTypes[type]) type = \"\";\n\n  // If zero fill is specified, padding goes after sign and before digits.\n  if (zero || (fill === \"0\" && align === \"=\")) zero = true, fill = \"0\", align = \"=\";\n\n  this.fill = fill;\n  this.align = align;\n  this.sign = sign;\n  this.symbol = symbol;\n  this.zero = zero;\n  this.width = width;\n  this.comma = comma;\n  this.precision = precision;\n  this.type = type;\n}\n\nFormatSpecifier.prototype.toString = function() {\n  return this.fill\n      + this.align\n      + this.sign\n      + this.symbol\n      + (this.zero ? \"0\" : \"\")\n      + (this.width == null ? \"\" : Math.max(1, this.width | 0))\n      + (this.comma ? \",\" : \"\")\n      + (this.precision == null ? \"\" : \".\" + Math.max(0, this.precision | 0))\n      + this.type;\n};\n","import exponent from \"./exponent\";\nimport formatGroup from \"./formatGroup\";\nimport formatSpecifier from \"./formatSpecifier\";\nimport formatTypes from \"./formatTypes\";\nimport {prefixExponent} from \"./formatPrefixAuto\";\n\nvar prefixes = [\"y\",\"z\",\"a\",\"f\",\"p\",\"n\",\"\",\"m\",\"\",\"k\",\"M\",\"G\",\"T\",\"P\",\"E\",\"Z\",\"Y\"];\n\nfunction identity(x) {\n  return x;\n}\n\nexport default function(locale) {\n  var group = locale.grouping && locale.thousands ? formatGroup(locale.grouping, locale.thousands) : identity,\n      currency = locale.currency,\n      decimal = locale.decimal;\n\n  function newFormat(specifier) {\n    specifier = formatSpecifier(specifier);\n\n    var fill = specifier.fill,\n        align = specifier.align,\n        sign = specifier.sign,\n        symbol = specifier.symbol,\n        zero = specifier.zero,\n        width = specifier.width,\n        comma = specifier.comma,\n        precision = specifier.precision,\n        type = specifier.type;\n\n    // Compute the prefix and suffix.\n    // For SI-prefix, the suffix is lazily computed.\n    var prefix = symbol === \"$\" ? currency[0] : symbol === \"#\" && /[boxX]/.test(type) ? \"0\" + type.toLowerCase() : \"\",\n        suffix = symbol === \"$\" ? currency[1] : /[%p]/.test(type) ? \"%\" : \"\";\n\n    // What format function should we use?\n    // Is this an integer type?\n    // Can this type generate exponential notation?\n    var formatType = formatTypes[type],\n        maybeSuffix = !type || /[defgprs%]/.test(type);\n\n    // Set the default precision if not specified,\n    // or clamp the specified precision to the supported range.\n    // For significant precision, it must be in [1, 21].\n    // For fixed precision, it must be in [0, 20].\n    precision = precision == null ? (type ? 6 : 12)\n        : /[gprs]/.test(type) ? Math.max(1, Math.min(21, precision))\n        : Math.max(0, Math.min(20, precision));\n\n    function format(value) {\n      var valuePrefix = prefix,\n          valueSuffix = suffix,\n          i, n, c;\n\n      if (type === \"c\") {\n        valueSuffix = formatType(value) + valueSuffix;\n        value = \"\";\n      } else {\n        value = +value;\n\n        // Convert negative to positive, and compute the prefix.\n        // Note that -0 is not less than 0, but 1 / -0 is!\n        var valueNegative = (value < 0 || 1 / value < 0) && (value *= -1, true);\n\n        // Perform the initial formatting.\n        value = formatType(value, precision);\n\n        // If the original value was negative, it may be rounded to zero during\n        // formatting; treat this as (positive) zero.\n        if (valueNegative) {\n          i = -1, n = value.length;\n          valueNegative = false;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), (48 < c && c < 58)\n                || (type === \"x\" && 96 < c && c < 103)\n                || (type === \"X\" && 64 < c && c < 71)) {\n              valueNegative = true;\n              break;\n            }\n          }\n        }\n\n        // Compute the prefix and suffix.\n        valuePrefix = (valueNegative ? (sign === \"(\" ? sign : \"-\") : sign === \"-\" || sign === \"(\" ? \"\" : sign) + valuePrefix;\n        valueSuffix = valueSuffix + (type === \"s\" ? prefixes[8 + prefixExponent / 3] : \"\") + (valueNegative && sign === \"(\" ? \")\" : \"\");\n\n        // Break the formatted value into the integer value part that can be\n        // grouped, and fractional or exponential suffix part that is not.\n        if (maybeSuffix) {\n          i = -1, n = value.length;\n          while (++i < n) {\n            if (c = value.charCodeAt(i), 48 > c || c > 57) {\n              valueSuffix = (c === 46 ? decimal + value.slice(i + 1) : value.slice(i)) + valueSuffix;\n              value = value.slice(0, i);\n              break;\n            }\n          }\n        }\n      }\n\n      // If the fill character is not \"0\", grouping is applied before padding.\n      if (comma && !zero) value = group(value, Infinity);\n\n      // Compute the padding.\n      var length = valuePrefix.length + value.length + valueSuffix.length,\n          padding = length < width ? new Array(width - length + 1).join(fill) : \"\";\n\n      // If the fill character is \"0\", grouping is applied after padding.\n      if (comma && zero) value = group(padding + value, padding.length ? width - valueSuffix.length : Infinity), padding = \"\";\n\n      // Reconstruct the final output based on the desired alignment.\n      switch (align) {\n        case \"<\": return valuePrefix + value + valueSuffix + padding;\n        case \"=\": return valuePrefix + padding + value + valueSuffix;\n        case \"^\": return padding.slice(0, length = padding.length >> 1) + valuePrefix + value + valueSuffix + padding.slice(length);\n      }\n      return padding + valuePrefix + value + valueSuffix;\n    }\n\n    format.toString = function() {\n      return specifier + \"\";\n    };\n\n    return format;\n  }\n\n  function formatPrefix(specifier, value) {\n    var f = newFormat((specifier = formatSpecifier(specifier), specifier.type = \"f\", specifier)),\n        e = Math.max(-8, Math.min(8, Math.floor(exponent(value) / 3))) * 3,\n        k = Math.pow(10, -e),\n        prefix = prefixes[8 + e / 3];\n    return function(value) {\n      return f(k * value) + prefix;\n    };\n  }\n\n  return {\n    format: newFormat,\n    formatPrefix: formatPrefix\n  };\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var format;\nexport var formatPrefix;\n\ndefaultLocale({\n  decimal: \".\",\n  thousands: \",\",\n  grouping: [3],\n  currency: [\"$\", \"\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  format = locale.format;\n  formatPrefix = locale.formatPrefix;\n  return locale;\n}\n","var t0 = new Date,\n    t1 = new Date;\n\nexport default function newInterval(floori, offseti, count, field) {\n\n  function interval(date) {\n    return floori(date = new Date(+date)), date;\n  }\n\n  interval.floor = interval;\n\n  interval.ceil = function(date) {\n    return floori(date = new Date(date - 1)), offseti(date, 1), floori(date), date;\n  };\n\n  interval.round = function(date) {\n    var d0 = interval(date),\n        d1 = interval.ceil(date);\n    return date - d0 < d1 - date ? d0 : d1;\n  };\n\n  interval.offset = function(date, step) {\n    return offseti(date = new Date(+date), step == null ? 1 : Math.floor(step)), date;\n  };\n\n  interval.range = function(start, stop, step) {\n    var range = [];\n    start = interval.ceil(start);\n    step = step == null ? 1 : Math.floor(step);\n    if (!(start < stop) || !(step > 0)) return range; // also handles Invalid Date\n    do range.push(new Date(+start)); while (offseti(start, step), floori(start), start < stop)\n    return range;\n  };\n\n  interval.filter = function(test) {\n    return newInterval(function(date) {\n      if (date >= date) while (floori(date), !test(date)) date.setTime(date - 1);\n    }, function(date, step) {\n      if (date >= date) while (--step >= 0) while (offseti(date, 1), !test(date)) {} // eslint-disable-line no-empty\n    });\n  };\n\n  if (count) {\n    interval.count = function(start, end) {\n      t0.setTime(+start), t1.setTime(+end);\n      floori(t0), floori(t1);\n      return Math.floor(count(t0, t1));\n    };\n\n    interval.every = function(step) {\n      step = Math.floor(step);\n      return !isFinite(step) || !(step > 0) ? null\n          : !(step > 1) ? interval\n          : interval.filter(field\n              ? function(d) { return field(d) % step === 0; }\n              : function(d) { return interval.count(0, d) % step === 0; });\n    };\n  }\n\n  return interval;\n}\n","import interval from \"./interval\";\n\nvar millisecond = interval(function() {\n  // noop\n}, function(date, step) {\n  date.setTime(+date + step);\n}, function(start, end) {\n  return end - start;\n});\n\n// An optimized implementation for this simple case.\nmillisecond.every = function(k) {\n  k = Math.floor(k);\n  if (!isFinite(k) || !(k > 0)) return null;\n  if (!(k > 1)) return millisecond;\n  return interval(function(date) {\n    date.setTime(Math.floor(date / k) * k);\n  }, function(date, step) {\n    date.setTime(+date + step * k);\n  }, function(start, end) {\n    return (end - start) / k;\n  });\n};\n\nexport default millisecond;\nexport var milliseconds = millisecond.range;\n","export var durationSecond = 1e3;\nexport var durationMinute = 6e4;\nexport var durationHour = 36e5;\nexport var durationDay = 864e5;\nexport var durationWeek = 6048e5;\n","import interval from \"./interval\";\nimport {durationSecond} from \"./duration\";\n\nvar second = interval(function(date) {\n  date.setTime(Math.floor(date / durationSecond) * durationSecond);\n}, function(date, step) {\n  date.setTime(+date + step * durationSecond);\n}, function(start, end) {\n  return (end - start) / durationSecond;\n}, function(date) {\n  return date.getUTCSeconds();\n});\n\nexport default second;\nexport var seconds = second.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar minute = interval(function(date) {\n  date.setTime(Math.floor(date / durationMinute) * durationMinute);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getMinutes();\n});\n\nexport default minute;\nexport var minutes = minute.range;\n","import interval from \"./interval\";\nimport {durationHour, durationMinute} from \"./duration\";\n\nvar hour = interval(function(date) {\n  var offset = date.getTimezoneOffset() * durationMinute % durationHour;\n  if (offset < 0) offset += durationHour;\n  date.setTime(Math.floor((+date - offset) / durationHour) * durationHour + offset);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getHours();\n});\n\nexport default hour;\nexport var hours = hour.range;\n","import interval from \"./interval\";\nimport {durationDay, durationMinute} from \"./duration\";\n\nvar day = interval(function(date) {\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setDate(date.getDate() + step);\n}, function(start, end) {\n  return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationDay;\n}, function(date) {\n  return date.getDate() - 1;\n});\n\nexport default day;\nexport var days = day.range;\n","import interval from \"./interval\";\nimport {durationMinute, durationWeek} from \"./duration\";\n\nfunction weekday(i) {\n  return interval(function(date) {\n    date.setDate(date.getDate() - (date.getDay() + 7 - i) % 7);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setDate(date.getDate() + step * 7);\n  }, function(start, end) {\n    return (end - start - (end.getTimezoneOffset() - start.getTimezoneOffset()) * durationMinute) / durationWeek;\n  });\n}\n\nexport var sunday = weekday(0);\nexport var monday = weekday(1);\nexport var tuesday = weekday(2);\nexport var wednesday = weekday(3);\nexport var thursday = weekday(4);\nexport var friday = weekday(5);\nexport var saturday = weekday(6);\n\nexport var sundays = sunday.range;\nexport var mondays = monday.range;\nexport var tuesdays = tuesday.range;\nexport var wednesdays = wednesday.range;\nexport var thursdays = thursday.range;\nexport var fridays = friday.range;\nexport var saturdays = saturday.range;\n","import interval from \"./interval\";\n\nvar month = interval(function(date) {\n  date.setDate(1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setMonth(date.getMonth() + step);\n}, function(start, end) {\n  return end.getMonth() - start.getMonth() + (end.getFullYear() - start.getFullYear()) * 12;\n}, function(date) {\n  return date.getMonth();\n});\n\nexport default month;\nexport var months = month.range;\n","import interval from \"./interval\";\n\nvar year = interval(function(date) {\n  date.setMonth(0, 1);\n  date.setHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setFullYear(date.getFullYear() + step);\n}, function(start, end) {\n  return end.getFullYear() - start.getFullYear();\n}, function(date) {\n  return date.getFullYear();\n});\n\n// An optimized implementation for this simple case.\nyear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setFullYear(Math.floor(date.getFullYear() / k) * k);\n    date.setMonth(0, 1);\n    date.setHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setFullYear(date.getFullYear() + step * k);\n  });\n};\n\nexport default year;\nexport var years = year.range;\n","import interval from \"./interval\";\nimport {durationMinute} from \"./duration\";\n\nvar utcMinute = interval(function(date) {\n  date.setUTCSeconds(0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationMinute);\n}, function(start, end) {\n  return (end - start) / durationMinute;\n}, function(date) {\n  return date.getUTCMinutes();\n});\n\nexport default utcMinute;\nexport var utcMinutes = utcMinute.range;\n","import interval from \"./interval\";\nimport {durationHour} from \"./duration\";\n\nvar utcHour = interval(function(date) {\n  date.setUTCMinutes(0, 0, 0);\n}, function(date, step) {\n  date.setTime(+date + step * durationHour);\n}, function(start, end) {\n  return (end - start) / durationHour;\n}, function(date) {\n  return date.getUTCHours();\n});\n\nexport default utcHour;\nexport var utcHours = utcHour.range;\n","import interval from \"./interval\";\nimport {durationDay} from \"./duration\";\n\nvar utcDay = interval(function(date) {\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCDate(date.getUTCDate() + step);\n}, function(start, end) {\n  return (end - start) / durationDay;\n}, function(date) {\n  return date.getUTCDate() - 1;\n});\n\nexport default utcDay;\nexport var utcDays = utcDay.range;\n","import interval from \"./interval\";\nimport {durationWeek} from \"./duration\";\n\nfunction utcWeekday(i) {\n  return interval(function(date) {\n    date.setUTCDate(date.getUTCDate() - (date.getUTCDay() + 7 - i) % 7);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCDate(date.getUTCDate() + step * 7);\n  }, function(start, end) {\n    return (end - start) / durationWeek;\n  });\n}\n\nexport var utcSunday = utcWeekday(0);\nexport var utcMonday = utcWeekday(1);\nexport var utcTuesday = utcWeekday(2);\nexport var utcWednesday = utcWeekday(3);\nexport var utcThursday = utcWeekday(4);\nexport var utcFriday = utcWeekday(5);\nexport var utcSaturday = utcWeekday(6);\n\nexport var utcSundays = utcSunday.range;\nexport var utcMondays = utcMonday.range;\nexport var utcTuesdays = utcTuesday.range;\nexport var utcWednesdays = utcWednesday.range;\nexport var utcThursdays = utcThursday.range;\nexport var utcFridays = utcFriday.range;\nexport var utcSaturdays = utcSaturday.range;\n","import interval from \"./interval\";\n\nvar utcMonth = interval(function(date) {\n  date.setUTCDate(1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCMonth(date.getUTCMonth() + step);\n}, function(start, end) {\n  return end.getUTCMonth() - start.getUTCMonth() + (end.getUTCFullYear() - start.getUTCFullYear()) * 12;\n}, function(date) {\n  return date.getUTCMonth();\n});\n\nexport default utcMonth;\nexport var utcMonths = utcMonth.range;\n","import interval from \"./interval\";\n\nvar utcYear = interval(function(date) {\n  date.setUTCMonth(0, 1);\n  date.setUTCHours(0, 0, 0, 0);\n}, function(date, step) {\n  date.setUTCFullYear(date.getUTCFullYear() + step);\n}, function(start, end) {\n  return end.getUTCFullYear() - start.getUTCFullYear();\n}, function(date) {\n  return date.getUTCFullYear();\n});\n\n// An optimized implementation for this simple case.\nutcYear.every = function(k) {\n  return !isFinite(k = Math.floor(k)) || !(k > 0) ? null : interval(function(date) {\n    date.setUTCFullYear(Math.floor(date.getUTCFullYear() / k) * k);\n    date.setUTCMonth(0, 1);\n    date.setUTCHours(0, 0, 0, 0);\n  }, function(date, step) {\n    date.setUTCFullYear(date.getUTCFullYear() + step * k);\n  });\n};\n\nexport default utcYear;\nexport var utcYears = utcYear.range;\n","import {timeDay, timeSunday, timeMonday, timeYear, utcDay, utcSunday, utcMonday, utcYear} from \"d3-time\";\n\nfunction localDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(-1, d.m, d.d, d.H, d.M, d.S, d.L);\n    date.setFullYear(d.y);\n    return date;\n  }\n  return new Date(d.y, d.m, d.d, d.H, d.M, d.S, d.L);\n}\n\nfunction utcDate(d) {\n  if (0 <= d.y && d.y < 100) {\n    var date = new Date(Date.UTC(-1, d.m, d.d, d.H, d.M, d.S, d.L));\n    date.setUTCFullYear(d.y);\n    return date;\n  }\n  return new Date(Date.UTC(d.y, d.m, d.d, d.H, d.M, d.S, d.L));\n}\n\nfunction newYear(y) {\n  return {y: y, m: 0, d: 1, H: 0, M: 0, S: 0, L: 0};\n}\n\nexport default function formatLocale(locale) {\n  var locale_dateTime = locale.dateTime,\n      locale_date = locale.date,\n      locale_time = locale.time,\n      locale_periods = locale.periods,\n      locale_weekdays = locale.days,\n      locale_shortWeekdays = locale.shortDays,\n      locale_months = locale.months,\n      locale_shortMonths = locale.shortMonths;\n\n  var periodRe = formatRe(locale_periods),\n      periodLookup = formatLookup(locale_periods),\n      weekdayRe = formatRe(locale_weekdays),\n      weekdayLookup = formatLookup(locale_weekdays),\n      shortWeekdayRe = formatRe(locale_shortWeekdays),\n      shortWeekdayLookup = formatLookup(locale_shortWeekdays),\n      monthRe = formatRe(locale_months),\n      monthLookup = formatLookup(locale_months),\n      shortMonthRe = formatRe(locale_shortMonths),\n      shortMonthLookup = formatLookup(locale_shortMonths);\n\n  var formats = {\n    \"a\": formatShortWeekday,\n    \"A\": formatWeekday,\n    \"b\": formatShortMonth,\n    \"B\": formatMonth,\n    \"c\": null,\n    \"d\": formatDayOfMonth,\n    \"e\": formatDayOfMonth,\n    \"H\": formatHour24,\n    \"I\": formatHour12,\n    \"j\": formatDayOfYear,\n    \"L\": formatMilliseconds,\n    \"m\": formatMonthNumber,\n    \"M\": formatMinutes,\n    \"p\": formatPeriod,\n    \"S\": formatSeconds,\n    \"U\": formatWeekNumberSunday,\n    \"w\": formatWeekdayNumber,\n    \"W\": formatWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatYear,\n    \"Y\": formatFullYear,\n    \"Z\": formatZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var utcFormats = {\n    \"a\": formatUTCShortWeekday,\n    \"A\": formatUTCWeekday,\n    \"b\": formatUTCShortMonth,\n    \"B\": formatUTCMonth,\n    \"c\": null,\n    \"d\": formatUTCDayOfMonth,\n    \"e\": formatUTCDayOfMonth,\n    \"H\": formatUTCHour24,\n    \"I\": formatUTCHour12,\n    \"j\": formatUTCDayOfYear,\n    \"L\": formatUTCMilliseconds,\n    \"m\": formatUTCMonthNumber,\n    \"M\": formatUTCMinutes,\n    \"p\": formatUTCPeriod,\n    \"S\": formatUTCSeconds,\n    \"U\": formatUTCWeekNumberSunday,\n    \"w\": formatUTCWeekdayNumber,\n    \"W\": formatUTCWeekNumberMonday,\n    \"x\": null,\n    \"X\": null,\n    \"y\": formatUTCYear,\n    \"Y\": formatUTCFullYear,\n    \"Z\": formatUTCZone,\n    \"%\": formatLiteralPercent\n  };\n\n  var parses = {\n    \"a\": parseShortWeekday,\n    \"A\": parseWeekday,\n    \"b\": parseShortMonth,\n    \"B\": parseMonth,\n    \"c\": parseLocaleDateTime,\n    \"d\": parseDayOfMonth,\n    \"e\": parseDayOfMonth,\n    \"H\": parseHour24,\n    \"I\": parseHour24,\n    \"j\": parseDayOfYear,\n    \"L\": parseMilliseconds,\n    \"m\": parseMonthNumber,\n    \"M\": parseMinutes,\n    \"p\": parsePeriod,\n    \"S\": parseSeconds,\n    \"U\": parseWeekNumberSunday,\n    \"w\": parseWeekdayNumber,\n    \"W\": parseWeekNumberMonday,\n    \"x\": parseLocaleDate,\n    \"X\": parseLocaleTime,\n    \"y\": parseYear,\n    \"Y\": parseFullYear,\n    \"Z\": parseZone,\n    \"%\": parseLiteralPercent\n  };\n\n  // These recursive directive definitions must be deferred.\n  formats.x = newFormat(locale_date, formats);\n  formats.X = newFormat(locale_time, formats);\n  formats.c = newFormat(locale_dateTime, formats);\n  utcFormats.x = newFormat(locale_date, utcFormats);\n  utcFormats.X = newFormat(locale_time, utcFormats);\n  utcFormats.c = newFormat(locale_dateTime, utcFormats);\n\n  function newFormat(specifier, formats) {\n    return function(date) {\n      var string = [],\n          i = -1,\n          j = 0,\n          n = specifier.length,\n          c,\n          pad,\n          format;\n\n      if (!(date instanceof Date)) date = new Date(+date);\n\n      while (++i < n) {\n        if (specifier.charCodeAt(i) === 37) {\n          string.push(specifier.slice(j, i));\n          if ((pad = pads[c = specifier.charAt(++i)]) != null) c = specifier.charAt(++i);\n          else pad = c === \"e\" ? \" \" : \"0\";\n          if (format = formats[c]) c = format(date, pad);\n          string.push(c);\n          j = i + 1;\n        }\n      }\n\n      string.push(specifier.slice(j, i));\n      return string.join(\"\");\n    };\n  }\n\n  function newParse(specifier, newDate) {\n    return function(string) {\n      var d = newYear(1900),\n          i = parseSpecifier(d, specifier, string += \"\", 0);\n      if (i != string.length) return null;\n\n      // The am-pm flag is 0 for AM, and 1 for PM.\n      if (\"p\" in d) d.H = d.H % 12 + d.p * 12;\n\n      // Convert day-of-week and week-of-year to day-of-year.\n      if (\"W\" in d || \"U\" in d) {\n        if (!(\"w\" in d)) d.w = \"W\" in d ? 1 : 0;\n        var day = \"Z\" in d ? utcDate(newYear(d.y)).getUTCDay() : newDate(newYear(d.y)).getDay();\n        d.m = 0;\n        d.d = \"W\" in d ? (d.w + 6) % 7 + d.W * 7 - (day + 5) % 7 : d.w + d.U * 7 - (day + 6) % 7;\n      }\n\n      // If a time zone is specified, all fields are interpreted as UTC and then\n      // offset according to the specified time zone.\n      if (\"Z\" in d) {\n        d.H += d.Z / 100 | 0;\n        d.M += d.Z % 100;\n        return utcDate(d);\n      }\n\n      // Otherwise, all fields are in local time.\n      return newDate(d);\n    };\n  }\n\n  function parseSpecifier(d, specifier, string, j) {\n    var i = 0,\n        n = specifier.length,\n        m = string.length,\n        c,\n        parse;\n\n    while (i < n) {\n      if (j >= m) return -1;\n      c = specifier.charCodeAt(i++);\n      if (c === 37) {\n        c = specifier.charAt(i++);\n        parse = parses[c in pads ? specifier.charAt(i++) : c];\n        if (!parse || ((j = parse(d, string, j)) < 0)) return -1;\n      } else if (c != string.charCodeAt(j++)) {\n        return -1;\n      }\n    }\n\n    return j;\n  }\n\n  function parsePeriod(d, string, i) {\n    var n = periodRe.exec(string.slice(i));\n    return n ? (d.p = periodLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortWeekday(d, string, i) {\n    var n = shortWeekdayRe.exec(string.slice(i));\n    return n ? (d.w = shortWeekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseWeekday(d, string, i) {\n    var n = weekdayRe.exec(string.slice(i));\n    return n ? (d.w = weekdayLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseShortMonth(d, string, i) {\n    var n = shortMonthRe.exec(string.slice(i));\n    return n ? (d.m = shortMonthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseMonth(d, string, i) {\n    var n = monthRe.exec(string.slice(i));\n    return n ? (d.m = monthLookup[n[0].toLowerCase()], i + n[0].length) : -1;\n  }\n\n  function parseLocaleDateTime(d, string, i) {\n    return parseSpecifier(d, locale_dateTime, string, i);\n  }\n\n  function parseLocaleDate(d, string, i) {\n    return parseSpecifier(d, locale_date, string, i);\n  }\n\n  function parseLocaleTime(d, string, i) {\n    return parseSpecifier(d, locale_time, string, i);\n  }\n\n  function formatShortWeekday(d) {\n    return locale_shortWeekdays[d.getDay()];\n  }\n\n  function formatWeekday(d) {\n    return locale_weekdays[d.getDay()];\n  }\n\n  function formatShortMonth(d) {\n    return locale_shortMonths[d.getMonth()];\n  }\n\n  function formatMonth(d) {\n    return locale_months[d.getMonth()];\n  }\n\n  function formatPeriod(d) {\n    return locale_periods[+(d.getHours() >= 12)];\n  }\n\n  function formatUTCShortWeekday(d) {\n    return locale_shortWeekdays[d.getUTCDay()];\n  }\n\n  function formatUTCWeekday(d) {\n    return locale_weekdays[d.getUTCDay()];\n  }\n\n  function formatUTCShortMonth(d) {\n    return locale_shortMonths[d.getUTCMonth()];\n  }\n\n  function formatUTCMonth(d) {\n    return locale_months[d.getUTCMonth()];\n  }\n\n  function formatUTCPeriod(d) {\n    return locale_periods[+(d.getUTCHours() >= 12)];\n  }\n\n  return {\n    format: function(specifier) {\n      var f = newFormat(specifier += \"\", formats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    parse: function(specifier) {\n      var p = newParse(specifier += \"\", localDate);\n      p.toString = function() { return specifier; };\n      return p;\n    },\n    utcFormat: function(specifier) {\n      var f = newFormat(specifier += \"\", utcFormats);\n      f.toString = function() { return specifier; };\n      return f;\n    },\n    utcParse: function(specifier) {\n      var p = newParse(specifier, utcDate);\n      p.toString = function() { return specifier; };\n      return p;\n    }\n  };\n}\n\nvar pads = {\"-\": \"\", \"_\": \" \", \"0\": \"0\"},\n    numberRe = /^\\s*\\d+/, // note: ignores next directive\n    percentRe = /^%/,\n    requoteRe = /[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g;\n\nfunction pad(value, fill, width) {\n  var sign = value < 0 ? \"-\" : \"\",\n      string = (sign ? -value : value) + \"\",\n      length = string.length;\n  return sign + (length < width ? new Array(width - length + 1).join(fill) + string : string);\n}\n\nfunction requote(s) {\n  return s.replace(requoteRe, \"\\\\$&\");\n}\n\nfunction formatRe(names) {\n  return new RegExp(\"^(?:\" + names.map(requote).join(\"|\") + \")\", \"i\");\n}\n\nfunction formatLookup(names) {\n  var map = {}, i = -1, n = names.length;\n  while (++i < n) map[names[i].toLowerCase()] = i;\n  return map;\n}\n\nfunction parseWeekdayNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 1));\n  return n ? (d.w = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberSunday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.U = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseWeekNumberMonday(d, string, i) {\n  var n = numberRe.exec(string.slice(i));\n  return n ? (d.W = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseFullYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 4));\n  return n ? (d.y = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.y = +n[0] + (+n[0] > 68 ? 1900 : 2000), i + n[0].length) : -1;\n}\n\nfunction parseZone(d, string, i) {\n  var n = /^(Z)|([+-]\\d\\d)(?:\\:?(\\d\\d))?/.exec(string.slice(i, i + 6));\n  return n ? (d.Z = n[1] ? 0 : -(n[2] + (n[3] || \"00\")), i + n[0].length) : -1;\n}\n\nfunction parseMonthNumber(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.m = n[0] - 1, i + n[0].length) : -1;\n}\n\nfunction parseDayOfMonth(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseDayOfYear(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.m = 0, d.d = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseHour24(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.H = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMinutes(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.M = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseSeconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 2));\n  return n ? (d.S = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseMilliseconds(d, string, i) {\n  var n = numberRe.exec(string.slice(i, i + 3));\n  return n ? (d.L = +n[0], i + n[0].length) : -1;\n}\n\nfunction parseLiteralPercent(d, string, i) {\n  var n = percentRe.exec(string.slice(i, i + 1));\n  return n ? i + n[0].length : -1;\n}\n\nfunction formatDayOfMonth(d, p) {\n  return pad(d.getDate(), p, 2);\n}\n\nfunction formatHour24(d, p) {\n  return pad(d.getHours(), p, 2);\n}\n\nfunction formatHour12(d, p) {\n  return pad(d.getHours() % 12 || 12, p, 2);\n}\n\nfunction formatDayOfYear(d, p) {\n  return pad(1 + timeDay.count(timeYear(d), d), p, 3);\n}\n\nfunction formatMilliseconds(d, p) {\n  return pad(d.getMilliseconds(), p, 3);\n}\n\nfunction formatMonthNumber(d, p) {\n  return pad(d.getMonth() + 1, p, 2);\n}\n\nfunction formatMinutes(d, p) {\n  return pad(d.getMinutes(), p, 2);\n}\n\nfunction formatSeconds(d, p) {\n  return pad(d.getSeconds(), p, 2);\n}\n\nfunction formatWeekNumberSunday(d, p) {\n  return pad(timeSunday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatWeekdayNumber(d) {\n  return d.getDay();\n}\n\nfunction formatWeekNumberMonday(d, p) {\n  return pad(timeMonday.count(timeYear(d), d), p, 2);\n}\n\nfunction formatYear(d, p) {\n  return pad(d.getFullYear() % 100, p, 2);\n}\n\nfunction formatFullYear(d, p) {\n  return pad(d.getFullYear() % 10000, p, 4);\n}\n\nfunction formatZone(d) {\n  var z = d.getTimezoneOffset();\n  return (z > 0 ? \"-\" : (z *= -1, \"+\"))\n      + pad(z / 60 | 0, \"0\", 2)\n      + pad(z % 60, \"0\", 2);\n}\n\nfunction formatUTCDayOfMonth(d, p) {\n  return pad(d.getUTCDate(), p, 2);\n}\n\nfunction formatUTCHour24(d, p) {\n  return pad(d.getUTCHours(), p, 2);\n}\n\nfunction formatUTCHour12(d, p) {\n  return pad(d.getUTCHours() % 12 || 12, p, 2);\n}\n\nfunction formatUTCDayOfYear(d, p) {\n  return pad(1 + utcDay.count(utcYear(d), d), p, 3);\n}\n\nfunction formatUTCMilliseconds(d, p) {\n  return pad(d.getUTCMilliseconds(), p, 3);\n}\n\nfunction formatUTCMonthNumber(d, p) {\n  return pad(d.getUTCMonth() + 1, p, 2);\n}\n\nfunction formatUTCMinutes(d, p) {\n  return pad(d.getUTCMinutes(), p, 2);\n}\n\nfunction formatUTCSeconds(d, p) {\n  return pad(d.getUTCSeconds(), p, 2);\n}\n\nfunction formatUTCWeekNumberSunday(d, p) {\n  return pad(utcSunday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCWeekdayNumber(d) {\n  return d.getUTCDay();\n}\n\nfunction formatUTCWeekNumberMonday(d, p) {\n  return pad(utcMonday.count(utcYear(d), d), p, 2);\n}\n\nfunction formatUTCYear(d, p) {\n  return pad(d.getUTCFullYear() % 100, p, 2);\n}\n\nfunction formatUTCFullYear(d, p) {\n  return pad(d.getUTCFullYear() % 10000, p, 4);\n}\n\nfunction formatUTCZone() {\n  return \"+0000\";\n}\n\nfunction formatLiteralPercent() {\n  return \"%\";\n}\n","import formatLocale from \"./locale\";\n\nvar locale;\nexport var timeFormat;\nexport var timeParse;\nexport var utcFormat;\nexport var utcParse;\n\ndefaultLocale({\n  dateTime: \"%x, %X\",\n  date: \"%-m/%-d/%Y\",\n  time: \"%-I:%M:%S %p\",\n  periods: [\"AM\", \"PM\"],\n  days: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"],\n  shortDays: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n  months: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"],\n  shortMonths: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\n});\n\nexport default function defaultLocale(definition) {\n  locale = formatLocale(definition);\n  timeFormat = locale.format;\n  timeParse = locale.parse;\n  utcFormat = locale.utcFormat;\n  utcParse = locale.utcParse;\n  return locale;\n}\n","import {utcFormat} from \"./defaultLocale\";\n\nexport var isoSpecifier = \"%Y-%m-%dT%H:%M:%S.%LZ\";\n\nfunction formatIsoNative(date) {\n  return date.toISOString();\n}\n\nvar formatIso = Date.prototype.toISOString\n    ? formatIsoNative\n    : utcFormat(isoSpecifier);\n\nexport default formatIso;\n","import {isoSpecifier} from \"./isoFormat\";\nimport {utcParse} from \"./defaultLocale\";\n\nfunction parseIsoNative(string) {\n  var date = new Date(string);\n  return isNaN(date) ? null : date;\n}\n\nvar parseIso = +new Date(\"2000-01-01T00:00:00.000Z\")\n    ? parseIsoNative\n    : utcParse(isoSpecifier);\n\nexport default parseIso;\n","export default function(s) {\n  return s.match(/.{6}/g).map(function(x) {\n    return \"#\" + x;\n  });\n}\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf\");\n","import colors from \"./colors\";\n\nexport default colors(\"393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6\");\n","import colors from \"./colors\";\n\nexport default colors(\"3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9\");\n","import colors from \"./colors\";\n\nexport default colors(\"1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5\");\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport default interpolateCubehelixLong(cubehelix(300, 0.5, 0.0), cubehelix(-240, 0.5, 1.0));\n","import {cubehelix} from \"d3-color\";\nimport {interpolateCubehelixLong} from \"d3-interpolate\";\n\nexport var warm = interpolateCubehelixLong(cubehelix(-100, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nexport var cool = interpolateCubehelixLong(cubehelix(260, 0.75, 0.35), cubehelix(80, 1.50, 0.8));\n\nvar rainbow = cubehelix();\n\nexport default function(t) {\n  if (t < 0 || t > 1) t -= Math.floor(t);\n  var ts = Math.abs(t - 0.5);\n  rainbow.h = 360 * t - 100;\n  rainbow.s = 1.5 - 1.5 * ts;\n  rainbow.l = 0.8 - 0.9 * ts;\n  return rainbow + \"\";\n}\n","import colors from \"./colors\";\n\nfunction ramp(range) {\n  var n = range.length;\n  return function(t) {\n    return range[Math.max(0, Math.min(n - 1, Math.floor(t * n)))];\n  };\n}\n\nexport default ramp(colors(\"44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725\"));\n\nexport var magma = ramp(colors(\"00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf\"));\n\nexport var inferno = ramp(colors(\"00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4\"));\n\nexport var plasma = ramp(colors(\"0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921\"));\n","'use strict'\n\n/** Calculator for finding widest and/or shortest paths in a graph using the Floyed-Warshall algorithm. */\nclass FloydWarshall {\n\n  /**\n   * Create a Floyd-Warshall calculator for a specific adjacency matrix.\n   * @param {number[][]} adjacencyMatrix - A square matrix representing a graph with weighted edges.\n   */\n  constructor (adjacencyMatrix) {\n    this.adjacencyMatrix = adjacencyMatrix\n  }\n\n  /**\n   * Calculates the widest distance from one node to the other.\n   * @return {number[][]} - Matrix with distances from a node to the other\n   */\n  get widestPaths () {\n    let distMatrix = this._initializeDistanceMatrix(0)\n    for (let k = 0; k < this.order; ++k) {\n      for (let i = 0; i < this.order; ++i) {\n        if (i === k) { continue }\n        for (let j = 0; j < this.order; ++j) {\n          if (j === i || j === k) { continue }\n          const direct = distMatrix[i][j]\n          const detour = Math.min(distMatrix[i][k], distMatrix[k][j])\n          if (detour > direct) {\n            distMatrix[i][j] = detour\n          }\n        }\n      }\n    }\n    return distMatrix\n  }\n\n  /**\n   * Calculates the shortest paths of the weighted graph.\n   * (The output will not be accurate if the graph has a negative cycle.)\n   * @return {number[][]} - Matrix with distances from a node to the other\n   */\n  get shortestPaths () {\n    let distMatrix = this._initializeDistanceMatrix(Infinity)\n\n    for (let k = 0; k < this.order; ++k) {\n      for (let i = 0; i < this.order; ++i) {\n        for (let j = 0; j < this.order; ++j) {\n          let dist = distMatrix[i][k] + distMatrix[k][j]\n          if (distMatrix[i][j] > dist) {\n            distMatrix[i][j] = dist\n          }\n        }\n      }\n    }\n\n    for (let i = 0; i < this.order; ++i) {\n      for (let j = 0; j < this.order; ++j) {\n        if (distMatrix[i][j] === Infinity) {\n          distMatrix[i][j] = -1\n        }\n      }\n    }\n\n    return distMatrix\n  }\n\n  /**\n   * Get the order of the adjacency matrix (and of the output distance matrices.)\n   * @return {integer} The order of the adjacency matrix.\n   */\n  get order () {\n    return this.adjacencyMatrix.length\n  }\n\n  /**\n   * @private\n   */\n  _initializeDistanceMatrix (blankFiller) {\n    let distMatrix = []\n    for (let i = 0; i < this.order; ++i) {\n      distMatrix[i] = []\n      for (let j = 0; j < this.order; ++j) {\n        if (i === j) {\n          distMatrix[i][j] = 0\n        } else {\n          let val = this.adjacencyMatrix[i][j]\n          if (val) {\n            distMatrix[i][j] = val\n          } else {\n            distMatrix[i][j] = blankFiller\n          }\n        }\n      }\n    }\n    return distMatrix\n  }\n\n}\n\nmodule.exports = FloydWarshall\n","import {edgeModifier, refreshEdges, getNodes} from './edges-all-pairs'\nimport {define, h} from 'skatejs'\nimport {interpolateRainbow} from 'd3-scale'\nimport {selectAll} from 'd3-selection'\nimport FloydWarshall from 'floyd-warshall'\n// import core from 'mathjs/core'\n// import matrices from 'mathjs/lib/type/matrix'\n\n// var math = core.create();\n// math.import(matrices)\nfunction repeatAry(ary, times)\n{\n    var result = Array();\n    for(var i=0;i<times;i++)\n      result = result.concat(ary);\n    return result;\n}\n\nconst rainbow = (max) => (n) => interpolateRainbow(n/max)\nconst parseHops = (val) => JSON.parse(\"[\" + val + \"]\")\nconst hops = (elem,modifier) => (edges) => {\n  var nodes = elem[getNodes]()\n  if (nodes.length < 2) { return []; }\n  var colors = rainbow(nodes.length)\n  var adj = [];\n  for(var i=0; i<nodes.length; i++) {\n      adj[i] = new Array(nodes.length);\n  }\n\n  edges.forEach((edge)=>{\n    adj[nodes.indexOf(edge.source)][nodes.indexOf(edge.target)] = 1;\n  })\n  var hopMatrix = new FloydWarshall(adj).shortestPaths;\n  var hops = []\n  hopMatrix.forEach((row,i)=>{\n    row.forEach((hop,j)=>{\n      if(hop != 1 && modifier.hops.includes(hop)){\n        var thickness = elem.thickness*(1-hop/(nodes.length+1));\n        hops.push({source: nodes[i], target: nodes[j],\n          // segments: [5,10],\n          segments: repeatAry([thickness,thickness],hop-1).concat([thickness,thickness*thickness+5*thickness]),\n          direction: 1, color: colors(hop),\n          thickness: thickness})\n      }\n    })\n  })\n  if(modifier.hops.includes(1)) {\n    hops = hops.concat(edges)\n  }\n return hops;\n}\n\nconst updateHops = (elem) => {\n  var originalEdgeSets = selectAll(elem.children)\n       .filter((d,i,nodes)=>{return nodes[i][edgeModifier];}).nodes()\n  // console.log(originalEdgeSets)\n  originalEdgeSets.forEach((edgeElem)=>{\n    edgeElem[edgeModifier] = hops(edgeElem,elem)\n    edgeElem[refreshEdges]();\n  })\n}\n\ndefine('edges-modifier-hops', {\n  props: {\n    hops: { attribute: true, default: \"2\",\n    coerce(val){ var newVal = parseHops(val); return newVal},\n    // set(elem,data){ updateHops(elem) }\n    }\n  },\n  created(elem){\n    elem[edgeModifier] = (edges) => edges\n    elem[edgeData] = true\n    updateHops(elem);\n  },\n  updated(elem){\n    console.log(\"updating graph hops modifier\",elem.hops)\n    console.log(\"or...\",elem.getAttribute(\"hops\"))\n    updateHops(elem);\n    // return true\n  }\n})\n","import { define, h } from 'skatejs';\nimport {startDragging, stopDragging, draggableHostStyle} from './draggable.js';\n\nvar puppyStyle = `\n  div {\n    display: inline-block;\n    background-image: url(http://i.imgur.com/B2YwP9u.gif);\n    background-position: center;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 100px;\n    height: 150px;\n    border: solid deeppink 5px;\n  }\n  puppy-dog {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n  }\n  :host {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n  }\n`\ndefine(\"puppy-dog\",{\n    attached(elem){\n      startDragging(elem);\n    },\n    detached(elem){\n      // stopDragging(elem);\n    },\n    render(elem){\n      return [h(\"div\",\"\"),h(\"style\",puppyStyle)]\n    },\n    rendered(elem){\n    }\n})\n","import { define, h } from 'skatejs';\nimport {startDragging, stopDragging, draggableHostStyle} from './draggable.js';\n\nvar puppyStyle = `\n  div {\n    display: inline-block;\n    background-image: url('basketball.png');\n    background-position: center;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 100%;\n    height: 100%;\n  }\n  puppy-dog {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 340px;\n    height: 340px;\n  }\n  :host {\n    display: inline-block;\n    // position: relative;\n    background-size: 100%;\n    margin: 0;\n    padding: 0;\n    width: 340px;\n    height: 340px;\n  }\n`\ndefine(\"basket-ball\",{\n    props: {\n      round: { attribute: false, default: true },\n    },\n    attached(elem){\n      startDragging(elem);\n    },\n    detached(elem){\n      // stopDragging(elem);\n    },\n    render(elem){\n      return [h(\"div\",\"\"),h(\"style\",puppyStyle)]\n    },\n    rendered(elem){\n    }\n})\n"],"names":["window","HTMLElement","MutationObserver","navigator","userAgent","safari","indexOf","safariVersion","match","safariVersions","map","v","concat","patch","fixSafari","oldAttachShadow","prototype","attachShadow","moOpts","childList","subtree","mo","muts","forEach","mut","target","tagName","nextSibling","parentNode","removeChild","insertBefore","newAttachShadow","opts","sr","call","observe","Object","defineProperty","configurable","enumerable","value","writable","customElements","eval","c","a","Map","j","h","o","Set","C","D","bind","f","F","enableFlush","s","m","g","k","test","r","Error","l","b","e","d","get","toLowerCase","u","n","getAttribute","__$CE_upgraded","localName","A","i","document","forcePolyfill","split","L","TypeError","has","set","name","constructor","w","observedAttributes","K","resolve","delete","M","Promise","reject","N","takeRecords","childNodes","HTMLImports","whenReady","I","__$CE_observer","add","J","disconnect","length","type","removedNodes","addedNodes","H","nodeType","Node","ELEMENT_NODE","createTreeWalker","NodeFilter","SHOW_ELEMENT","G","currentNode","nextNode","__$CE_attached","DOCUMENT_NODE","DOCUMENT_FRAGMENT_NODE","host","shadowRoot","rel","B","import","href","removeEventListener","addEventListener","__proto__","console","assert","attributes","attributeOldValue","attributeFilter","hasAttribute","attributeName","oldValue","attributeNamespace","CustomElementRegistry","define","whenDefined","flush","polyfilled","_observeRoot","_addImport","p","nativeHTMLElement","create","createElement","t","createElementNS","q","Element","importNode","setAttribute","removeAttribute","CustomElements","settings","ShadyDOM","hasNativeShadowDOM","Boolean","getRootNode","inUse","force","isShadyRoot","obj","__localName","matches","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","element","selector","copyOwnProperty","source","pd","getOwnPropertyDescriptor","extend","n$","getOwnPropertyNames","extendAll","sources","len","arguments","mixin","setPrototypeOf","proto","patchPrototype","getPrototypeOf","hasOwnProperty","patchProto","__sourceProto","__patchProto","common","promish","then","cb","twiddle","createTextNode","observer","characterData","newSplice","index","removed","addedCount","EDIT_LEAVE","EDIT_UPDATE","EDIT_ADD","EDIT_DELETE","ArraySplice","calcEditDistances","current","currentStart","currentEnd","old","oldStart","oldEnd","this$1","rowCount","columnCount","distances","Array","i$1","j$1","equals","north","west","spliceOperationsFromEditDistances","edits","push","northWest","min","reverse","calcSplices","prefixCount","suffixCount","splice","minLength","Math","sharedPrefix","sharedSuffix","ops","undefined","splices","oldIndex","searchLength","index1","index2","count","calculateSplices","calculateSplices$1","previous","currentValue","previousValue","nativeInsertBefore","nativeAppendChild","appendChild","nativeRemoveChild","tree","arrayCopyChildNodes","parent","copy","firstChild","arrayCopyChildren","firstElementChild","nextElementSibling","arrayCopy","a$","saveChildNodes","node","Logical","Composed","hasParentNode","saveComposedData","__dom","hasChildNodes","getChildNodes","_getChildNodes","getFirstChild","getNextSibling","getParentNode","getLastChild","lastChild","getPreviousSibling","previousSibling","getFirstElementChild","_getFirstElementChild","getLastElementChild","_getLastElementChild","getNextElementSibling","_getNextElementSibling","getPreviousElementSibling","_getPreviousElementSibling","saveChildNodes$1","c$","patchNode","recordInsertBefore","container","ref_node","_linkNode","recordRemoveChild","hasParentNode$1","$parentNode","hasChildNodes$1","$childNodes","getChildNodes$1","__patched","_getChildNodes$1","$firstChild","$nextSibling","getComposedChildNodes","getParentNode$1","getFirstChild$1","getLastChild$1","$lastChild","getNextSibling$1","getPreviousSibling$1","$previousSibling","getFirstElementChild$1","_getFirstElementChild$1","getLastElementChild$1","lastElementChild","_getLastElementChild$1","getNextElementSibling$1","_getNextElementSibling$1","getPreviousElementSibling$1","previousElementSibling","_getPreviousElementSibling$1","saveChildNodes$2","recordInsertBefore$1","_linkNode$1","recordRemoveChild$1","clearChildNodes","saveParentNode","newChild","refChild","_addChild","currentParent","_removeChild","isFrag","oldParent","descriptors","getNativeProperty","property","NormalizedEvent","Event","inType","params","createEvent","initEvent","bubbles","cancelable","Distributor","anonymous","root","insertionPointTag","getInsertionPoints","querySelectorAll","hasInsertionPoint","_insertionPoints","isInsertionPoint","distribute","distributePool","collectPool","pool","dirtyRoots","p$","distributeInsertionPoint","shadyRoot","p$1","_assignedSlot","parent$1","insertionPoint","prevAssignedNodes","_assignedNodes","clearAssignedSlots","needsSlotChange","anyDistributed","matchesInsertionPoint","__prevAssignedSlot","distributeNodeInto","children","node$1","setDistributedNodesOnInsertionPoint","_fireSlotChange","slot","savePrevious","slotName","trim","child","_distributedNodes","d$","dispatchEvent","isFinalDestination","ShadyRoot","frag","createDocumentFragment","ShadyFragmentMixin","_init","ShadyMixin","_clean","_hasRendered","_distributor","update","distributionRoot","_findDistributionRoot","enqueue","render","_elementNeedsDistribution","_skipUpdateInsertionPoints","updateInsertionPoints","compose","forceRender","i$","__insertionPoints","c$1","insertionPoints","_composeTree","_updateChildNodes","_composeNode","distributedNodes","distributedNode","composed","s$1","next","n$1","getInsertionPointTag","DocumentFragment","flushList","scheduled","flushCount","flushMax","callback","flush$1","shift","isFlushedMaxed","list","escapeAttrRegExp","escapeDataRegExp","escapeReplace","escapeAttr","replace","escapeData","makeSet","arr","voidElements","plaintextParents","getOuterHTML","attrs","attr","getInnerHTML","TEXT_NODE","data","COMMENT_NODE","error","content","mixinImpl","addNode","ownerRoot","ownerShadyRootForNode","__noInsertionPoint","ipAdded","_maybeAddInsertionPoint","handled","_maybeDistribute","removeNode","logicalParent","distributed","maybeDistributeParent","_removeDistributedChildren","_removeOwnerShadyRoot","_scheduleObserver","addedNode","removedNode","schedule","removeNodeFromParent","_hasCachedOwnerRoot","__ownerShadyRoot","getRootNode$1","documentElement","contains","fragContent","querySelector","wrappedContent","hasContent","needsDist","_nodeNeedsDistribution","added","np","na","hostNeedsDist","ip$","_contains","dc$","assignedNodes","flatten","firstComposedNode","clearNode","maybeDistributeAttributeChange","query","matcher","halter","_queryElements","elements","_queryElement","result","activeElementForNode","active","activeElement","isShadyRoot$$1","activeRoot","nativeCloneNode","cloneNode","nativeImportNode","Document","nativeSetAttribute$1","nativeRemoveAttribute","ShadyCSS","ownerDocument","setElementClass","NodeMixin","defineProperties","parentElement","get$1","get$2","get$3","get$4","get$5","assignedSlot","get$6","FragmentMixin","replaceChild","deep","nc","externalNode","doc","get$7","isArray","get$8","filter","get$9","get$10","get$11","get$12","textContent","get$13","tc","cn","join","text","innerHTML","get$14","set$1","ElementMixin","options","setAttribute$1","get$15","get$16","set$2","activeElementDescriptor","get$17","ActiveElementMixin","UnderActiveElementMixin","_activeElement","Mixins","Fragment","filterMutations","mutations","targetRootNode","mutation","mutationInScope","nodes","from","AsyncObserver","_scheduled","callbacks","getComposedInnerHTML","isNodePatched","getComposedChildNodes$1","observeChildren","_callback","_observer","_node","unobserveChildren","handle","size","patchedCount","log","patchImpl","canPatchNode","head","hasPrototypeDescriptors","warn","mixinForObject","unpatch","canUnpatchNode","unpatchNode","origAddEventListener","origRemoveEventListener","alwaysComposed","blur","focus","focusin","focusout","click","dblclick","mousedown","mouseenter","mouseleave","mousemove","mouseout","mouseover","mouseup","wheel","beforeinput","input","keydown","keyup","compositionstart","compositionupdate","compositionend","touchstart","touchend","touchmove","touchcancel","pointerover","pointerenter","pointerdown","pointermove","pointerup","pointercancel","pointerout","pointerleave","gotpointercapture","lostpointercapture","dragstart","drag","dragenter","dragleave","dragover","drop","dragend","DOMActivate","DOMFocusIn","DOMFocusOut","keypress","pathComposer","startNode","composedPath","startRoot","retarget","refNode","path","refNodePath","ancestor","lastRoot","rootIdx","EventMixin","isTrusted","__composed","__composedPath","__target","currentTarget","relatedTarget","__relatedTarget","__relatedTargetComposedPath","stopPropagation","__propagationStopped","stopImmediatePropagation","__immediatePropagationStopped","mixinComposedFlag","Base","klazz","event","nonBubblingEventsToRetarget","fireHandlers","phase","hs","__handlers","fn","retargetNonBubblingEvent","AT_TARGET","lastFiredRoot","optionsOrCapture","capture","once","passive","__eventWrappers","wrapperFn","eventPhase","BUBBLING_PHASE","bubble","idx","activateFocusEventOverrides","ev","PatchedEvent","PatchedCustomEvent","CustomEvent","PatchedMouseEvent","MouseEvent","isPatched","canUnpatch","createRootAndEnsurePatched","nativeSetAttribute","__nativeSetAttribute","classNameDescriptor","parse","clean","parseCss","lex","cssText","RX","comments","port","start","end","OPEN_BRACE","rules","CLOSE_BRACE","substring","parsedCssText","ss","_expandUnicodeEscapes","multipleSpaces","lastIndexOf","parsedSelector","atRule","AT_START","MEDIA_START","types","MEDIA_RULE","keyframesRule","KEYFRAMES_RULE","keyframesName","pop","VAR_START","MIXIN_RULE","STYLE_RULE","r$","code","repeat","stringify","preserveProperties","_hasMixinRules","removeCustomProps","removeCustomPropAssignment","removeCustomPropApply","customProp","mixinProp","mixinApply","varApply","nativeShadow","nativeCssVariables","CSS","supports","detectNativeApply","style","nativeCssApply","sheet","cssRules","parseSettings","shimcssproperties","shimshadow","WebComponents","flags","toCssText","forEachRule","rulesForStyle","__cssRules","isKeyframesSelector","rule","styleRuleCallback","keyframesRuleCallback","onlyActiveRules","skipRules","matchMedia","rx","MEDIA_MATCH","applyCss","moniker","contextNode","createScopeStyle","applyStyle$1","after","lastHeadApplyNode","applyStylePlaceHolder","placeHolder","createComment","scope","findMatchingParen","level","processVariableAndFallback","str","inner","prefix","suffix","comma","fallback","setElementClassRaw","VAR_ASSIGN","MIXIN_MATCH","VAR_CONSUMED","ANIMATION_MATCH","IS_VAR","BRACKETED","HOST_PREFIX","HOST_SUFFIX","SCOPE_NAME","StyleTransformer","dom","shouldRemoveScope","__styleScoped","_transformDom","_content","_element","classList","remove","CLASS","newValue","_newValue","elementStyles","styleRules","cssBuildType","__cssBuild","css","is","extends","ext","hostScope","_calcHostScope","_calcElementScope","self","isScoped","CSS_CLASS_PREFIX","_rule","_transformRule","_transformComplexSelector","transformer","transformedSelector","_transformRuleCss","COMPLEX_SELECTOR_SEP","_this","stop","NTH","SLOTTED_START","HOST","SIMPLE_SELECTOR_SEP","info","_transformCompoundSelector","combinator","slottedIndex","SLOTTED","_transformHostSelector","_transformSimpleSelector","slotted","SLOTTED_PAREN","paren","DIR_PAREN","before","dir","PSEUDO_PREFIX","HOST_PAREN","SIMPLE_SELECTOR_PREFIX","typeSelector","SELECTOR_NO_MATCH","documentRule","normalizeRootSelector","_transformDocumentSelector","ROOT","SCOPE_DOC_SELECTOR","RegExp","asyncGenerator","AwaitValue","AsyncGenerator","gen","front","back","send","key","arg","request","resume","settle","done","err","_invoke","return","Symbol","asyncIterator","throw","wrap","apply","await","classCallCheck","instance","Constructor","createClass","props","descriptor","protoProps","staticProps","object","receiver","Function","desc","getter","setter","StyleInfo","__styleInfo","styleInfo","ast","placeholder","ownStylePropertyNames","elementName","typeExtension","cssBuild","overrideStyleProperties","styleProperties","scopeSelector","customStyle","IS_IE","StyleProperties","decorateStyles","keyframes","ruleIndex","decorateRule","collectPropertiesInCssText","propertyInfo","onKeyframesRule","_keyframes","names","properties","hasProperties","collectProperties","collectCssText","assign","rx$$1","any","exec","collectConsumingCssText","reify","valueForProperty","valueForProperties","propertyValue","parts","_p","lastIndex","colon","pp","slice","applyProperties","output","applyKeyframeTransforms","keyframeTransforms","hasAnimations","transform","keyframeNamesToTransform","keyframe","propertyDataFromStyles","selectorToMatch","addToBitMask","whenHostOrRootRule","isRoot","isHost","hostAndRootPropertiesForScope","hostProps","rootProps","transformStyles","hostSelector","rxHostSelector","hostRx","_elementKeyframeTransforms","_scopeSelector","keyframesRules","_scopeKeyframes","_keyframesRuleTransformer","keyframesNameRx","transformedKeyframesName","scopeId","_p2","applyElementScopeSelector","XSCOPE_NAME","applyElementStyle","_useCount","applyCustomStyle","bits","parseInt","templateMap","placeholderMap","ce","origDefine","clazz","StyleCache","typeMax","cache","_validate","cacheEntry","ownPropertyNames","pn","store","tagname","styleElement","fetch","entry","APPLY_NAME_CLEAN","INITIAL_INHERIT","MIXIN_VAR_SEP","MixinMap","_map","dependants","ApplyShim","_currentTemplate","_measureElement","_separator","_boundProduceCssProperties","matchText","propertyName","valueProperty","valueMixin","_produceCssProperties","transformStyle","transformRules","_this2","transformRule","__applyShimInvalid","transformCssText","_consumeCssProperties","_getInitialValueForProperty","all","getComputedStyle","getPropertyValue","mixinName","applyPos","afterApplyPos","textBeforeApply","textAfterApply","defaults$$1","_cssTextToMap","replacement","_atApplyToCssProperties","fallbacks","vars","mixinEntry","_replaceInitialOrInherit","out","sp","_invalidateMixinEntry","_this3","mixinAsProperties","mixinValues","combinedProps","oldProps","needToInvalidate","applyShim","elementNeedsScoping","SVGElement","handler","mxns","x","mxn","_i","_n","classes","classIdx","_scope","nativeCustomElements","delayedStart","body","requestAnimationFrame","readyState","listener","styleCache","scopeCounter","nativeCss","_documentOwner","_documentOwnerStyleInfo","_generateScopeSelector","id","getStyleAst","styleAstToString","_gatherStyles","template","styles","_getCssBuild","prepareTemplate","_prepared","_styleAst","_generateStaticStyle","_style","_ownPropertyNames","shadowroot","_prepareHost","_cssBuild","applyStyle","overrideProps","CustomStyle","CS","_documentDirty","findStyles","_updateProperties","_revalidateApplyShim","applyStyles","hasApplied","_updateNativeProperties","_applyStyleProperties","_isRootOwner","_applyToDescendants","_styleOwnerForNode","cachedScopeSelector","cachedStyle","oldScopeSelector","owner","ownerStyleInfo","ownerProperties","hostAndRootProps","propertyData","propertiesMatchingHost","_mixinOverrideStyles","overrides","removeProperty","setProperty","updateStyles","_transformCustomStyleForDocument","_applyCustomStyleToDocument","getComputedStyleValue","classString","scopeName","classAttr","k$","_styleInfoForNode","ShadyCSS$1","enqueued","customStyles","hookFn","enqueueDocumentValidation","validateDocument","Reflect","construct","processHook","_customStyles","_findStyle","_applyStyle","__appliedElement","isFunction","val","isObject","isString","isSymbol","isUndefined","getPropNamesAndSymbols","listOfKeys","getOwnPropertySymbols","args","nameOrSymbol","toNullOrString","empty","String","connected","created","ctorCreateInitProps","ctorObservedAttributes","ctorProps","ctorPropsMap","ref","renderer","rendering","rendererDebounced","updated","createMap","NodeData","nodeName","attrsArr","newAttrs","keyMap","keyMapValid","initData","getData","symbols","default","getNamespace","applyAttr","el","attrNS","setAttributeNS","applyProp","elStyle","prop","applyAttributeTyped","updateAttribute","mutator","getNamespaceForTag","tag","namespaceURI","statics","namespace","createText","createKeyMap","getKeyMap","getChild","registerChild","notifications","nodesCreated","nodesDeleted","Context","deleted","markCreated","markDeleted","notifyChanges","assertKeyedTagMatches","context","patchFactory","run","prevContext","prevRoot","prevDoc","prevCurrentNode","prevCurrentParent","previousInAttributes","previousInSkip","patchInner","enterNode","exitNode","patchOuter","alignWithDOM","clearUnvisitedDOM","coreElementOpen","coreElementClose","coreText","currentElement","skip","ATTRIBUTES_OFFSET","argsBuilder","elementOpen","const_args","attrsChanged","_attr","elementOpenStart","elementOpenEnd","elementClose","elementVoid","elementPlaceholder","formatted","exports","enter","saved","keys","exit","func","module","babelHelpers.typeof","commonjsHelpers","global","this","applyDefault","stackChren","$skip","$currentEventHandlers","$stackCurrentHelperProps","stackCurrentHelper","overrideArgs","skips","noop","applyEvent","elem","ename","newFunc","events","attributesContext","propContext","checked","className","disabled","$ref","firstChar","eventName","toUpperCase","resolveTagName","$name","idomElementOpen","newElementOpen","wrapIdomFunc","tnameFuncHandler","idomSkip","newAttr","stackOpen","tname","stackClose","chren","elemOrFn","newElementOpenStart","newElementOpenEnd","newElementClose","newText","atype","unshift","ch","ctype","sch","builder","tags","createSymbol","description","__SKATE_DATA","nativeHints","hint","toString","reduce","microtaskDebounce","cbFunc","cbArgs","taskDebounce","setTimeout","native","deprecated","oldUsage","newUsage","DEBUG","ownerName","AttributesManager","pendingValues","lastSetValues","_syncAttrValue","_clearPendingValue","changed","currAttrValue","$attributesMgr","getAttrMgr","mgr","prev","one","two","dash","message","PropDefinition","propOptions","_nameOrSymbol","attrSource","attrTarget","attrTargetIsNotSource","coerce","deserialize","serialize","optVal","option","resolveAttrName","attrOption","dashCase","setCtorNativeProperty","Ctor","propName","getPropsMap","$ctorPropsMap","propsMap","newProps","$renderer","getDefaultValue","propDef","getInitialValue","initial","getPropData","elemData","createNativePropertyDescriptor","beforeDefineProperty","propData","initialValue","valueFromAttrSource","internalValue","mustReflect","serializedValue","setAttrValue","useDefaultValue","changeData","$rendererDebounced","settingPropFromAttrSource","y","_prevName","_prevOldValue","_prevNewValue","preventDoubleCalling","createNativePropertyDescriptors","propDefs","propDescriptors","createInitProps","propDescriptor","hasPropBeforeUpgrading","valueBeforeUpgrading","attrsOnCtor","$ctorObservedAttributes","attrsFromLinkedProps","item","$ctorProps","$created","$ctorCreateInitProps","debounce","propDefsCount","renderCallback","readyCallbacks","resumeAttributesUpdates","$connected","attached","suspendAttributesUpdates","detached","propNameOrSymbol","changedExternally","onAttributeChanged","newPropVal","attributeChanged","prevProps","rendered","$rendering","$updated","rendererCallback","renderedCallback","$props","getSetProps","updatedCallback","definition","getOwnPropertyDescriptors","prot","mode","possibleFn","previousProps","namesAndSymbols","objectIs","uniqueId","rand","random","Component","TheEvent","vdom","factory","amd","Kefir","createObj","inherit","Child","Parent","NOTHING","END","VALUE","ERROR","ANY","find","findByPred","pred","cloneArray","fillArray","slide","cur","max","offset","callSubscriber","Dispatcher","_items","_spies","_inLoop","_removedItems","addSpy","removeSpy","dispatch","spies","items","cleanup","Observable","_dispatcher","_active","_alive","_activating","_logHandlers","_spyHandlers","_name","_onActivation","_onDeactivation","_setActive","_clear","_emit","_emitValue","_emitError","_emitEnd","_on","_off","onValue","onError","onEnd","onAny","offValue","offError","offEnd","offAny","observerOrOnValue","closed","unsubscribe","_ofSameType","getType","setName","sourceObs","selfName","isCurrent","offLog","handlerIndex","spy","offSpy","Stream","Property","_currentEvent","neverS","never","timeBased","AnonymousStream","wait","_wait","_intervalId","_$onTick","_onTick","_free","setInterval","clearInterval","S","_ref","_x","later","S$1","interval","S$2","xs","_xs","sequentially","S$3","_fn","fromPoll","emitter","obs","emit","emitEvent","S$4","_emitter","withInterval","S$5","_unsubscribe","_callUnsubscribe","stream","fromCallback","callbackConsumer","called","fromNodeCallback","spread","aLength","fromSubUnsub","sub","unsub","pairs","fromEvents","P","constant","P$1","constantError","createConstructor","BaseClass","AnonymousObservable","_source","_$handleAny","_handleAny","createClassMethods","_handleValue","_handleError","_handleEnd","createStream","createProperty","P$2","_getInitialCurrent","getInitial","toProperty","S$6","changes","fromPromise","promise","_promise","getGlodalPromise","toPromise","last","commonjsGlobal","createCommonjsModule","ponyfill","symbolObservablePonyfill","_Symbol","observable","require$$0$1","index$1","_ponyfill","_ponyfill2","_interopRequireDefault","__esModule","require$$0","$$observable","fromESObservable","_observable","subscribe","complete","ESObservable","takeErrors","observerOrOnNext","onComplete","subscription","toESObservable","collect","values","defaultErrorsCombinator","errors","latestError","Combine","_activeCount","_sources","_combinator","_aliveCount","_latestValues","_latestErrors","_emitAfterActivation","_endAfterActivation","_latestErrorIndex","_$handlers","_loop","_emitIfFull","hasAllValues","hasErrors","valuesCopy","errorsCopy","combineAsArray","combineAsObject","activeObservables","passiveObservables","objectify","combine","Observable$1","merge","of","bimap","fnErr","fnVal","mapErrors","ap","obsFn","obsVal","chain","flatMap","staticLand","freeze","S$7","P$3","map$1","mixin$1","S$8","P$4","id$1","mixin$2","S$9","P$5","take","mixin$3","S$10","P$6","mixin$4","S$11","P$7","id$2","takeWhile","mixin$5","_lastValue","S$12","P$8","mixin$6","S$13","P$9","mixin$7","S$14","P$10","id$3","skipWhile","mixin$8","_prev","S$15","P$11","eq","skipDuplicates","mixin$9","seed","S$16","P$12","defaultFn","diff","P$13","_seed","scan","mixin$10","S$17","id$4","END_MARKER","mixin$11","_buff","_$shiftBuff","S$18","P$14","delay","now","Date","getTime","mixin$12","leading","trailing","_leading","_trailing","_trailingValue","_timeoutId","_endLater","_lastCallTime","_$trailingCall","_trailingCall","curTime","remaining","_cancelTrailing","clearTimeout","S$19","P$15","throttle","_ref2","_ref2$leading","_ref2$trailing","mixin$13","immediate","_immediate","_lastAttempt","_laterValue","_$later","_later","S$20","P$16","_ref2$immediate","mixin$14","S$21","P$17","id$5","mixin$15","S$22","P$18","id$6","filterErrors","mixin$16","S$23","P$19","ignoreValues","mixin$17","S$24","P$20","ignoreErrors","mixin$18","S$25","P$21","ignoreEnd","mixin$19","S$26","P$22","beforeEnd","mixin$20","_max","_min","S$27","P$23","slidingWindow","mixin$21","flushOnEnd","_flushOnEnd","_flush","S$28","P$24","id$7","bufferWhile","_ref2$flushOnEnd","mixin$22","_count","S$29","P$25","bufferWhile$1","mixin$23","S$30","P$26","bufferWithTimeOrCount","xformForObs","res","mixin$24","transducer","_xform","S$31","P$27","transduce","mixin$25","_handler","S$32","P$28","withHandler","Zip","_buffers","_isFull","zip","observables","id$8","AbstractPool","_ref$queueLim","queueLim","_ref$concurLim","concurLim","_ref$drop","_queueLim","_concurLim","_drop","_queue","_curSources","_$handleSubAny","_handleSubAny","_$endHandlers","_currentlyAdding","_add","toObs","_addToCur","_addToQueue","_removeOldest","_addAll","obss","_remove","_removeCur","_removeQueue","_subToEnd","_subscribe","onEndI","_pullQueue","_onEmpty","_isEmpty","Merge","_initialised","S$33","generator","_generator","_iteration","_getSource","concat$1","Pool","plug","unplug","FlatMap","_mainEnded","_lastCurrent","_$handleMain","_handleMain","_hadNoEvSinceDeact","sameCurr","FlatMapErrors","createConstructor$1","primary","secondary","_primary","_secondary","_lastSecondary","_$handleSecondaryAny","_handleSecondaryAny","_$handlePrimaryAny","_handlePrimaryAny","createClassMethods$1","_handlePrimaryValue","_handlePrimaryError","_handlePrimaryEnd","_handleSecondaryValue","_handleSecondaryError","_handleSecondaryEnd","_removeSecondary","createStream$1","createProperty$1","mixin$26","S$34","P$29","filterBy","id2","_","sampledBy","mixin$27","S$35","P$30","skipUntilBy","mixin$28","S$36","P$31","takeUntilBy","mixin$29","_ref$flushOnEnd","S$37","P$32","bufferBy","mixin$30","_ref$flushOnChange","flushOnChange","_flushOnChange","S$38","P$33","bufferWhileBy","awaiting","mixin$31","convert","S$39","P$34","defFn","valuesToErrors","mixin$32","S$40","P$35","defFn$1","errorsToValues","mixin$33","S$41","P$36","endOnError","bufferWithCount","other","flatMapLatest","flatMapFirst","flatMapConcat","flatMapConcurLimit","limit","flatMapErrors","DEPRECATION_WARNINGS","dissableDeprecationWarnings","msg","msg2","eventsPositionDiff","prevEvent","nextEvent","touches","clientX","clientY","applyMove","currentPosition","move","preventDefault","startDragging","timeout","cursor","userSelect","pos","top","left","mouseUps","mouseMoves","mouseDowns","moves","downEvent","rect","getBoundingClientRect","marginLeft","marginTop","position","stopDragging","draggableHostStyle","HandleBox","reattacher","detach","oldStyle","reattach","DetachedBox","parentSelector","stopSelector","retval","animate","fps","GraphContainer","attribute","onSlotchange","parentGraphContainer","xhtml","svg","xlink","xml","xmlns","namespaces","space","local","creatorInherit","uri","creatorFixed","fullname","vendorMatches","filterEvents","filterContextListener","group","contextListener","related","compareDocumentPosition","event1","event0","__data__","parseTypenames","typenames","onRemove","typename","on","__on","onAdd","each","none","select","groups","_groups","subgroups","subgroup","subnode","Selection","_parents","selectorAll","parents","_enter","sparse","EnterNode","datum","_next","_parent","keyPrefix","bindIndex","groupLength","dataLength","bindKey","nodeByKeyValue","keyValues","keyValue","enterGroup","updateGroup","exitGroup","i0","i1","_exit","selection","groups0","groups1","m0","m1","merges","group0","group1","compare","ascending","compareNode","sortgroups","sortgroup","sort","order","NaN","attrRemove","attrRemoveNS","removeAttributeNS","attrConstant","attrConstantNS","attrFunction","attrFunctionNS","getAttributeNS","defaultView","styleRemove","styleConstant","priority","styleFunction","propertyRemove","propertyConstant","propertyFunction","classArray","string","ClassList","_names","classedAdd","classedRemove","classedTrue","classedFalse","classedFunction","textRemove","textConstant","textFunction","htmlRemove","htmlConstant","htmlFunction","raise","lower","creator","constantNull","detail","dispatchConstant","dispatchFunction","selection_select","selectAll","selection_selectAll","selection_filter","selection_data","selection_enter","selection_exit","selection_merge","selection_order","selection_sort","selection_call","selection_nodes","selection_node","selection_size","selection_empty","selection_each","selection_attr","selection_style","selection_property","classed","selection_classed","selection_text","html","selection_html","selection_raise","selection_lower","append","selection_append","insert","selection_insert","selection_remove","selection_datum","selection_on","selection_dispatch","epsilon","sqrt3","sqrt","draw","moveTo","lineTo","closePath","point","that","_context","bezierCurveTo","_x0","_x1","_y0","_y1","Basis","areaStart","_line","areaEnd","lineStart","_point","lineEnd","Bundle","beta","_basis","_beta","_y","x0","y0","dx","dy","custom","bundle","_k","_x2","_y2","Cardinal","tension","cardinal","CardinalClosed","_x3","_x4","_x5","_y3","_y4","_y5","CardinalOpen","x1","y1","x2","y2","_l01_a","_l01_2a","_l12_a","_l12_2a","_l23_a","_l23_2a","CatmullRom","alpha","_alpha","x23","y23","pow","catmullRom","CatmullRomClosed","CatmullRomOpen","sign","slope3","h0","h1","s0","s1","abs","slope2","t0","t1","MonotoneX","_t0","MonotoneY","ReflectContext","Combinatorics","version","factorial","factoradic","floor","addProperties","dst","src","hideProperty","toArray","init","lazyMap","_lazyMap","lazyFilter","power","ary","fun","sizeOf","valueOf","nth","nextIndex","smallest","ripple","new_smallest","ones","combination","nelem","RangeError","first","maxIndex","bigNextIndex","buildFirst","bigCombination","_permutation","digits","permutation","cmb","per","PC","total","permutationCombination","arraySlice","cartesianProduct","dim","baseN","base","VERSION","Victor","fromArray","fromObject","addX","vec","addY","addScalar","scalar","addScalarX","addScalarY","subtractX","subtractY","subtract","subtractScalar","subtractScalarX","subtractScalarY","divideX","vector","divideY","divide","divideScalar","divideScalarX","divideScalarY","invertX","invertY","invert","multiplyX","multiplyY","multiply","multiplyScalar","multiplyScalarX","multiplyScalarY","normalize","norm","factor","randomize","topLeft","bottomRight","randomizeX","randomizeY","randomizeAny","round","unfloat","toFixed","precision","mixX","amount","mixY","mix","clone","copyX","copyY","zero","dot","vec2","cross","projectOnto","coeff","horizontalAngle","atan2","horizontalAngleDeg","radian2degrees","verticalAngle","verticalAngleDeg","angle","angleDeg","direction","rotate","nx","cos","sin","ny","rotateDeg","degrees2radian","rotateTo","rotation","rotateToDeg","rotateBy","rotateByDeg","distanceX","absDistanceX","distanceY","absDistanceY","distance","distanceSq","lengthSq","magnitude","isZero","isEqualTo","toObject","degrees","PI","rad","deg","X","Vec","center","R","width","height","pRad","theta","rW","rH","pXY","nearbyEdgePoints","r1","r2","p1","p2","margin","c1","c2","rad1","rad2","phi","edgePt1","edgePt2","rectCache","rectInViewport","cacheBoundingRect","bottom","innerHeight","clientHeight","right","innerWidth","clientWidth","drawEdge","ctx","edge","graph","R1","R2","pts","color","thickness","segments","setLineDash","strokeStyle","fillStyle","lineWidth","markerBuffer","lineBuffer","beginPath","save","translate","stroke","triangle","restore","fill","Number","isBigNumber","deepExtend","deepEqual","canDefineProperty","lazy","_uninitialized","_value","traverse","isFactory","typed","getTypeTest","getName","fns","signatures","actual","expected","createError","argCount","actualType","getTypeOf","_expected","anyType","Refs","categories","category","cat","toCode","Param","varArgs","_types","_varArgs","substr","conversions","hasConversions","ac","bc","ai","bi","overlapping","param","toConversion","conversion","to","Signature","_params","SyntaxError","expand","recurse","signature","newParam","cmp","ignore","paramsStartWith","aLast","bLast","refs","childs","fallThrough","comment","getTests","tests","allTypes","exactTypes","conversion_i","_innerCode","exceptions","_exceptions","parseSignatures","rawSignatures","expanded","signature_i","existing","filterAnyTypeSignatures","filtered","mapSignatures","normalized","parseTree","anys","nodeSignature","entries","matchingAnys","getArgs","_typed","_signatures","_args","maxParams","array","config","addType","addConversion","NumberFormatter","coefficients","exponent","parseFloat","zeros","toEngineering","rounded","roundDigits","newExp","significandsDiff","expDiff","decimalIdx","decimals","decimalVal","toExponential","toPrecision","upper","isNumber","isInteger","isFinite","format","Infinity","isNaN","notation","exponential","DBL_EPSILON","EPSILON","nearlyEqual","typedFunction","createTyped","isComplex","isFraction","isUnit","isMatrix","isDenseMatrix","isSparseMatrix","isImmutableDenseMatrix","isRange","isIndex","isResultSet","isHelp","BigNumber","Complex","toNumber","Fraction","DenseMatrix","matrix","E","off","evtArr","evts","liveEvents","Emitter","ArgumentsError","stack","isArgumentsError","load","math","math_import","num","_importFactory","isSupportedType","_import","silent","_wrap","isTypedFunction","override","_importTransform","resolver","expression","wrapper","MATRIX","NUMBER","_config","validateOption","curr","findIndex","JSON","typedFactory","importFactory","configFactory","factories","instances","number","predictable","gt","oldConfig","toExpNeg","toExpPos","LN10","gte","lt","toSignificantDigits","formatNumber","formatBigNumber","endsWith","search","fraction","formatArray","syntax","isScalar","DimensionError","relation","isDimensionError","IndexError","isIndexError","dimNext","validate","validateIndex","UNINITIALIZED","resize","defaultValue","_defaultValue","_resize","oldLen","newLen","minLen","squeeze","dims","_squeeze","ii","unsqueeze","outer","_unsqueeze","flat","isBoolean","memoize","hasher","hash","maxArgumentCount","util","Matrix","storage","_storage","datatype","subset","skipZeros","_data","_size","_datatype","preprocess","_get","_set","index_i","_fit","_getSubmatrix","range","dimension","submatrix","iSize","sSize","_setSubmatrix","dataIndex","subIndex","newSize","me","toJSON","mathjs","diagonal","kSuper","kSub","rows","columns","ms","fromJSON","json","swapRows","_swapRows","vi","dense","minus","lte","times","bigNearlyEqual","equalScalar","equalBase","SparseMatrix","_createFromMatrix","ptr","_values","_index","_ptr","_createFromArray","row","density","_getsubset","_setsubset","kk","mvalues","mindex","mptr","pv","_getValueIndex","_insert","ins","k0","k1","invoke","minRow","maxRow","minColumn","maxColumn","_toArray","_forEachRow","kx","ky","vx","vy","_create","toTex","plus","fixPrefix","Alpha","Beta","Gamma","gamma","Delta","delta","Epsilon","varepsilon","Zeta","zeta","Eta","eta","Theta","vartheta","Iota","iota","Kappa","kappa","varkappa","Lambda","lambda","Mu","mu","Nu","nu","Xi","xi","Omicron","omicron","Pi","pi","varpi","Rho","rho","varrho","Sigma","sigma","varsigma","Tau","tau","Upsilon","upsilon","Phi","varphi","Chi","chi","Psi","psi","Omega","omega","inf","Inf","infinity","oo","lim","operators","defaultTemplate","units","toSymbol","algorithm01","denseMatrix","sparseMatrix","inverse","adata","asize","adt","bvalues","bindex","bptr","bsize","bdt","dt","cf","cdata","mark","algorithm04","avalues","aindex","aptr","cvalues","cindex","cptr","xa","xb","wa","wb","algorithm10","algorithm13","bdata","csize","_iterate","av","bv","cv","algorithm14","latex","rest","Spa","_heap","FibonacciHeap","isSpa","accumulate","heap","extractMinimum","swap","nodei","nodej","algorithm03","z","algorithm07","_scatter","va","vb","algorithm12","smaller","larger","oneOverLogPhi","_minimum","isFibonacciHeap","degree","minimum","clear","isEmpty","numberOfChildren","tempRight","_findMinimumNode","_decreaseKey","_cut","_cascadingCut","_linkNodes","arraySize","numRoots","temp","ImmutableDenseMatrix","Index","ranges","_dimensions","_isScalar","_createImmutableMatrix","isObjectProperty","getObjectProperty","strings","dimensions","Range","step","nums","invalid","some","ceil","core","matrices","lastRenderTime","canvas","canvasContext","edgeData","edgeModifier","getNodes","animateCallback","refreshEdges","graphAllEdges","refreshAnimation","clearRect","edges","combos","getContext","EdgesAllPairs","adj","ascendingComparator","lo","hi","mid","ascendingBisect","bisector","Color","darker","brighter","reI","reN","reP","reHex3","reHex6","reRgbInteger","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","displayable","rgb","Rgb","rgbn","rgba","hsla","rgbConvert","opacity","Hsl","hslConvert","hsl","m2","hsl2rgb","deg2rad","rad2deg","Kn","Xn","Yn","Zn","t2","t3","labConvert","Lab","Hcl","rgb2xyz","xyz2lab","lab","lab2xyz","xyz2rgb","hclConvert","hcl","ED","EB","BC_DA","cubehelixConvert","Cubehelix","bl","cubehelix","cosh","sinh","linear","hue","nogamma","rgbGamma","colorRgb","cubehelixGamma","colorCubehelix","cubehelixLong","coefficient","formatDecimal","grouping","thousands","prefixExponent","formatDefault","formatRounded","formatPrefixAuto","re","specifier","FormatSpecifier","align","symbol","formatTypes","prefixes","identity","locale","formatGroup","currency","decimal","newFormat","formatSpecifier","formatType","maybeSuffix","valuePrefix","valueSuffix","valueNegative","charCodeAt","padding","formatPrefix","defaultLocale","formatLocale","newInterval","floori","offseti","field","date","d0","d1","setTime","every","millisecond","durationSecond","durationMinute","durationHour","durationDay","durationWeek","second","getUTCSeconds","minute","getMinutes","hour","getTimezoneOffset","getHours","day","setHours","setDate","getDate","weekday","getDay","sunday","monday","month","setMonth","getMonth","getFullYear","year","setFullYear","utcMinute","setUTCSeconds","getUTCMinutes","utcHour","setUTCMinutes","getUTCHours","utcDay","setUTCHours","setUTCDate","getUTCDate","utcWeekday","getUTCDay","utcSunday","utcMonday","utcMonth","setUTCMonth","getUTCMonth","getUTCFullYear","utcYear","setUTCFullYear","localDate","utcDate","UTC","newYear","locale_dateTime","dateTime","locale_date","locale_time","time","locale_periods","periods","locale_weekdays","days","locale_shortWeekdays","shortDays","locale_months","months","locale_shortMonths","shortMonths","periodRe","formatRe","periodLookup","formatLookup","weekdayRe","weekdayLookup","shortWeekdayRe","shortWeekdayLookup","monthRe","monthLookup","shortMonthRe","shortMonthLookup","formats","formatShortWeekday","formatWeekday","formatShortMonth","formatMonth","formatDayOfMonth","formatHour24","formatHour12","formatDayOfYear","formatMilliseconds","formatMonthNumber","formatMinutes","formatPeriod","formatSeconds","formatWeekNumberSunday","formatWeekdayNumber","formatWeekNumberMonday","formatYear","formatFullYear","formatZone","formatLiteralPercent","utcFormats","formatUTCShortWeekday","formatUTCWeekday","formatUTCShortMonth","formatUTCMonth","formatUTCDayOfMonth","formatUTCHour24","formatUTCHour12","formatUTCDayOfYear","formatUTCMilliseconds","formatUTCMonthNumber","formatUTCMinutes","formatUTCPeriod","formatUTCSeconds","formatUTCWeekNumberSunday","formatUTCWeekdayNumber","formatUTCWeekNumberMonday","formatUTCYear","formatUTCFullYear","formatUTCZone","parses","parseShortWeekday","parseWeekday","parseShortMonth","parseMonth","parseLocaleDateTime","parseDayOfMonth","parseHour24","parseDayOfYear","parseMilliseconds","parseMonthNumber","parseMinutes","parsePeriod","parseSeconds","parseWeekNumberSunday","parseWeekdayNumber","parseWeekNumberMonday","parseLocaleDate","parseLocaleTime","parseYear","parseFullYear","parseZone","parseLiteralPercent","pad","pads","charAt","newParse","newDate","parseSpecifier","W","U","Z","utcFormat","utcParse","numberRe","percentRe","requoteRe","requote","timeDay","timeYear","getMilliseconds","getSeconds","timeSunday","timeMonday","getUTCMilliseconds","timeFormat","timeParse","isoSpecifier","formatIsoNative","toISOString","formatIso","parseIsoNative","parseIso","colors","interpolateCubehelixLong","warm","cool","rainbow","ts","ramp","magma","inferno","plasma","FloydWarshall","adjacencyMatrix","blankFiller","distMatrix","_initializeDistanceMatrix","direct","detour","dist","repeatAry","interpolateRainbow","parseHops","hops","modifier","hopMatrix","shortestPaths","hop","includes","updateHops","originalEdgeSets","edgeElem","newVal","puppyStyle"],"mappings":"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"}